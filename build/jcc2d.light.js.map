{"version":3,"file":"jcc2d.light.js","sources":["../src/lottie-core/utils/tools.js","../src/utils/Raf.js","../src/lottie-core/utils/Eventer.js","../src/lottie-core/register/LayerRegister.js","../src/lottie-core/register/LoaderRegister.js","../src/lottie-core/utils/DataManager.js","../src/lottie-core/utils/lib/BezierEasing.js","../src/lottie-core/utils/lib/BezierEaser.js","../src/lottie-core/utils/helpers/arrays.js","../src/lottie-core/utils/pooling/PoolFactory.js","../src/lottie-core/utils/pooling/pooling.js","../src/lottie-core/utils/pooling/PointPool.js","../src/lottie-core/utils/shapes/ShapePath.js","../src/lottie-core/utils/pooling/ShapePool.js","../src/lottie-core/utils/shapes/ShapeCollection.js","../src/lottie-core/utils/pooling/ShapeCollectionPool.js","../src/lottie-core/utils/helpers/dynamicProperties.js","../src/lottie-core/utils/pooling/BezierLengthPool.js","../src/lottie-core/utils/pooling/SegmentsLengthPool.js","../src/lottie-core/utils/bez.js","../src/lottie-core/constant/index.js","../src/lottie-core/utils/expression/Expression.js","../src/lottie-core/utils/PropertyFactory.js","../src/lottie-core/utils/shapes/ShapeProperty.js","../src/lottie-core/utils/lib/transformation-matrix.js","../src/lottie-core/keyframes/MaskFrames.js","../src/lottie-core/keyframes/helpers/ProcessedElement.js","../src/lottie-core/keyframes/helpers/ShapeTransformManager.js","../src/lottie-core/keyframes/helpers/ShapeData.js","../src/lottie-core/register/DisplayRegister.js","../src/lottie-core/keyframes/helpers/PathPaint.js","../src/lottie-core/utils/TransformProperty.js","../src/lottie-core/utils/shapes/ShapeModifier.js","../src/lottie-core/utils/shapes/TrimModifier.js","../src/lottie-core/utils/shapes/RoundCornersModifier.js","../src/lottie-core/utils/shapes/RepeaterModifier.js","../src/lottie-core/utils/shapes/MouseModifier.js","../src/lottie-core/utils/shapes/ShapeModifiers.js","../src/utils/Tween.js","../src/lottie-core/utils/shapes/DashProperty.js","../src/lottie-core/utils/shapes/GradientProperty.js","../src/lottie-core/keyframes/ShapesFrames.js","../src/lottie-core/keyframes/TransformFrames.js","../src/lottie-core/keyframes/KeyframesManager.js","../src/lottie-core/elements/BaseElement.js","../src/lottie-core/elements/CompElement.js","../src/lottie-core/elements/SolidElement.js","../src/lottie-core/elements/SpriteElement.js","../src/lottie-core/elements/ShapeElement.js","../src/lottie-core/elements/NullElement.js","../src/lottie-core/AnimationGroup.js","../src/lottie-core/AnimationManager.js","../src/eventer/Eventer.js","../src/utils/Utils.js","../src/animation/Animate.js","../src/animation/Transition.js","../src/math/Curve.js","../src/math/Point.js","../src/animation/PathMotion.js","../src/animation/Bodymovin.js","../src/animation/Queues.js","../src/animation/Animation.js","../src/utils/Loader.js","../src/utils/Ticker.js","../src/math/Rectangle.js","../src/math/Bounds.js","../src/math/Polygon.js","../src/math/Circle.js","../src/math/Ellipse.js","../src/math/Matrix.js","../src/math/SvgCurve.js","../src/core/DisplayObject.js","../src/core/Container.js","../src/animation/MovieClip.js","../src/core/Sprite.js","../src/filters/FrameBuffer.js","../src/core/Graphics.js","../src/core/TextFace.js","../src/core/Scene.js","../src/eventer/InteractionData.js","../src/eventer/InteractionEvent.js","../src/eventer/InteractionTrackingData.js","../src/eventer/InteractionManager.js","../src/core/Renderer.js","../src/core/Application.js","../src/lottie-displays/core/GraphicsMask.js","../src/lottie-displays/core/CompElement.js","../src/lottie-displays/core/PathPrimitive.js","../src/lottie-displays/core/SolidElement.js","../src/lottie-displays/core/SpriteElement.js","../src/lottie-displays/index.js"],"sourcesContent":["/**\n * get the type by Object.prototype.toString\n * @ignore\n * @param {*} val\n * @return {String} type string value\n */\nfunction _rt(val) {\n  return Object.prototype.toString.call(val);\n}\n\n/**\n * some useful toolkit\n * @namespace\n */\nconst Tools = {\n  /**\n   * simple copy a json data\n   * @method\n   * @param {JSON} json source data\n   * @return {JSON} object\n   */\n  copyJSON: function(json) {\n    return JSON.parse(JSON.stringify(json));\n  },\n\n  /**\n   * detect the variable is array type\n   * @method\n   * @param {Array} variable input variable\n   * @return {Boolean} result\n   */\n  isArray: (function() {\n    let ks = _rt([]);\n    return function(variable) {\n      return _rt(variable) === ks;\n    };\n  })(),\n\n  /**\n   * detect the variable is string type\n   * @method\n   * @param {String} variable input variable\n   * @return {Boolean} result\n   */\n  isString: (function() {\n    let ks = _rt('s');\n    return function(variable) {\n      return _rt(variable) === ks;\n    };\n  })(),\n\n  /**\n   * detect the variable is number type\n   * @method\n   * @param {Number} variable input variable\n   * @return {Boolean} result\n   */\n  isNumber: (function() {\n    let ks = _rt(1);\n    return function(variable) {\n      return _rt(variable) === ks;\n    };\n  })(),\n\n  /**\n   * 判断变量是否为函数类型\n   * @method\n   * @param {Function} variable 待判断的变量\n   * @return {Boolean} 判断的结果\n   */\n  isFunction: (function() {\n    let ks = _rt(function() {});\n    return function(variable) {\n      return _rt(variable) === ks;\n    };\n  })(),\n\n  /**\n   * 判断变量是否为undefined\n   * @method\n   * @param {Function} variable 待判断的变量\n   * @return {Boolean} 判断的结果\n   */\n  isUndefined: function(variable) {\n    return typeof variable === 'undefined';\n  },\n\n  /**\n   * detect the variable is boolean type\n   * @method\n   * @param {Boolean} variable input variable\n   * @return {Boolean} result\n   */\n  isBoolean: (function() {\n    let ks = _rt(true);\n    return function(variable) {\n      return _rt(variable) === ks;\n    };\n  })(),\n\n  /**\n   * detect the variable is object type\n   * @method\n   * @param {Object} variable input variable\n   * @return {Boolean} result\n   */\n  isObject: (function() {\n    let ks = _rt({});\n    return function(variable) {\n      return _rt(variable) === ks;\n    };\n  })(),\n\n  /**\n   * euclidean modulo\n   * @method\n   * @param {Number} n input value\n   * @param {Number} m modulo\n   * @return {Number} re-map to modulo area\n   */\n  euclideanModulo: function(n, m) {\n    return ((n % m) + m) % m;\n  },\n\n  /**\n   * bounce value when value spill codomain\n   * @method\n   * @param {Number} n input value\n   * @param {Number} min lower boundary\n   * @param {Number} max upper boundary\n   * @return {Number} bounce back to boundary area\n   */\n  codomainBounce: function(n, min, max) {\n    if (n < min) return 2 * min - n;\n    if (n > max) return 2 * max - n;\n    return n;\n  },\n\n  /**\n   * clamp a value in range\n   * @method\n   * @param {Number} x input value\n   * @param {Number} a lower boundary\n   * @param {Number} b upper boundary\n   * @return {Number} clamp in range\n   */\n  clamp: function(x, a, b) {\n    return (x < a) ? a : ((x > b) ? b : x);\n  },\n\n  /**\n   * detect number was in [min, max]\n   * @method\n   * @param {number} v   value\n   * @param {number} min lower\n   * @param {number} max upper\n   * @return {boolean} in [min, max] range ?\n   */\n  inRange(v, min, max) {\n    return v >= min && v <= max;\n  },\n\n  /**\n   * get assets from keyframes assets\n   * @method\n   * @param {string} id assets refid\n   * @param {object} assets assets object\n   * @return {object} asset object\n   */\n  getAssets(id, assets) {\n    for (let i = 0; i < assets.length; i++) {\n      if (id === assets[i].id) return assets[i];\n    }\n    console.error('have not assets name as', id);\n    return {};\n  },\n\n  /**\n   * get hex number from rgb array\n   * @param {array} rgb rgb array\n   * @return {number}\n   */\n  rgb2hex(rgb) {\n    return ((rgb[0] << 16) + (rgb[1] << 8) + (rgb[2] | 0));\n  },\n};\n\nexport default Tools;\n","(function() {\n  let lastTime = 0;\n  let vendors = ['ms', 'moz', 'webkit', 'o'];\n  for (let x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] ||\n            window[vendors[x] + 'CancelRequestAnimationFrame'];\n  }\n\n  if (!window.requestAnimationFrame) {\n    window.requestAnimationFrame = function(callback) {\n      let currTime = new Date().getTime();\n      let timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      let id = window.setTimeout(function() {\n        callback(currTime + timeToCall);\n      }, timeToCall);\n      lastTime = currTime + timeToCall;\n      return id;\n    };\n  }\n\n  if (!window.cancelAnimationFrame) {\n    window.cancelAnimationFrame = function(id) {\n      clearTimeout(id);\n    };\n  }\n\n  window.RAF = window.requestAnimationFrame;\n  window.CAF = window.cancelAnimationFrame;\n})();\n","import Tools from './tools';\n\n/**\n * a\n */\nexport default class Eventer {\n  /**\n   * a\n   */\n  constructor() {\n    /**\n     * 事件监听列表\n     *\n     * @member {Object}\n     * @private\n     */\n    this.listeners = {};\n  }\n\n  /**\n   * 事件对象的事件绑定函数\n   *\n   * @param {String} type 事件类型\n   * @param {Function} fn 回调函数\n   * @return {this}\n   */\n  on(type, fn) {\n    if (!Tools.isFunction(fn)) return this;\n    if (Tools.isUndefined(this.listeners[type])) this.listeners[type] = [];\n    this.listeners[type].push(fn);\n    return this;\n  }\n\n  /**\n   * 事件对象的事件解绑函数\n   *\n   * @param {String} type 事件类型\n   * @param {Function} fn 注册时回调函数的引用\n   * @return {this}\n   */\n  off(type, fn) {\n    if (Tools.isUndefined(this.listeners[type])) return this;\n    const cbs = this.listeners[type];\n    let i = cbs.length;\n    if (i > 0) {\n      if (fn) {\n        while (i--) {\n          if (cbs[i] === fn) {\n            cbs.splice(i, 1);\n          }\n        }\n      } else {\n        cbs.length = 0;\n      }\n    }\n    return this;\n  }\n\n  /**\n   * 事件对象的一次性事件绑定函数\n   *\n   * @param {String} type 事件类型\n   * @param {Function} fn 回调函数\n   * @return {this}\n   */\n  once(type, fn) {\n    if (!Tools.isFunction(fn)) return this;\n    const cb = (ev) => {\n      fn(ev);\n      this.off(type, cb);\n    };\n    this.on(type, cb);\n    return this;\n  }\n\n  /**\n   * 事件对象的触发事件函数\n   *\n   * @param {String} type 事件类型\n   * @param {Object} ev 事件数据\n   * @return {this}\n   */\n  emit(type, ...reset) {\n    if (Tools.isUndefined(this.listeners[type])) return this;\n    const cbs = this.listeners[type] || [];\n    const cache = cbs.slice(0);\n    for (let i = 0; i < cache.length; i++) {\n      cache[i].apply(this, reset);\n    }\n    return this;\n  }\n}\n","\n/**\n * register class\n * @class\n * @private\n */\nclass Register {\n  /**\n   * register\n   */\n  constructor() {\n    this.layers = {};\n    // this._forever = false;\n  }\n\n  /**\n   * registe layer\n   * @private\n   * @param {string} name layer name path\n   * @param {object} layer layer object\n   */\n  setLayer(name, layer) {\n    if (!name) return;\n    if (this.layers[name]) console.warn('动画层命名冲突', name);\n    this.layers[name] = layer;\n  }\n\n  // /**\n  //  * registe layer\n  //  * @private\n  //  */\n  // forever() {\n  //   if (this._forever) return;\n  //   this._forever = true;\n  // }\n\n  /**\n   * get layer by name path\n   * @param {string} name layer name path, example: root.gift.star1\n   * @return {object}\n   */\n  getLayer(name) {\n    return this.layers[name];\n  }\n}\n\nexport default Register;\n","\nlet LoaderClass = null;\n\n/**\n * register an image loader\n * @param {*} _LoaderClass a\n */\nfunction registerLoader(_LoaderClass) {\n  LoaderClass = _LoaderClass;\n}\n\n/**\n * a\n * @return {Loader}\n */\nfunction getLoader() {\n  if (!LoaderClass) {\n    console.warn('must register an image loader, before you parse an animation');\n  }\n  return LoaderClass;\n}\n\nexport default {registerLoader, getLoader};\n","/**\n * complete layers\n * @param {*} layers\n * @param {*} comps\n * @param {*} fontManager\n */\nfunction completeLayers(layers, comps, fontManager) {\n  let layerData;\n  // let animArray; let lastFrame;\n  let i; let len = layers.length;\n  let j; let jLen; let k; let kLen;\n  for (i=0; i<len; i+=1) {\n    layerData = layers[i];\n    if (!('ks' in layerData) || layerData.completed) {\n      continue;\n    }\n    layerData.completed = true;\n    if (layerData.tt) {\n      layers[i-1].td = layerData.tt;\n    }\n    // animArray = [];\n    // lastFrame = -1;\n    if (layerData.hasMask) {\n      let maskProps = layerData.masksProperties;\n      jLen = maskProps.length;\n      for (j=0; j<jLen; j+=1) {\n        if (maskProps[j].pt.k.i) {\n          convertPathsToAbsoluteValues(maskProps[j].pt.k);\n        } else {\n          kLen = maskProps[j].pt.k.length;\n          for (k=0; k<kLen; k+=1) {\n            if (maskProps[j].pt.k[k].s) {\n              convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\n            }\n            if (maskProps[j].pt.k[k].e) {\n              convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\n            }\n          }\n        }\n      }\n    }\n    if (layerData.ty===0) {\n      layerData.layers = findCompLayers(layerData.refId, comps);\n      completeLayers(layerData.layers, comps, fontManager);\n    } else if (layerData.ty === 4) {\n      completeShapes(layerData.shapes);\n    } else if (layerData.ty == 5) {\n      completeText(layerData, fontManager);\n    }\n  }\n}\n\n/**\n * findComp Layers\n * @param {*} id layer id\n * @param {*} comps comps\n * @return {Array}\n */\nfunction findCompLayers(id, comps) {\n  let i = 0; let len = comps.length;\n  while (i<len) {\n    if (comps[i].id === id) {\n      if (!comps[i].layers.__used) {\n        comps[i].layers.__used = true;\n        return comps[i].layers;\n      }\n      return JSON.parse(JSON.stringify(comps[i].layers));\n    }\n    i += 1;\n  }\n}\n\n/**\n * completeShapes\n * @param {*} arr shapes\n */\nfunction completeShapes(arr) {\n  let i; let len = arr.length;\n  let j; let jLen;\n  // let hasPaths = false;\n  for (i=len-1; i>=0; i-=1) {\n    if (arr[i].ty == 'sh') {\n      if (arr[i].ks.k.i) {\n        convertPathsToAbsoluteValues(arr[i].ks.k);\n      } else {\n        jLen = arr[i].ks.k.length;\n        for (j=0; j<jLen; j+=1) {\n          if (arr[i].ks.k[j].s) {\n            convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\n          }\n          if (arr[i].ks.k[j].e) {\n            convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\n          }\n        }\n      }\n      // hasPaths = true;\n    } else if (arr[i].ty == 'gr') {\n      completeShapes(arr[i].it);\n    }\n  }\n  /* if(hasPaths){\n            //mx: distance\n            //ss: sensitivity\n            //dc: decay\n            arr.splice(arr.length-1,0,{\n                \"ty\": \"ms\",\n                \"mx\":20,\n                \"ss\":10,\n                 \"dc\":0.001,\n                \"maxDist\":200\n            });\n        }*/\n}\n\n/**\n * convert relative position to absolute\n * @param {path} path path data\n */\nfunction convertPathsToAbsoluteValues(path) {\n  let i; let len = path.i.length;\n  for (i=0; i<len; i+=1) {\n    path.i[i][0] += path.v[i][0];\n    path.i[i][1] += path.v[i][1];\n    path.o[i][0] += path.v[i][0];\n    path.o[i][1] += path.v[i][1];\n  }\n}\n\n/**\n * checkVersion\n * @param {*} minimum minimum version\n * @param {*} animVersionString animate data version\n * @return {Boolean}\n */\nfunction checkVersion(minimum, animVersionString) {\n  let animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\n  if (minimum[0]>animVersion[0]) {\n    return true;\n  } else if (animVersion[0] > minimum[0]) {\n    return false;\n  }\n  if (minimum[1]>animVersion[1]) {\n    return true;\n  } else if (animVersion[1] > minimum[1]) {\n    return false;\n  }\n  if (minimum[2]>animVersion[2]) {\n    return true;\n  } else if (animVersion[2] > minimum[2]) {\n    return false;\n  }\n}\n\nlet checkText = (function() {\n  let minimumVersion = [4, 4, 14];\n\n  /**\n   * updateTextLayer\n   * @param {*} textLayer textLayer\n   */\n  function updateTextLayer(textLayer) {\n    let documentData = textLayer.t.d;\n    textLayer.t.d = {\n      k: [\n        {\n          s: documentData,\n          t: 0,\n        },\n      ],\n    };\n  }\n\n  /**\n   * iterateLayers\n   * @param {*} layers layers\n   */\n  function iterateLayers(layers) {\n    let i; let len = layers.length;\n    for (i=0; i<len; i+=1) {\n      if (layers[i].ty === 5) {\n        updateTextLayer(layers[i]);\n      }\n    }\n  }\n\n  return function(animationData) {\n    if (checkVersion(minimumVersion, animationData.v)) {\n      iterateLayers(animationData.layers);\n      if (animationData.assets) {\n        let i; let len = animationData.assets.length;\n        for (i=0; i<len; i+=1) {\n          if (animationData.assets[i].layers) {\n            iterateLayers(animationData.assets[i].layers);\n          }\n        }\n      }\n    }\n  };\n}());\n\nlet checkChars = (function() {\n  let minimumVersion = [4, 7, 99];\n  return function(animationData) {\n    if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\n      let i; let len = animationData.chars.length; let j; let jLen;// let k; let kLen;\n      let pathData; let paths;\n      for (i = 0; i < len; i += 1) {\n        if (animationData.chars[i].data && animationData.chars[i].data.shapes) {\n          paths = animationData.chars[i].data.shapes[0].it;\n          jLen = paths.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            pathData = paths[j].ks.k;\n            if (!pathData.__converted) {\n              convertPathsToAbsoluteValues(paths[j].ks.k);\n              pathData.__converted = true;\n            }\n          }\n        }\n      }\n    }\n  };\n}());\n\nlet checkColors = (function() {\n  let minimumVersion = [4, 1, 9];\n\n  /**\n   * iterateShapes\n   * @param {*} shapes shapes\n   */\n  function iterateShapes(shapes) {\n    let i; let len = shapes.length;\n    let j; let jLen;\n    for (i=0; i<len; i+=1) {\n      if (shapes[i].ty === 'gr') {\n        iterateShapes(shapes[i].it);\n      } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\n        if (shapes[i].c.k && shapes[i].c.k[0].i) {\n          jLen = shapes[i].c.k.length;\n          for (j=0; j<jLen; j+=1) {\n            if (shapes[i].c.k[j].s) {\n              shapes[i].c.k[j].s[0] /= 255;\n              shapes[i].c.k[j].s[1] /= 255;\n              shapes[i].c.k[j].s[2] /= 255;\n              shapes[i].c.k[j].s[3] /= 255;\n            }\n            if (shapes[i].c.k[j].e) {\n              shapes[i].c.k[j].e[0] /= 255;\n              shapes[i].c.k[j].e[1] /= 255;\n              shapes[i].c.k[j].e[2] /= 255;\n              shapes[i].c.k[j].e[3] /= 255;\n            }\n          }\n        } else {\n          shapes[i].c.k[0] /= 255;\n          shapes[i].c.k[1] /= 255;\n          shapes[i].c.k[2] /= 255;\n          shapes[i].c.k[3] /= 255;\n        }\n      }\n    }\n  }\n\n  /**\n   * iterateLayers\n   * @param {*} layers layers\n   */\n  function iterateLayers(layers) {\n    let i; let len = layers.length;\n    for (i=0; i<len; i+=1) {\n      if (layers[i].ty === 4) {\n        iterateShapes(layers[i].shapes);\n      }\n    }\n  }\n\n  return function(animationData) {\n    if (checkVersion(minimumVersion, animationData.v)) {\n      iterateLayers(animationData.layers);\n      if (animationData.assets) {\n        let i; let len = animationData.assets.length;\n        for (i=0; i<len; i+=1) {\n          if (animationData.assets[i].layers) {\n            iterateLayers(animationData.assets[i].layers);\n          }\n        }\n      }\n    }\n  };\n}());\n\nlet checkShapes = (function() {\n  let minimumVersion = [4, 4, 18];\n\n  /**\n   * completeShapes\n   * @param {*} arr arr\n   */\n  function completeShapes(arr) {\n    let i; let len = arr.length;\n    let j; let jLen;\n    // let hasPaths = false;\n    for (i=len-1; i>=0; i-=1) {\n      if (arr[i].ty == 'sh') {\n        if (arr[i].ks.k.i) {\n          arr[i].ks.k.c = arr[i].closed;\n        } else {\n          jLen = arr[i].ks.k.length;\n          for (j=0; j<jLen; j+=1) {\n            if (arr[i].ks.k[j].s) {\n              arr[i].ks.k[j].s[0].c = arr[i].closed;\n            }\n            if (arr[i].ks.k[j].e) {\n              arr[i].ks.k[j].e[0].c = arr[i].closed;\n            }\n          }\n        }\n        // hasPaths = true;\n      } else if (arr[i].ty == 'gr') {\n        completeShapes(arr[i].it);\n      }\n    }\n  }\n\n  /**\n   * iterateLayers\n   * @param {*} layers layers\n   */\n  function iterateLayers(layers) {\n    let layerData;\n    let i; let len = layers.length;\n    let j; let jLen; let k; let kLen;\n    for (i=0; i<len; i+=1) {\n      layerData = layers[i];\n      if (layerData.hasMask) {\n        let maskProps = layerData.masksProperties;\n        jLen = maskProps.length;\n        for (j=0; j<jLen; j+=1) {\n          if (maskProps[j].pt.k.i) {\n            maskProps[j].pt.k.c = maskProps[j].cl;\n          } else {\n            kLen = maskProps[j].pt.k.length;\n            for (k=0; k<kLen; k+=1) {\n              if (maskProps[j].pt.k[k].s) {\n                maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\n              }\n              if (maskProps[j].pt.k[k].e) {\n                maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\n              }\n            }\n          }\n        }\n      }\n      if (layerData.ty === 4) {\n        completeShapes(layerData.shapes);\n      }\n    }\n  }\n\n  return function(animationData) {\n    if (checkVersion(minimumVersion, animationData.v)) {\n      iterateLayers(animationData.layers);\n      if (animationData.assets) {\n        let i; let len = animationData.assets.length;\n        for (i=0; i<len; i+=1) {\n          if (animationData.assets[i].layers) {\n            iterateLayers(animationData.assets[i].layers);\n          }\n        }\n      }\n    }\n  };\n}());\n\n/**\n * completeData\n * @param {*} animationData animationData\n * @param {*} fontManager fontManager\n */\nfunction completeData(animationData, fontManager) {\n  if (animationData.__complete) {\n    return;\n  }\n  checkColors(animationData);\n  checkText(animationData);\n  checkChars(animationData);\n  checkShapes(animationData);\n  completeLayers(animationData.layers, animationData.assets, fontManager);\n  animationData.__complete = true;\n  // blitAnimation(animationData, animationData.assets, fontManager);\n}\n\n/**\n * completeText\n * @param {*} data data\n * @param {*} fontManager fontManager\n */\nfunction completeText(data, fontManager) {\n  if (data.t.a.length === 0 && !('m' in data.t.p)) {\n    data.singleShape = true;\n  }\n}\n\nexport default {\n  completeData,\n  checkColors,\n  checkChars,\n  checkShapes,\n  completeLayers,\n};\n","/**\n * https://github.com/gre/bezier-easing\n * BezierEasing - use bezier curve for transition easing function\n * by Gaëtan Renaudeau 2014 - 2015 – MIT License\n */\n\nconst NEWTON_ITERATIONS = 4;\nconst NEWTON_MIN_SLOPE = 0.001;\nconst SUBDIVISION_PRECISION = 0.0000001;\nconst SUBDIVISION_MAX_ITERATIONS = 10;\n\n\nlet kSplineTableSize = 11;\nlet kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nlet float32ArraySupported = typeof Float32Array === 'function';\n\n/* eslint new-cap: 0 */\n\n/**\n * 公因式A\n *\n * @param {number} aA1 控制分量\n * @param {number} aA2 控制分量\n * @return {number} 整个公式中的A公因式的值\n */\nfunction A(aA1, aA2) {\n  return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n}\n\n/**\n * 公因式B\n *\n * @param {number} aA1 控制分量1\n * @param {number} aA2 控制分量2\n * @return {number} 整个公式中的B公因式的值\n */\nfunction B(aA1, aA2) {\n  return 3.0 * aA2 - 6.0 * aA1;\n}\n\n/**\n * 公因式C\n *\n * @param {number} aA1 控制分量1\n * @param {number} aA2 控制分量2\n * @return {number} 整个公式中的C公因式的值\n */\nfunction C(aA1) {\n  return 3.0 * aA1;\n}\n\n/**\n * 获取aT处的值\n *\n * @param {number} aT 三次贝塞尔曲线的t自变量\n * @param {number} aA1 控制分量1\n * @param {number} aA2 控制分量2\n * @return {number} 三次贝塞尔公式的因变量\n */\nfunction calcBezier(aT, aA1, aA2) {\n  return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n}\n\n/**\n * 获取aT处的斜率\n * @param {number} aT 三次贝塞尔曲线的t自变量\n * @param {number} aA1 控制分量1\n * @param {number} aA2 控制分量2\n * @return {number} 三次贝塞尔公式的导数\n */\nfunction getSlope(aT, aA1, aA2) {\n  return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n}\n\n/**\n *\n * @param {number} aX\n * @param {number} aA\n * @param {number} aB\n * @param {number} mX1\n * @param {number} mX2\n * @return {number} 二分法猜测t的值\n */\nfunction binarySubdivide(aX, aA, aB, mX1, mX2) {\n  let currentX;\n  let currentT;\n  let i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (\n    Math.abs(currentX) > SUBDIVISION_PRECISION\n    &&\n    ++i < SUBDIVISION_MAX_ITERATIONS\n  );\n  return currentT;\n}\n\n/**\n * 牛顿迭代算法，进一步的获取精确的T值\n * @param {number} aX\n * @param {number} aGuessT\n * @param {number} mX1\n * @param {number} mX2\n * @return {number} 获取更精确的T值\n */\nfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n  for (let i = 0; i < NEWTON_ITERATIONS; ++i) {\n    let currentSlope = getSlope(aGuessT, mX1, mX2);\n    if (currentSlope === 0.0) {\n      return aGuessT;\n    }\n    let currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n    aGuessT -= currentX / currentSlope;\n  }\n  return aGuessT;\n}\n\n/**\n * cubic-bezier曲线的两个控制点，默认起始点为 0，结束点为 1\n *\n * @class\n * @param {number} mX1 控制点1的x分量\n * @param {number} mY1 控制点1的y分量\n * @param {number} mX2 控制点2的x分量\n * @param {number} mY2 控制点2的y分量\n */\nfunction BezierEasing(mX1, mY1, mX2, mY2) {\n  if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\n    throw new Error('bezier x values must be in [0, 1] range');\n  }\n  this.mX1 = mX1;\n  this.mY1 = mY1;\n  this.mX2 = mX2;\n  this.mY2 = mY2;\n  this.sampleValues = float32ArraySupported ?\n    new Float32Array(kSplineTableSize):\n    new Array(kSplineTableSize);\n\n  this._preCompute();\n\n  this.get = this.get.bind(this);\n}\n\nBezierEasing.prototype._preCompute = function() {\n  // Precompute samples table\n  if (this.mX1 !== this.mY1 || this.mX2 !== this.mY2) {\n    for (let i = 0; i < kSplineTableSize; ++i) {\n      this.sampleValues[i] = calcBezier(i * kSampleStepSize, this.mX1, this.mX2);\n    }\n  }\n};\n\nBezierEasing.prototype._getTForX = function(aX) {\n  let intervalStart = 0.0;\n  let currentSample = 1;\n  let lastSample = kSplineTableSize - 1;\n\n  for (\n    ;\n    currentSample !== lastSample && this.sampleValues[currentSample] <= aX;\n    ++currentSample\n  ) {\n    intervalStart += kSampleStepSize;\n  }\n  --currentSample;\n\n  // Interpolate to provide an initial guess for t\n  let dist = (aX - this.sampleValues[currentSample]) /\n  (this.sampleValues[currentSample + 1] - this.sampleValues[currentSample]);\n  let guessForT = intervalStart + dist * kSampleStepSize;\n\n  let initialSlope = getSlope(guessForT, this.mX1, this.mX2);\n  if (initialSlope >= NEWTON_MIN_SLOPE) {\n    return newtonRaphsonIterate(aX, guessForT, this.mX1, this.mX2);\n  } else if (initialSlope === 0.0) {\n    return guessForT;\n  } else {\n    return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, this.mX1, this.mX2);\n  }\n};\n\n/**\n * 通过x轴近似获取y的值\n *\n * @param {number} x x轴的偏移量\n * @return {number} y 与输入值x对应的y值\n */\nBezierEasing.prototype.get = function(x) {\n  if (this.mX1 === this.mY1 && this.mX2 === this.mY2) return x;\n  if (x === 0) {\n    return 0;\n  }\n  if (x === 1) {\n    return 1;\n  }\n  return calcBezier(this._getTForX(x), this.mY1, this.mY2);\n};\n\nexport default BezierEasing;\n\n","import BezierEasing from './BezierEasing';\n\nconst beziers = {};\n\n/**\n * get a bezierEasing from real time or cache\n * @param {*} a in control point x component\n * @param {*} b in control point y component\n * @param {*} c out control point x component\n * @param {*} d out control point y component\n * @param {*} [nm] curver name\n * @return {BezierEasing}\n */\nfunction getBezierEasing(a, b, c, d, nm) {\n  const str = nm || ('bez_' + a+'_'+b+'_'+c+'_'+d).replace(/\\./g, 'p');\n  if (beziers[str]) {\n    return beziers[str];\n  }\n  const bezEasing = new BezierEasing(a, b, c, d);\n  beziers[str] = bezEasing;\n  return bezEasing;\n}\n\nexport default {getBezierEasing};\n","\n/**\n * a\n * @param {*} type a\n * @param {*} len a\n * @return {*}\n */\nfunction createRegularArray(type, len) {\n  let i = 0;\n  const arr = [];\n  let value;\n  switch (type) {\n  case 'int16':\n  case 'uint8c':\n    value = 1;\n    break;\n  default:\n    value = 1.1;\n    break;\n  }\n  for (i = 0; i < len; i += 1) {\n    arr.push(value);\n  }\n  return arr;\n}\n\n/**\n * a\n * @param {*} type a\n * @param {*} len a\n * @return {*}\n */\nfunction _createTypedArray(type, len) {\n  if (type === 'float32') {\n    return new Float32Array(len);\n  } else if (type === 'int16') {\n    return new Int16Array(len);\n  } else if (type === 'uint8c') {\n    return new Uint8ClampedArray(len);\n  }\n}\n\nlet createTypedArray;\n//  = createTypedArray\nif (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\n  createTypedArray = _createTypedArray;\n} else {\n  createTypedArray = createRegularArray;\n}\n\n/**\n * a\n * @param {*} len a\n * @return {*}\n */\nfunction createSizedArray(len) {\n  return new Array(len);\n}\n\nexport {createTypedArray, createSizedArray};\n","import {createSizedArray} from '../helpers/arrays';\nimport pooling from './pooling';\n\nconst PoolFactory = function(initialLength, _create, _release) {\n  let _length = 0;\n  let _maxLength = initialLength;\n  let pool = createSizedArray(_maxLength);\n\n  const ob = {\n    newElement: newElement,\n    release: release,\n  };\n\n  /**\n   * a\n   * @return {*}\n   */\n  function newElement() {\n    let element;\n    if (_length) {\n      _length -= 1;\n      element = pool[_length];\n    } else {\n      element = _create();\n    }\n    return element;\n  }\n\n  /**\n   * a\n   * @param {*} element a\n   */\n  function release(element) {\n    if (_length === _maxLength) {\n      pool = pooling.double(pool);\n      _maxLength = _maxLength*2;\n    }\n    if (_release) {\n      _release(element);\n    }\n    pool[_length] = element;\n    _length += 1;\n  }\n\n  /**\n   * @return {*}\n   */\n  // function clone() {\n  //   var clonedElement = newElement();\n  //   return _clone(clonedElement);\n  // }\n\n  return ob;\n};\n\nexport default PoolFactory;\n","import {createSizedArray} from '../helpers/arrays';\n\n/**\n * a\n * @param {*} arr a\n * @return {*}\n */\nfunction double(arr) {\n  return arr.concat(createSizedArray(arr.length));\n}\n\nexport default {double};\n","import {createTypedArray} from '../helpers/arrays';\nimport PoolFactory from './PoolFactory';\n\n/**\n * a\n * @return {*}\n */\nfunction create() {\n  return createTypedArray('float32', 2);\n}\nconst PointPool = PoolFactory(8, create);\n\nexport default PointPool;\n","import {createSizedArray} from '../helpers/arrays';\nimport PointPool from '../pooling/PointPool';\n\n/**\n * a shape path\n */\nexport default class ShapePath {\n  /**\n   * shape path constructor\n   */\n  constructor() {\n    this.c = false;\n    this._length = 0;\n    this._maxLength = 8;\n    this.v = createSizedArray(this._maxLength);\n    this.o = createSizedArray(this._maxLength);\n    this.i = createSizedArray(this._maxLength);\n  }\n\n  /**\n   * set path data\n   * @param {*} closed path is closed ?\n   * @param {*} len path vertex data length\n   */\n  setPathData(closed, len) {\n    this.c = closed;\n    this.setLength(len);\n    let i = 0;\n    while (i < len) {\n      this.v[i] = PointPool.newElement();\n      this.o[i] = PointPool.newElement();\n      this.i[i] = PointPool.newElement();\n      i += 1;\n    }\n  }\n\n  /**\n   * set array pool size\n   * @param {*} len array length\n   */\n  setLength(len) {\n    while (this._maxLength < len) {\n      this.doubleArrayLength();\n    }\n    this._length = len;\n  }\n\n  /**\n   * double array pool size\n   */\n  doubleArrayLength() {\n    this.v = this.v.concat(createSizedArray(this._maxLength));\n    this.i = this.i.concat(createSizedArray(this._maxLength));\n    this.o = this.o.concat(createSizedArray(this._maxLength));\n    this._maxLength *= 2;\n  }\n\n  /**\n   * set x y to this.v | this.i | this.o\n   * @param {*} x x component\n   * @param {*} y y component\n   * @param {*} type data type v | i | o\n   * @param {*} pos data index\n   * @param {*} replace need replace a new point\n   */\n  setXYAt(x, y, type, pos, replace) {\n    let arr;\n    this._length = Math.max(this._length, pos + 1);\n    if (this._length >= this._maxLength) {\n      this.doubleArrayLength();\n    }\n    switch (type) {\n    case 'v':\n      arr = this.v;\n      break;\n    case 'i':\n      arr = this.i;\n      break;\n    case 'o':\n      arr = this.o;\n      break;\n    }\n    if (!arr[pos] || (arr[pos] && !replace)) {\n      arr[pos] = PointPool.newElement();\n    }\n    arr[pos][0] = x;\n    arr[pos][1] = y;\n  }\n\n  /**\n   * setTripleAt\n   * @param {*} vX vertex x\n   * @param {*} vY vertex y\n   * @param {*} oX out control x\n   * @param {*} oY out control y\n   * @param {*} iX in control x\n   * @param {*} iY in control x\n   * @param {*} pos index of pool\n   * @param {*} replace replace point\n   */\n  setTripleAt(vX, vY, oX, oY, iX, iY, pos, replace) {\n    this.setXYAt(vX, vY, 'v', pos, replace);\n    this.setXYAt(oX, oY, 'o', pos, replace);\n    this.setXYAt(iX, iY, 'i', pos, replace);\n  }\n\n  /**\n   * reverse point\n   * @return {*} renturn new shape path\n   */\n  reverse() {\n    const newPath = new ShapePath();\n    newPath.setPathData(this.c, this._length);\n    const vertices = this.v;\n    const outPoints = this.o;\n    const inPoints = this.i;\n    let init = 0;\n    if (this.c) {\n      newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\n      init = 1;\n    }\n    let cnt = this._length - 1;\n    const len = this._length;\n\n    for (let i = init; i < len; i += 1) {\n      newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\n      cnt -= 1;\n    }\n    return newPath;\n  }\n}\n","import PoolFactory from './PoolFactory';\nimport PointPool from './PointPool';\nimport ShapePath from '../shapes/ShapePath';\n\n/**\n * a\n * @return {*}\n */\nfunction create() {\n  return new ShapePath();\n}\n\n/**\n * a\n * FIXME: 这里可能不需要这么深度的做 release\n * @param {*} shapePath a\n */\nfunction release(shapePath) {\n  const len = shapePath._length;\n  for (let i = 0; i < len; i += 1) {\n    PointPool.release(shapePath.v[i]);\n    PointPool.release(shapePath.i[i]);\n    PointPool.release(shapePath.o[i]);\n    shapePath.v[i] = null;\n    shapePath.i[i] = null;\n    shapePath.o[i] = null;\n  }\n  shapePath._length = 0;\n  shapePath.c = false;\n}\n\n/**\n * a\n * @param {*} shape a\n * @return {*}\n */\nfunction clone(shape) {\n  const cloned = ShapePool.newElement();\n  const len = shape._length === undefined ? shape.v.length : shape._length;\n  cloned.setLength(len);\n  cloned.c = shape.c;\n  // var pt;\n\n  for (let i = 0; i < len; i += 1) {\n    cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\n  }\n  return cloned;\n}\n\nconst ShapePool = PoolFactory(4, create, release);\nShapePool.clone = clone;\n\nexport default ShapePool;\n","import {createSizedArray} from '../helpers/arrays';\nimport ShapePool from '../pooling/ShapePool';\n\n/**\n * shape collection\n */\nexport default class ShapeCollection {\n  /**\n   * constructor shape collection\n   */\n  constructor() {\n    this._length = 0;\n    this._maxLength = 4;\n    this.shapes = createSizedArray(this._maxLength);\n  }\n\n  /**\n   * add shape to collection\n   * @param {*} shapeData shape data\n   */\n  addShape(shapeData) {\n    if (this._length === this._maxLength) {\n      this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\n      this._maxLength *= 2;\n    }\n    this.shapes[this._length] = shapeData;\n    this._length += 1;\n  }\n\n  /**\n   * release shapes form shape pool\n   */\n  releaseShapes() {\n    for (let i = 0; i < this._length; i += 1) {\n      ShapePool.release(this.shapes[i]);\n    }\n    this._length = 0;\n  }\n}\n","import {createSizedArray} from '../helpers/arrays';\nimport ShapeCollection from '../shapes/ShapeCollection';\nimport ShapePool from './ShapePool';\nimport pooling from './pooling';\n\nlet _length = 0;\nlet _maxLength = 4;\nlet pool = createSizedArray(_maxLength);\n\n/**\n * a\n * @return {*}\n */\nfunction newShapeCollection() {\n  let shapeCollection;\n  if (_length) {\n    _length -= 1;\n    shapeCollection = pool[_length];\n  } else {\n    shapeCollection = new ShapeCollection();\n  }\n  return shapeCollection;\n}\n\n/**\n * a\n * @param {*} shapeCollection a\n */\nfunction release(shapeCollection) {\n  const len = shapeCollection._length;\n  for (let i = 0; i < len; i += 1) {\n    ShapePool.release(shapeCollection.shapes[i]);\n  }\n  shapeCollection._length = 0;\n\n  if (_length === _maxLength) {\n    pool = pooling.double(pool);\n    _maxLength = _maxLength*2;\n  }\n  pool[_length] = shapeCollection;\n  _length += 1;\n}\n\n\nexport default {newShapeCollection, release};\n","\n/**\n * a\n */\nexport default class DynamicPropertyContainer {\n  /**\n   * a\n   */\n  outTypeExpressionMode() {\n    this._hasOutTypeExpression = true;\n    if (this.container) this.container.outTypeExpressionMode();\n  }\n\n  /**\n   * a\n   * @param {*} prop a\n   */\n  addDynamicProperty(prop) {\n    if (this.dynamicProperties.indexOf(prop) === -1) {\n      this.dynamicProperties.push(prop);\n      this.container.addDynamicProperty(this);\n      this._isAnimated = true;\n      if (prop._hasOutTypeExpression) this.outTypeExpressionMode();\n    }\n  }\n\n  /**\n   * a\n   * @param {*} frameNum a\n   */\n  iterateDynamicProperties(frameNum) {\n    this._mdf = false;\n    const len = this.dynamicProperties.length;\n    for (let i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue(frameNum);\n      if (this.dynamicProperties[i]._mdf) {\n        this._mdf = true;\n      }\n    }\n  }\n\n  /**\n   * a\n   * @param {*} container a\n   */\n  initDynamicPropertyContainer(container) {\n    this.container = container;\n    this.dynamicProperties = [];\n    this._mdf = false;\n    this._isAnimated = false;\n    this._hasOutTypeExpression = false;\n  }\n}\n","import {createTypedArray} from '../helpers/arrays';\nimport PoolFactory from './PoolFactory';\nconst defaultCurveSegments = 200;\n/**\n * a\n * @return {*}\n */\nfunction create() {\n  return {\n    addedLength: 0,\n    percents: createTypedArray('float32', defaultCurveSegments),\n    lengths: createTypedArray('float32', defaultCurveSegments),\n  };\n}\nconst BezierLengthPool = PoolFactory(8, create);\n\nexport default BezierLengthPool;\n","import BezierLengthPool from './BezierLengthPool';\nimport PoolFactory from './PoolFactory';\n\n/**\n * @return {*}\n */\nfunction create() {\n  return {\n    lengths: [],\n    totalLength: 0,\n  };\n}\n\n/**\n * a\n * @param {*} element a\n */\nfunction release(element) {\n  const len = element.lengths.length;\n  for (let i = 0; i < len; i += 1) {\n    BezierLengthPool.release(element.lengths[i]);\n  }\n  element.lengths.length = 0;\n}\n\nconst SegmentsLengthPool = PoolFactory(8, create, release);\n\nexport default SegmentsLengthPool;\n","// var easingFunctions = [];\n// var math = Math;\nimport {createSizedArray, createTypedArray} from './helpers/arrays';\nimport BezierLengthPool from './pooling/BezierLengthPool';\nimport SegmentsLengthPool from './pooling/SegmentsLengthPool';\nconst defaultCurveSegments = 200;\n\n/**\n * a\n * @param {*} x1 a\n * @param {*} y1 a\n * @param {*} x2 a\n * @param {*} y2 a\n * @param {*} x3 a\n * @param {*} y3 a\n * @return {*}\n */\nfunction pointOnLine2D(x1, y1, x2, y2, x3, y3) {\n  const det1 = (x1 * y2) + (y1 * x3) + (x2 * y3) - (x3 * y2) - (y3 * x1) - (x2 * y1);\n  return det1 > -0.001 && det1 < 0.001;\n}\n\n/**\n * a\n * @param {*} x1 a\n * @param {*} y1 a\n * @param {*} z1 a\n * @param {*} x2 a\n * @param {*} y2 a\n * @param {*} z2 a\n * @param {*} x3 a\n * @param {*} y3 a\n * @param {*} z3 a\n * @return {*}\n */\nfunction pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\n  if (z1 === 0 && z2 === 0 && z3 === 0) {\n    return pointOnLine2D(x1, y1, x2, y2, x3, y3);\n  }\n  const dist1 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2) + Math.pow(z2 - z1, 2));\n  const dist2 = Math.sqrt(Math.pow(x3 - x1, 2) + Math.pow(y3 - y1, 2) + Math.pow(z3 - z1, 2));\n  const dist3 = Math.sqrt(Math.pow(x3 - x2, 2) + Math.pow(y3 - y2, 2) + Math.pow(z3 - z2, 2));\n  let diffDist;\n  if (dist1 > dist2) {\n    if (dist1 > dist3) {\n      diffDist = dist1 - dist2 - dist3;\n    } else {\n      diffDist = dist3 - dist2 - dist1;\n    }\n  } else if (dist3 > dist2) {\n    diffDist = dist3 - dist2 - dist1;\n  } else {\n    diffDist = dist2 - dist1 - dist3;\n  }\n  return diffDist > -0.0001 && diffDist < 0.0001;\n}\n\n/**\n * a\n * @param {*} pt1 a\n * @param {*} pt2 a\n * @param {*} pt3 a\n * @param {*} pt4 a\n * @return {*}\n */\nfunction getBezierLength(pt1, pt2, pt3, pt4) {\n  const curveSegments = defaultCurveSegments || 200;\n  // var i, len;\n  let addedLength = 0;\n  let ptDistance;\n  const point = [];\n  const lastPoint = [];\n  const lengthData = BezierLengthPool.newElement();\n  const len = pt3.length;\n  for (let k = 0; k < curveSegments; k += 1) {\n    const perc = k / (curveSegments - 1);\n    ptDistance = 0;\n    for (let i = 0; i < len; i += 1) {\n      const ptCoord = Math.pow(1 - perc, 3) * pt1[i] + 3 * Math.pow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * Math.pow(perc, 2) * pt4[i] + Math.pow(perc, 3) * pt2[i];\n      point[i] = ptCoord;\n      if (lastPoint[i] !== null) {\n        ptDistance += Math.pow(point[i] - lastPoint[i], 2);\n      }\n      lastPoint[i] = point[i];\n    }\n    if (ptDistance) {\n      ptDistance = Math.sqrt(ptDistance);\n      addedLength += ptDistance;\n    }\n    lengthData.percents[k] = perc;\n    lengthData.lengths[k] = addedLength;\n  }\n  lengthData.addedLength = addedLength;\n  return lengthData;\n}\n\n/**\n * a\n * @param {*} shapeData a\n * @return {*}\n */\nfunction getSegmentsLength(shapeData) {\n  const segmentsLength = SegmentsLengthPool.newElement();\n  const closed = shapeData.c;\n  const pathV = shapeData.v;\n  const pathO = shapeData.o;\n  const pathI = shapeData.i;\n  const len = shapeData._length;\n  const lengths = segmentsLength.lengths;\n  let totalLength = 0;\n  let i = 0;\n  for (; i < len - 1; i += 1) {\n    lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\n    totalLength += lengths[i].addedLength;\n  }\n  if (closed && len) {\n    lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\n    totalLength += lengths[i].addedLength;\n  }\n  segmentsLength.totalLength = totalLength;\n  return segmentsLength;\n}\n\n/**\n * a\n * @param {*} length a\n */\nfunction BezierData(length) {\n  this.segmentLength = 0;\n  this.points = new Array(length);\n}\n\n/**\n * a\n * @param {*} partial a\n * @param {*} point a\n */\nfunction PointData(partial, point) {\n  this.partialLength = partial;\n  this.point = point;\n}\n\nconst storedData = {};\n/**\n * a\n * @param {*} pt1 a\n * @param {*} pt2 a\n * @param {*} pt3 a\n * @param {*} pt4 a\n * @return {*}\n */\nfunction buildBezierData(pt1, pt2, pt3, pt4) {\n  const bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\n  if (!storedData[bezierName]) {\n    let curveSegments = defaultCurveSegments;\n    // var k, i, len;\n    let addedLength = 0;\n    let ptDistance;\n    let point;\n    let lastPoint = null;\n    if (pt1.length === 2 && (pt1[0] != pt2[0] || pt1[1] != pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\n      curveSegments = 2;\n    }\n    const bezierData = new BezierData(curveSegments);\n    const len = pt3.length;\n    for (let k = 0; k < curveSegments; k += 1) {\n      point = createSizedArray(len);\n      const perc = k / (curveSegments - 1);\n      ptDistance = 0;\n      for (let i = 0; i < len; i += 1) {\n        const ptCoord = Math.pow(1 - perc, 3) * pt1[i] + 3 * Math.pow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * Math.pow(perc, 2) * (pt2[i] + pt4[i]) + Math.pow(perc, 3) * pt2[i];\n        point[i] = ptCoord;\n        if (lastPoint !== null) {\n          ptDistance += Math.pow(point[i] - lastPoint[i], 2);\n        }\n      }\n      ptDistance = Math.sqrt(ptDistance);\n      addedLength += ptDistance;\n      bezierData.points[k] = new PointData(ptDistance, point);\n      lastPoint = point;\n    }\n    bezierData.segmentLength = addedLength;\n    storedData[bezierName] = bezierData;\n  }\n  return storedData[bezierName];\n}\n\n/**\n * a\n * @param {*} perc a\n * @param {*} bezierData a\n * @return {*}\n */\nfunction getDistancePerc(perc, bezierData) {\n  const percents = bezierData.percents;\n  const lengths = bezierData.lengths;\n  const len = percents.length;\n  let initPos = Math.floor((len - 1) * perc);\n  const lengthPos = perc * bezierData.addedLength;\n  let lPerc = 0;\n  if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\n    return percents[initPos];\n  } else {\n    const dir = lengths[initPos] > lengthPos ? -1 : 1;\n    let flag = true;\n    while (flag) {\n      if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\n        lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\n        flag = false;\n      } else {\n        initPos += dir;\n      }\n      if (initPos < 0 || initPos >= len - 1) {\n        // FIX for TypedArrays that don't store floating point values with enough accuracy\n        if (initPos === len - 1) {\n          return percents[initPos];\n        }\n        flag = false;\n      }\n    }\n    return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\n  }\n}\n\n/**\n * a\n * @param {*} pt1 a\n * @param {*} pt2 a\n * @param {*} pt3 a\n * @param {*} pt4 a\n * @param {*} percent a\n * @param {*} bezierData a\n * @return {*}\n */\nfunction getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\n  const t1 = getDistancePerc(percent, bezierData);\n  // var u0 = 1;\n  const u1 = 1 - t1;\n  const ptX = Math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\n  const ptY = Math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\n  return [ptX, ptY];\n}\n\n// function getSegmentArray() {\n\n// }\n\nconst bezierSegmentPoints = createTypedArray('float32', 8);\n\n/**\n * a\n * @param {*} pt1 a\n * @param {*} pt2 a\n * @param {*} pt3 a\n * @param {*} pt4 a\n * @param {*} startPerc a\n * @param {*} endPerc a\n * @param {*} bezierData a\n * @return {*}\n */\nfunction getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\n  /* eslint camelcase: 0 */\n  startPerc = startPerc < 0 ? 0 : startPerc > 1 ? 1 : startPerc;\n  const t0 = getDistancePerc(startPerc, bezierData);\n  endPerc = endPerc > 1 ? 1 : endPerc;\n  const t1 = getDistancePerc(endPerc, bezierData);\n  const len = pt1.length;\n  const u0 = 1 - t0;\n  const u1 = 1 - t1;\n  const u0u0u0 = u0 * u0 * u0;\n  const t0u0u0_3 = t0 * u0 * u0 * 3;\n  const t0t0u0_3 = t0 * t0 * u0 * 3;\n  const t0t0t0 = t0 * t0 * t0;\n  //\n  const u0u0u1 = u0 * u0 * u1;\n  const t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1;\n  const t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1;\n  const t0t0t1 = t0 * t0 * t1;\n  //\n  const u0u1u1 = u0 * u1 * u1;\n  const t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1;\n  const t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1;\n  const t0t1t1 = t0 * t1 * t1;\n  //\n  const u1u1u1 = u1 * u1 * u1;\n  const t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1;\n  const t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1;\n  const t1t1t1 = t1 * t1 * t1;\n  for (let i = 0; i < len; i += 1) {\n    bezierSegmentPoints[i * 4] = Math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000;\n    bezierSegmentPoints[i * 4 + 1] = Math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000;\n    bezierSegmentPoints[i * 4 + 2] = Math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000;\n    bezierSegmentPoints[i * 4 + 3] = Math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000;\n  }\n\n  return bezierSegmentPoints;\n}\n\nexport default {\n  getSegmentsLength,\n  getNewSegment,\n  getPointInSegment,\n  buildBezierData,\n  pointOnLine2D,\n  pointOnLine3D,\n};\n","\nexport const initialDefaultFrame = -999999;\nexport const degToRads = Math.PI / 180;\n\nexport const defaultVector = [0, 0];\n","import Tools from '../tools';\n\nconst EX_REG = /(loopIn|loopOut)\\(([^)]+)/;\nconst STR_REG = /[\"']\\w+[\"']/;\n\n/**\n * Cycle\n * @class\n * @private\n */\nclass Cycle {\n  /**\n   * Pingpong\n   * @param {*} type Pingpong\n   * @param {*} begin Pingpong\n   * @param {*} end Pingpong\n   */\n  constructor(type, begin, end) {\n    this.begin = begin;\n    this.end = end;\n    this.total = this.end - this.begin;\n    this.type = type;\n  }\n\n  /**\n   * progress\n   * @param {number} progress progress\n   * @return {number} progress\n   */\n  update(progress) {\n    if (this.type === 'in') {\n      if (progress >= this.begin) return progress;\n      return this.end - Tools.euclideanModulo(this.begin - progress, this.total);\n    } else if (this.type === 'out') {\n      if (progress <= this.end) return progress;\n      return this.begin + Tools.euclideanModulo(progress - this.end, this.total);\n    }\n  }\n}\n\n/**\n * Pingpong\n * @class\n * @private\n */\nclass Pingpong {\n  /**\n   * Pingpong\n   * @param {*} type Pingpong\n   * @param {*} begin Pingpong\n   * @param {*} end Pingpong\n   */\n  constructor(type, begin, end) {\n    this.begin = begin;\n    this.end = end;\n    this.total = this.end - this.begin;\n    this.type = type;\n  }\n\n  /**\n   * progress\n   * @param {number} progress progress\n   * @return {number} progress\n   */\n  update(progress) {\n    if ((this.type === 'in' && progress < this.begin) || (this.type === 'out' && progress > this.end)) {\n      const space = progress - this.end;\n      return this.pingpong(space);\n    }\n    return progress;\n  }\n\n  /**\n   * pingpong\n   * @param {number} space\n   * @return {number}\n   */\n  pingpong(space) {\n    const dir = Math.floor(space / this.total) % 2;\n    if (dir) {\n      return this.begin + Tools.euclideanModulo(space, this.total);\n    } else {\n      return this.end - Tools.euclideanModulo(space, this.total);\n    }\n  }\n}\n\nconst FN_MAPS = {\n  loopIn(datak, mode, offset) {\n    const begin = datak[0].t;\n    const last = datak.length - 1;\n    const endIdx = Math.min(last, offset);\n    const end = datak[endIdx].t;\n    switch (mode) {\n    case 'cycle':\n      return new Cycle('in', begin, end);\n    case 'pingpong':\n      return new Pingpong('in', begin, end);\n    default:\n      break;\n    }\n    return null;\n  },\n  loopOut(datak, mode, offset) {\n    const last = datak.length - 1;\n    const beginIdx = Math.max(0, last - offset);\n    const begin = datak[beginIdx].t;\n    const end = datak[last].t;\n    switch (mode) {\n    case 'cycle':\n      return new Cycle('out', begin, end);\n    case 'pingpong':\n      return new Pingpong('out', begin, end);\n    default:\n      break;\n    }\n    return null;\n  },\n};\n\n/**\n * parseParams\n * @ignore\n * @param {string} pStr string\n * @return {array}\n */\nfunction parseParams(pStr) {\n  const params = pStr.split(/\\s*,\\s*/);\n  return params.map((it) => {\n    if (STR_REG.test(it)) return it.replace(/\"|'/g, '');\n    return parseInt(it);\n  });\n}\n\n/**\n * parseEx\n * @ignore\n * @param {string} ex string\n * @return {object}\n */\nfunction parseEx(ex) {\n  const rs = ex.match(EX_REG);\n  const ps = parseParams(rs[2]);\n  return {\n    name: rs[1],\n    mode: ps[0],\n    offset: ps[1],\n  };\n}\n\n/**\n * hasSupportExpression\n * @ignore\n * @param {string} ksp string\n * @return {boolean}\n */\nfunction hasSupportExpression(ksp) {\n  return ksp.x && EX_REG.test(ksp.x);\n}\n\n/**\n * getExpression\n * @ignore\n * @param {object} ksp ksp\n * @return {object}\n */\nfunction getExpression(ksp) {\n  const {name, mode, offset = 0} = parseEx(ksp.x);\n  const _offset = offset === 0 ? ksp.k.length - 1 : offset;\n  return FN_MAPS[name] && FN_MAPS[name](ksp.k, mode, _offset);\n}\n\nexport default {hasSupportExpression, getExpression};\n","import {createTypedArray} from './helpers/arrays';\nimport BezierFactory from './lib/BezierEaser';\nimport bez from './bez';\nimport {degToRads, initialDefaultFrame as initFrame} from '../constant/index';\nimport Expression from './expression/Expression';\n\n/**\n * based on @Toji's https://github.com/toji/gl-matrix/\n * slerp with quaternion\n * @param {*} a from a\n * @param {*} b to b\n * @param {*} t progress\n * @return {Array}\n */\nfunction slerp(a, b, t) {\n  const out = [];\n  const ax = a[0];\n  const ay = a[1];\n  const az = a[2];\n  const aw = a[3];\n  let bx = b[0];\n  let by = b[1];\n  let bz = b[2];\n  let bw = b[3];\n\n  let omega;\n  let cosom;\n  let sinom;\n  let scale0;\n  let scale1;\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw;\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  }\n  if ((1.0 - cosom) > 0.000001) {\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    scale0 = 1.0 - t;\n    scale1 = t;\n  }\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n\n  return out;\n}\n\n/**\n * quaternion to euler\n * @param {Array} out out euler pointer\n * @param {Array} quat origin quaternion\n */\nfunction quaternionToEuler(out, quat) {\n  const qx = quat[0];\n  const qy = quat[1];\n  const qz = quat[2];\n  const qw = quat[3];\n  const heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\n  const attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\n  const bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\n  out[0] = heading / degToRads;\n  out[1] = attitude / degToRads;\n  out[2] = bank / degToRads;\n}\n\n/**\n * create a quaternion from euler\n * @param {Array} values origin euler\n * @return {Array} quaternion\n */\nfunction createQuaternion(values) {\n  const heading = values[0] * degToRads;\n  const attitude = values[1] * degToRads;\n  const bank = values[2] * degToRads;\n  const c1 = Math.cos(heading / 2);\n  const c2 = Math.cos(attitude / 2);\n  const c3 = Math.cos(bank / 2);\n  const s1 = Math.sin(heading / 2);\n  const s2 = Math.sin(attitude / 2);\n  const s3 = Math.sin(bank / 2);\n  const w = c1 * c2 * c3 - s1 * s2 * s3;\n  const x = s1 * s2 * c3 + c1 * c2 * s3;\n  const y = s1 * c2 * c3 + c1 * s2 * s3;\n  const z = c1 * s2 * c3 - s1 * c2 * s3;\n\n  return [x, y, z, w];\n}\n\n/**\n * basic property for animate property unit\n */\nclass BaseProperty {\n  /**\n   * interpolate value\n   * @param {Number} frameNum now frame\n   * @param {Object} caching caching object\n   * @return {Array} newValue\n   */\n  interpolateValue(frameNum, caching) {\n    // const offsetTime = this.offsetTime;\n    let newValue;\n    if (this.propType === 'multidimensional') {\n      newValue = createTypedArray('float32', this.pv.length);\n    }\n    let iterationIndex = caching.lastIndex;\n    let i = iterationIndex;\n    let len = this.keyframes.length - 1;\n    let flag = true;\n    let keyData; let nextKeyData;\n\n    while (flag) {\n      keyData = this.keyframes[i];\n      nextKeyData = this.keyframes[i + 1];\n      if (i === len - 1 && frameNum >= nextKeyData.t) {\n        if (keyData.h) {\n          keyData = nextKeyData;\n        }\n        iterationIndex = 0;\n        break;\n      }\n      if (nextKeyData.t > frameNum) {\n        iterationIndex = i;\n        break;\n      }\n      if (i < len - 1) {\n        i += 1;\n      } else {\n        iterationIndex = 0;\n        flag = false;\n      }\n    }\n\n    let k; let kLen; let perc; let jLen; let j; let fnc;\n    let nextKeyTime = nextKeyData.t;\n    let keyTime = keyData.t;\n    let endValue;\n    if (keyData.to) {\n      if (!keyData.bezierData) {\n        keyData.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\n      }\n      let bezierData = keyData.bezierData;\n      if (frameNum >= nextKeyTime || frameNum < keyTime) {\n        let ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\n        kLen = bezierData.points[ind].point.length;\n        for (k = 0; k < kLen; k += 1) {\n          newValue[k] = bezierData.points[ind].point[k];\n        }\n        // caching._lastKeyframeIndex = -1;\n      } else {\n        if (keyData.__fnct) {\n          fnc = keyData.__fnct;\n        } else {\n          fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\n          keyData.__fnct = fnc;\n        }\n        perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n        let distanceInLine = bezierData.segmentLength*perc;\n\n        let segmentPerc;\n        let addedLength = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastAddedLength : 0;\n        j = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastPoint : 0;\n        flag = true;\n        jLen = bezierData.points.length;\n        while (flag) {\n          addedLength += bezierData.points[j].partialLength;\n          if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\n            kLen = bezierData.points[j].point.length;\n            for (k = 0; k < kLen; k += 1) {\n              newValue[k] = bezierData.points[j].point[k];\n            }\n            break;\n          } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\n            segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\n            kLen = bezierData.points[j].point.length;\n            for (k = 0; k < kLen; k += 1) {\n              newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n            }\n            break;\n          }\n          if (j < jLen - 1) {\n            j += 1;\n          } else {\n            flag = false;\n          }\n        }\n        caching._lastPoint = j;\n        caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\n        caching._lastKeyframeIndex = i;\n      }\n    } else {\n      let outX; let outY; let inX; let inY; let keyValue;\n      len = keyData.s.length;\n      endValue = nextKeyData.s || keyData.e;\n      if (this.sh && keyData.h !== 1) {\n        if (frameNum >= nextKeyTime) {\n          newValue[0] = endValue[0];\n          newValue[1] = endValue[1];\n          newValue[2] = endValue[2];\n        } else if (frameNum <= keyTime) {\n          newValue[0] = keyData.s[0];\n          newValue[1] = keyData.s[1];\n          newValue[2] = keyData.s[2];\n        } else {\n          let quatStart = createQuaternion(keyData.s);\n          let quatEnd = createQuaternion(endValue);\n          let time = (frameNum - keyTime) / (nextKeyTime - keyTime);\n          quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\n        }\n      } else {\n        for (i = 0; i < len; i += 1) {\n          if (keyData.h !== 1) {\n            if (frameNum >= nextKeyTime) {\n              perc = 1;\n            } else if (frameNum < keyTime) {\n              perc = 0;\n            } else {\n              if (keyData.o.x.constructor === Array) {\n                if (!keyData.__fnct) {\n                  keyData.__fnct = [];\n                }\n                if (!keyData.__fnct[i]) {\n                  outX = (typeof keyData.o.x[i] === 'undefined') ? keyData.o.x[0] : keyData.o.x[i];\n                  outY = (typeof keyData.o.y[i] === 'undefined') ? keyData.o.y[0] : keyData.o.y[i];\n                  inX = (typeof keyData.i.x[i] === 'undefined') ? keyData.i.x[0] : keyData.i.x[i];\n                  inY = (typeof keyData.i.y[i] === 'undefined') ? keyData.i.y[0] : keyData.i.y[i];\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                  keyData.__fnct[i] = fnc;\n                } else {\n                  fnc = keyData.__fnct[i];\n                }\n              } else {\n                if (!keyData.__fnct) {\n                  outX = keyData.o.x;\n                  outY = keyData.o.y;\n                  inX = keyData.i.x;\n                  inY = keyData.i.y;\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                  keyData.__fnct = fnc;\n                } else {\n                  fnc = keyData.__fnct;\n                }\n              }\n              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime ));\n            }\n          }\n\n          endValue = nextKeyData.s || keyData.e;\n          keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\n\n          if (this.propType === 'multidimensional') {\n            newValue[i] = keyValue;\n          } else {\n            newValue = keyValue;\n          }\n        }\n      }\n    }\n    caching.lastIndex = iterationIndex;\n    return newValue;\n  }\n\n  /**\n   * get value at comp frame\n   * @param {*} frameNum a\n   * @return {Array|Number}\n   */\n  getValueAtCurrentTime(frameNum) {\n    // let frameNum = this.comp.renderedFrame;\n    let initTime = this.keyframes[0].t;\n    let endTime = this.keyframes[this.keyframes.length- 1].t;\n    if (!(frameNum === this._caching.lastFrame || (this._caching.lastFrame !== initFrame && ((this._caching.lastFrame >= endTime && frameNum >= endTime) || (this._caching.lastFrame < initTime && frameNum < initTime))))) {\n      if (this._caching.lastFrame >= frameNum) {\n        this._caching._lastKeyframeIndex = -1;\n        this._caching.lastIndex = 0;\n      }\n\n      let renderResult = this.interpolateValue(frameNum, this._caching);\n      this.pv = renderResult;\n    }\n    this._caching.lastFrame = frameNum;\n    return this.pv;\n  }\n\n  /**\n   * set value to this.v prop\n   * @param {Array|Number} val value\n   */\n  setVValue(val) {\n    let multipliedValue;\n    if (this.propType === 'unidimensional') {\n      multipliedValue = val * this.mult;\n      if (Math.abs(this.v - multipliedValue) > 0.00001) {\n        this.v = multipliedValue;\n        this._mdf = true;\n      }\n    } else {\n      let i = 0;\n      const len = this.v.length;\n      while (i < len) {\n        multipliedValue = val[i] * this.mult;\n        if (Math.abs(this.v[i] - multipliedValue) > 0.00001) {\n          this.v[i] = multipliedValue;\n          this._mdf = true;\n        }\n        i += 1;\n      }\n    }\n  }\n\n  /**\n   * process effects sequence\n   * @param {*} frameNum a\n   */\n  processEffectsSequence(frameNum) {\n    if (this.expression) {\n      frameNum = this.expression.update(frameNum);\n    }\n    if (frameNum === this.frameId || !this.effectsSequence.length) {\n      return;\n    }\n    if (this.lock) {\n      this.setVValue(this.pv);\n      return;\n    }\n    this.lock = true;\n    this._mdf = this._isFirstFrame;\n    // let multipliedValue;\n    let i; let len = this.effectsSequence.length;\n    let finalValue = this.kf ? this.pv : this.data.k;\n    for (i = 0; i < len; i += 1) {\n      finalValue = this.effectsSequence[i](frameNum);\n    }\n    this.setVValue(finalValue);\n    this._isFirstFrame = false;\n    this.lock = false;\n    this.frameId = frameNum;\n  }\n\n  /**\n   * a\n   * @param {*} effectFunction a\n   */\n  addEffect(effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.container.addDynamicProperty(this);\n  }\n}\n\n/**\n * unidimensional value property\n */\nclass ValueProperty extends BaseProperty {\n  /**\n   * constructor unidimensional value property\n   * @param {*} elem element node\n   * @param {*} data unidimensional value property data\n   * @param {*} mult data mult scale\n   * @param {*} container value property container\n   */\n  constructor(elem, data, mult, container) {\n    super();\n    this.propType = 'unidimensional';\n    this.mult = mult || 1;\n    this.data = data;\n    this.v = mult ? data.k * mult : data.k;\n    this.pv = data.k;\n    this._mdf = false;\n    this.elem = elem;\n    this.container = container;\n    this.k = false;\n    this.kf = false;\n    this.vel = 0;\n    this.effectsSequence = [];\n    this._isFirstFrame = true;\n    this.getValue = this.processEffectsSequence;\n  }\n}\n\n/**\n * multidimensional value property\n */\nclass MultiDimensionalProperty extends BaseProperty {\n  /**\n   * constructor multidimensional value property\n   * @param {*} elem element node\n   * @param {*} data multidimensional value property data\n   * @param {*} mult data mult scale\n   * @param {*} container value property container\n   */\n  constructor(elem, data, mult, container) {\n    super();\n    this.propType = 'multidimensional';\n    this.mult = mult || 1;\n    this.data = data;\n    this._mdf = false;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.k = false;\n    this.kf = false;\n    this.frameId = -1;\n    const len = data.k.length;\n    this.v = createTypedArray('float32', len);\n    this.pv = createTypedArray('float32', len);\n    // var arr = createTypedArray('float32', len);\n    this.vel = createTypedArray('float32', len);\n    for (let i = 0; i < len; i += 1) {\n      this.v[i] = data.k[i] * this.mult;\n      this.pv[i] = data.k[i];\n    }\n    this._isFirstFrame = true;\n    this.effectsSequence = [];\n    this.getValue = this.processEffectsSequence;\n  }\n}\n\n/**\n * keyframed unidimensional value property\n */\nclass KeyframedValueProperty extends BaseProperty {\n  /**\n   * constructor keyframed unidimensional value property\n   * @param {*} elem element node\n   * @param {*} data keyframed unidimensional value property data\n   * @param {*} mult data mult scale\n   * @param {*} container value property container\n   */\n  constructor(elem, data, mult, container) {\n    super();\n    this.propType = 'unidimensional';\n    this.keyframes = data.k;\n    // this.offsetTime = elem.data.st;\n    this.frameId = -1;\n    this._caching = {lastFrame: initFrame, lastIndex: 0, value: 0, _lastKeyframeIndex: -1};\n    this.k = true;\n    this.kf = true;\n    this.data = data;\n    this.mult = mult || 1;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.v = initFrame;\n    this.pv = initFrame;\n    this._isFirstFrame = true;\n    this.getValue = this.processEffectsSequence;\n    // this.setVValue = setVValue;\n    // this.interpolateValue = interpolateValue;\n    this.effectsSequence = [this.getValueAtCurrentTime.bind(this)];\n    // this.addEffect = addEffect;\n\n    this._hasOutTypeExpression = false;\n    if (Expression.hasSupportExpression(data)) {\n      this.expression = Expression.getExpression(data);\n      this._hasOutTypeExpression = this.expression.type === 'out';\n    }\n  }\n}\n\n/**\n * keyframed multidimensional value property\n */\nclass KeyframedMultidimensionalProperty extends BaseProperty {\n  /**\n   * constructor keyframed multidimensional value property\n   * @param {*} elem element node\n   * @param {*} data keyframed multidimensional value property data\n   * @param {*} mult data mult scale\n   * @param {*} container value property container\n   */\n  constructor(elem, data, mult, container) {\n    super();\n    this.propType = 'multidimensional';\n    let i; let len = data.k.length;\n    let s; let e; let to; let ti;\n    for (i = 0; i < len - 1; i += 1) {\n      if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\n        s = data.k[i].s;\n        e = data.k[i + 1].s;\n        to = data.k[i].to;\n        ti = data.k[i].ti;\n        if ((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2]))) {\n          data.k[i].to = null;\n          data.k[i].ti = null;\n        }\n        if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\n          if (s.length === 2 || (s[2] === e[2] && to[2] === 0 && ti[2] === 0)) {\n            data.k[i].to = null;\n            data.k[i].ti = null;\n          }\n        }\n      }\n    }\n    this.effectsSequence = [this.getValueAtCurrentTime.bind(this)];\n    this.keyframes = data.k;\n    // this.offsetTime = elem.data.st;\n    this.k = true;\n    this.kf = true;\n    this._isFirstFrame = true;\n    this.mult = mult || 1;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.getValue = this.processEffectsSequence;\n    // this.setVValue = setVValue;\n    // this.interpolateValue = interpolateValue;\n    this.frameId = -1;\n    let arrLen = data.k[0].s.length;\n    this.v = createTypedArray('float32', arrLen);\n    this.pv = createTypedArray('float32', arrLen);\n    for (i = 0; i < arrLen; i += 1) {\n      this.v[i] = initFrame;\n      this.pv[i] = initFrame;\n    }\n    this._caching = {lastFrame: initFrame, lastIndex: 0, value: createTypedArray('float32', arrLen)};\n    // this.addEffect = addEffect;\n\n    this._hasOutTypeExpression = false;\n    if (Expression.hasSupportExpression(data)) {\n      this.expression = Expression.getExpression(data);\n      this._hasOutTypeExpression = this.expression.type === 'out';\n    }\n  }\n}\n\n/**\n * getProp by data\n * @param {*} elem element node\n * @param {*} data keyframed multidimensional value property data\n * @param {*} type keyframed type or not\n * @param {*} mult data mult scale\n * @param {*} container value property container\n * @return {ValueProperty|MultiDimensionalProperty|KeyframedValueProperty|KeyframedMultidimensionalProperty}\n */\nfunction getProp(elem, data, type, mult, container) {\n  let p;\n  if (!data.k.length) {\n    p = new ValueProperty(elem, data, mult, container);\n  } else if (typeof (data.k[0]) === 'number') {\n    p = new MultiDimensionalProperty(elem, data, mult, container);\n  } else {\n    switch (type) {\n    case 0:\n      p = new KeyframedValueProperty(elem, data, mult, container);\n      break;\n    case 1:\n      p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\n      break;\n    }\n  }\n  if (p.effectsSequence.length) {\n    container.addDynamicProperty(p);\n  }\n  return p;\n}\n\nexport default {getProp};\n","import BezierFactory from '../lib/BezierEaser';\nimport ShapePool from '../pooling/ShapePool';\nimport ShapeCollectionPool from '../pooling/ShapeCollectionPool';\nimport DynamicPropertyContainer from '../helpers/dynamicProperties';\nimport PropertyFactory from '../PropertyFactory';\nimport {degToRads, initialDefaultFrame as initFrame} from '../../constant/index';\nimport Expression from '../expression/Expression';\n// import { hasExpression, getExpression } from '../../utils/Expression';\n// const initFrame = -999999;\n// const degToRads = Math.PI/180;\n\n/**\n * basic shape property\n */\nclass BaseShapeProperty {\n  /**\n   * interpolate shape\n   * @param {*} frameNum frame number\n   * @param {*} previousValue previous value\n   * @param {*} caching caching object\n   */\n  interpolateShape(frameNum, previousValue, caching) {\n    let iterationIndex = caching.lastIndex;\n    let keyPropS; let keyPropE; let isHold; let j; let k; let jLen; let kLen; let perc; let vertexValue;\n    let kf = this.keyframes;\n    if (frameNum < kf[0].t) {\n      keyPropS = kf[0].s[0];\n      isHold = true;\n      iterationIndex = 0;\n    } else if (frameNum >= kf[kf.length - 1].t) {\n      keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\n      /* if(kf[kf.length - 1].s){\n                keyPropS = kf[kf.length - 1].s[0];\n            }else{\n                keyPropS = kf[kf.length - 2].e[0];\n            }*/\n      isHold = true;\n    } else {\n      let i = iterationIndex;\n      let len = kf.length- 1; let flag = true; let keyData; let nextKeyData;\n      while (flag) {\n        keyData = kf[i];\n        nextKeyData = kf[i+1];\n        if (nextKeyData.t > frameNum) {\n          break;\n        }\n        if (i < len - 1) {\n          i += 1;\n        } else {\n          flag = false;\n        }\n      }\n      isHold = keyData.h === 1;\n      iterationIndex = i;\n      if (!isHold) {\n        if (frameNum >= nextKeyData.t) {\n          perc = 1;\n        } else if (frameNum < keyData.t) {\n          perc = 0;\n        } else {\n          let fnc;\n          if (keyData.__fnct) {\n            fnc = keyData.__fnct;\n          } else {\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\n            keyData.__fnct = fnc;\n          }\n          perc = fnc((frameNum-keyData.t)/(nextKeyData.t-keyData.t));\n        }\n        keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\n      }\n      keyPropS = keyData.s[0];\n    }\n    jLen = previousValue._length;\n    kLen = keyPropS.i[0].length;\n    caching.lastIndex = iterationIndex;\n\n    for (j=0; j<jLen; j+=1) {\n      for (k=0; k<kLen; k+=1) {\n        vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k]+(keyPropE.i[j][k]-keyPropS.i[j][k])*perc;\n        previousValue.i[j][k] = vertexValue;\n        vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k]+(keyPropE.o[j][k]-keyPropS.o[j][k])*perc;\n        previousValue.o[j][k] = vertexValue;\n        vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k]+(keyPropE.v[j][k]-keyPropS.v[j][k])*perc;\n        previousValue.v[j][k] = vertexValue;\n      }\n    }\n  }\n\n  /**\n   * interpolate shape with currentTime\n   * @param {*} frameNum frame number\n   * @return {*}\n   */\n  interpolateShapeCurrentTime(frameNum) {\n    let initTime = this.keyframes[0].t;\n    let endTime = this.keyframes[this.keyframes.length - 1].t;\n    let lastFrame = this._caching.lastFrame;\n    if (!(lastFrame !== initFrame && ((lastFrame < initTime && frameNum < initTime) || (lastFrame > endTime && frameNum > endTime)))) {\n      // //\n      this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\n      this.interpolateShape(frameNum, this.pv, this._caching);\n      // //\n    }\n    this._caching.lastFrame = frameNum;\n    return this.pv;\n  }\n\n  /**\n   * reset shape\n   */\n  resetShape() {\n    this.paths = this.localShapeCollection;\n  }\n\n  /**\n   * is shapes is equal\n   * @param {*} shape1 shape1\n   * @param {*} shape2 shape2\n   * @return {*}\n   */\n  shapesEqual(shape1, shape2) {\n    if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\n      return false;\n    }\n    let i; let len = shape1._length;\n    for (i = 0; i < len; i += 1) {\n      if (shape1.v[i][0] !== shape2.v[i][0]\n            || shape1.v[i][1] !== shape2.v[i][1]\n            || shape1.o[i][0] !== shape2.o[i][0]\n            || shape1.o[i][1] !== shape2.o[i][1]\n            || shape1.i[i][0] !== shape2.i[i][0]\n            || shape1.i[i][1] !== shape2.i[i][1]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * set new path to this.v\n   * @param {*} newPath new path\n   */\n  setVValue(newPath) {\n    if (!this.shapesEqual(this.v, newPath)) {\n      this.v = ShapePool.clone(newPath);\n      this.localShapeCollection.releaseShapes();\n      this.localShapeCollection.addShape(this.v);\n      this._mdf = true;\n      this.paths = this.localShapeCollection;\n    }\n  }\n\n  /**\n   * process effects sequence\n   * @param {*} frameNum frame number\n   */\n  processEffectsSequence(frameNum) {\n    if (frameNum === this.frameId) {\n      return;\n    } else if (!this.effectsSequence.length) {\n      this._mdf = false;\n      return;\n    }\n    if (this.lock) {\n      this.setVValue(this.pv);\n      return;\n    }\n    this.lock = true;\n    this._mdf = false;\n    let finalValue = this.kf ? this.pv : this.data.ks ? this.data.ks.k : this.data.pt.k;\n    let i; let len = this.effectsSequence.length;\n    for (i = 0; i < len; i += 1) {\n      finalValue = this.effectsSequence[i](frameNum);\n    }\n    this.setVValue(finalValue);\n    this.lock = false;\n    this.frameId = frameNum;\n  }\n\n  /**\n   * add effect\n   * @param {*} effectFunction effect funstion\n   */\n  addEffect(effectFunction) {\n    console.log('addEffect', effectFunction);\n    this.effectsSequence.push(effectFunction);\n    this.container.addDynamicProperty(this);\n  }\n}\n\n/**\n * shape property\n */\nclass ShapeProperty extends BaseShapeProperty {\n  /**\n   * constructor shape property\n   * @param {*} elem element node\n   * @param {*} data shape value property data\n   * @param {*} type shape propType\n   */\n  constructor(elem, data, type) {\n    super();\n    this.propType = 'shape';\n    this.comp = elem.comp;\n    this.container = elem;\n    this.elem = elem;\n    this.data = data;\n    this.k = false;\n    this.kf = false;\n    this._mdf = false;\n    let pathData = type === 3 ? data.pt.k : data.ks.k;\n    this.v = ShapePool.clone(pathData);\n    this.pv = ShapePool.clone(this.v);\n    this.localShapeCollection = ShapeCollectionPool.newShapeCollection();\n    this.paths = this.localShapeCollection;\n    this.paths.addShape(this.v);\n    this.reset = this.resetShape;\n    this.effectsSequence = [];\n    this.getValue = this.processEffectsSequence;\n  }\n}\n\n/**\n * keyframed shape property\n */\nclass KeyframedShapeProperty extends BaseShapeProperty {\n  /**\n   * constructor keyframed shape property\n   * @param {*} elem element node\n   * @param {*} data shape value property data\n   * @param {*} type shape propType\n   */\n  constructor(elem, data, type) {\n    super();\n    this.propType = 'shape';\n    this.comp = elem.comp;\n    this.elem = elem;\n    this.container = elem;\n    // this.offsetTime = elem.data.st;\n    this.keyframes = type === 3 ? data.pt.k : data.ks.k;\n    this.k = true;\n    this.kf = true;\n    let len = this.keyframes[0].s[0].i.length;\n    // let jLen = this.keyframes[0].s[0].i[0].length;\n    this.v = ShapePool.newElement();\n    this.v.setPathData(this.keyframes[0].s[0].c, len);\n    this.pv = ShapePool.clone(this.v);\n    this.localShapeCollection = ShapeCollectionPool.newShapeCollection();\n    this.paths = this.localShapeCollection;\n    this.paths.addShape(this.v);\n    this.lastFrame = initFrame;\n    this.reset = this.resetShape;\n    this._caching = {lastFrame: initFrame, lastIndex: 0};\n    this.effectsSequence = [this.interpolateShapeCurrentTime.bind(this)];\n    this.getValue = this.processEffectsSequence;\n\n    this._hasOutTypeExpression = false;\n    if (Expression.hasSupportExpression(data)) {\n      this.expression = Expression.getExpression(data);\n      this._hasOutTypeExpression = this.expression.type === 'out';\n    }\n  }\n}\n\n/**\n * ellipse shape property\n */\nclass EllShapeProperty extends DynamicPropertyContainer {\n  /**\n   * constructor ellipse shape property\n   * @param {*} elem element node\n   * @param {*} data shape value property data\n   */\n  constructor(elem, data) {\n    super();\n    // this.v = {\n    //   v: createSizedArray(4),\n    //   i: createSizedArray(4),\n    //   o: createSizedArray(4),\n    //   c: true\n    // };\n    this.v = ShapePool.newElement();\n    this.v.setPathData(true, 4);\n    this.localShapeCollection = ShapeCollectionPool.newShapeCollection();\n    this.paths = this.localShapeCollection;\n    this.localShapeCollection.addShape(this.v);\n    this.d = data.d;\n    this.elem = elem;\n    this.comp = elem.comp;\n    this.frameId = -1;\n    this.initDynamicPropertyContainer(elem);\n    this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n    this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.k = false;\n      this.convertEllToPath();\n    }\n  }\n\n  /**\n   * reset shape\n   */\n  reset() {\n    this.paths = this.localShapeCollection;\n  }\n\n  /**\n   * get point with frameId\n   * @param {*} frameNum frame number\n   */\n  getValue(frameNum) {\n    if (frameNum === this.frameId) {\n      return;\n    }\n    this.iterateDynamicProperties(frameNum);\n    this.frameId = frameNum;\n\n    if (this._mdf) {\n      this.convertEllToPath();\n    }\n  }\n\n  /**\n   * convert ellipse to path\n   */\n  convertEllToPath() {\n    const p0 = this.p.v[0];\n    const p1 = this.p.v[1];\n    const s0 = this.s.v[0]/2;\n    const s1 = this.s.v[1]/2;\n    const _cw = this.d !== 3;\n    const _v = this.v;\n    _v.v[0][0] = p0;\n    _v.v[0][1] = p1 - s1;\n    _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\n    _v.v[1][1] = p1;\n    _v.v[2][0] = p0;\n    _v.v[2][1] = p1 + s1;\n    _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\n    _v.v[3][1] = p1;\n    _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n    _v.i[0][1] = p1 - s1;\n    _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\n    _v.i[1][1] = p1 - s1 * cPoint;\n    _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n    _v.i[2][1] = p1 + s1;\n    _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\n    _v.i[3][1] = p1 + s1 * cPoint;\n    _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n    _v.o[0][1] = p1 - s1;\n    _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\n    _v.o[1][1] = p1 + s1 * cPoint;\n    _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n    _v.o[2][1] = p1 + s1;\n    _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\n    _v.o[3][1] = p1 - s1 * cPoint;\n  }\n}\n\n\n/**\n * star shape property\n */\nclass StarShapeProperty extends DynamicPropertyContainer {\n  /**\n   * constructor star shape property\n   * @param {*} elem element node\n   * @param {*} data shape value property data\n   */\n  constructor(elem, data) {\n    super();\n    this.v = ShapePool.newElement();\n    this.v.setPathData(true, 0);\n    this.elem = elem;\n    this.comp = elem.comp;\n    this.data = data;\n    this.frameId = -1;\n    this.d = data.d;\n    this.initDynamicPropertyContainer(elem);\n    if (data.sy === 1) {\n      this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\n      this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\n      this.convertToPath = this.convertStarToPath;\n    } else {\n      this.convertToPath = this.convertPolygonToPath;\n    }\n    this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\n    this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n    this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\n    this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\n    this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\n    this.localShapeCollection = ShapeCollectionPool.newShapeCollection();\n    this.localShapeCollection.addShape(this.v);\n    this.paths = this.localShapeCollection;\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.k = false;\n      this.convertToPath();\n    }\n  }\n\n  /**\n   * reset shape\n   */\n  reset() {\n    this.paths = this.localShapeCollection;\n  }\n\n  /**\n   * get point with frameId\n   * @param {*} frameNum frame number\n   */\n  getValue(frameNum) {\n    if (frameNum === this.frameId) {\n      return;\n    }\n    this.frameId = frameNum;\n    this.iterateDynamicProperties(frameNum);\n\n    if (this._mdf) {\n      this.convertToPath();\n    }\n  }\n\n  /**\n   * convert star to path\n   */\n  convertStarToPath() {\n    let numPts = Math.floor(this.pt.v)*2;\n    let angle = Math.PI*2/numPts;\n    /* this.v.v.length = numPts;\n            this.v.i.length = numPts;\n            this.v.o.length = numPts;*/\n    let longFlag = true;\n    let longRad = this.or.v;\n    let shortRad = this.ir.v;\n    let longRound = this.os.v;\n    let shortRound = this.is.v;\n    let longPerimSegment = 2*Math.PI*longRad/(numPts*2);\n    let shortPerimSegment = 2*Math.PI*shortRad/(numPts*2);\n    let i; let rad; let roundness; let perimSegment; let currentAng = -Math.PI/ 2;\n    currentAng += this.r.v;\n    let dir = this.data.d === 3 ? -1 : 1;\n    this.v._length = 0;\n    for (i=0; i<numPts; i+=1) {\n      rad = longFlag ? longRad : shortRad;\n      roundness = longFlag ? longRound : shortRound;\n      perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\n      let x = rad * Math.cos(currentAng);\n      let y = rad * Math.sin(currentAng);\n      let ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\n      let oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\n      x += + this.p.v[0];\n      y += + this.p.v[1];\n      this.v.setTripleAt(x, y, x-ox*perimSegment*roundness*dir, y-oy*perimSegment*roundness*dir, x+ox*perimSegment*roundness*dir, y+oy*perimSegment*roundness*dir, i, true);\n\n      /* this.v.v[i] = [x,y];\n                this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\n                this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\n                this.v._length = numPts;*/\n      longFlag = !longFlag;\n      currentAng += angle*dir;\n    }\n  }\n\n  /**\n   * convert polygon to path\n   */\n  convertPolygonToPath() {\n    let numPts = Math.floor(this.pt.v);\n    let angle = Math.PI*2/numPts;\n    let rad = this.or.v;\n    let roundness = this.os.v;\n    let perimSegment = 2*Math.PI*rad/(numPts*4);\n    let i; let currentAng = -Math.PI/ 2;\n    let dir = this.data.d === 3 ? -1 : 1;\n    currentAng += this.r.v;\n    this.v._length = 0;\n    for (i=0; i<numPts; i+=1) {\n      let x = rad * Math.cos(currentAng);\n      let y = rad * Math.sin(currentAng);\n      let ox = x === 0 && y === 0 ? 0 : y/Math.sqrt(x*x + y*y);\n      let oy = x === 0 && y === 0 ? 0 : -x/Math.sqrt(x*x + y*y);\n      x += + this.p.v[0];\n      y += + this.p.v[1];\n      this.v.setTripleAt(x, y, x-ox*perimSegment*roundness*dir, y-oy*perimSegment*roundness*dir, x+ox*perimSegment*roundness*dir, y+oy*perimSegment*roundness*dir, i, true);\n      currentAng += angle*dir;\n    }\n    this.paths.length = 0;\n    this.paths[0] = this.v;\n  }\n}\n\nconst roundCorner = 0.5519;\nconst cPoint = roundCorner;\n\n/**\n * rect shape property\n */\nclass RectShapeProperty extends DynamicPropertyContainer {\n  /**\n   * constructor rect shape property\n   * @param {*} elem element node\n   * @param {*} data shape value property data\n   */\n  constructor(elem, data) {\n    super();\n    this.v = ShapePool.newElement();\n    this.v.c = true;\n    this.localShapeCollection = ShapeCollectionPool.newShapeCollection();\n    this.localShapeCollection.addShape(this.v);\n    this.paths = this.localShapeCollection;\n    this.elem = elem;\n    this.comp = elem.comp;\n    this.frameId = -1;\n    this.d = data.d;\n    this.initDynamicPropertyContainer(elem);\n    this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n    this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n    this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.k = false;\n      this.convertRectToPath();\n    }\n  }\n\n  /**\n   * reset shape\n   */\n  reset() {\n    this.paths = this.localShapeCollection;\n  }\n\n  /**\n   * get point with frameId\n   * @param {*} frameNum frame number\n   */\n  getValue(frameNum) {\n    if (frameNum === this.frameId) {\n      return;\n    }\n    this.frameId = frameNum;\n    this.iterateDynamicProperties(frameNum);\n\n    if (this._mdf) {\n      this.convertRectToPath();\n    }\n  }\n\n  /**\n   * convert rect to path\n   */\n  convertRectToPath() {\n    let p0 = this.p.v[0]; let p1 = this.p.v[1]; let v0 = this.s.v[0]/2; let v1 = this.s.v[1]/2;\n    let round = Math.min(v0, v1, this.r.v);\n    let cPoint = round*(1-roundCorner);\n    this.v._length = 0;\n\n    if (this.d === 2 || this.d === 1) {\n      this.v.setTripleAt(p0+v0, p1-v1+round, p0+v0, p1-v1+round, p0+v0, p1-v1+cPoint, 0, true);\n      this.v.setTripleAt(p0+v0, p1+v1-round, p0+v0, p1+v1-cPoint, p0+v0, p1+v1-round, 1, true);\n      if (round!== 0) {\n        this.v.setTripleAt(p0+v0-round, p1+v1, p0+v0-round, p1+v1, p0+v0-cPoint, p1+v1, 2, true);\n        this.v.setTripleAt(p0-v0+round, p1+v1, p0-v0+cPoint, p1+v1, p0-v0+round, p1+v1, 3, true);\n        this.v.setTripleAt(p0-v0, p1+v1-round, p0-v0, p1+v1-round, p0-v0, p1+v1-cPoint, 4, true);\n        this.v.setTripleAt(p0-v0, p1-v1+round, p0-v0, p1-v1+cPoint, p0-v0, p1-v1+round, 5, true);\n        this.v.setTripleAt(p0-v0+round, p1-v1, p0-v0+round, p1-v1, p0-v0+cPoint, p1-v1, 6, true);\n        this.v.setTripleAt(p0+v0-round, p1-v1, p0+v0-cPoint, p1-v1, p0+v0-round, p1-v1, 7, true);\n      } else {\n        this.v.setTripleAt(p0-v0, p1+v1, p0-v0+cPoint, p1+v1, p0-v0, p1+v1, 2);\n        this.v.setTripleAt(p0-v0, p1-v1, p0-v0, p1-v1+cPoint, p0-v0, p1-v1, 3);\n      }\n    } else {\n      this.v.setTripleAt(p0+v0, p1-v1+round, p0+v0, p1-v1+cPoint, p0+v0, p1-v1+round, 0, true);\n      if (round!== 0) {\n        this.v.setTripleAt(p0+v0-round, p1-v1, p0+v0-round, p1-v1, p0+v0-cPoint, p1-v1, 1, true);\n        this.v.setTripleAt(p0-v0+round, p1-v1, p0-v0+cPoint, p1-v1, p0-v0+round, p1-v1, 2, true);\n        this.v.setTripleAt(p0-v0, p1-v1+round, p0-v0, p1-v1+round, p0-v0, p1-v1+cPoint, 3, true);\n        this.v.setTripleAt(p0-v0, p1+v1-round, p0-v0, p1+v1-cPoint, p0-v0, p1+v1-round, 4, true);\n        this.v.setTripleAt(p0-v0+round, p1+v1, p0-v0+round, p1+v1, p0-v0+cPoint, p1+v1, 5, true);\n        this.v.setTripleAt(p0+v0-round, p1+v1, p0+v0-cPoint, p1+v1, p0+v0-round, p1+v1, 6, true);\n        this.v.setTripleAt(p0+v0, p1+v1-round, p0+v0, p1+v1-round, p0+v0, p1+v1-cPoint, 7, true);\n      } else {\n        this.v.setTripleAt(p0-v0, p1-v1, p0-v0+cPoint, p1-v1, p0-v0, p1-v1, 1, true);\n        this.v.setTripleAt(p0-v0, p1+v1, p0-v0, p1+v1-cPoint, p0-v0, p1+v1, 2, true);\n        this.v.setTripleAt(p0+v0, p1+v1, p0+v0-cPoint, p1+v1, p0+v0, p1+v1, 3, true);\n      }\n    }\n  }\n}\n\n/**\n * get shape prop with data\n * @param {*} elem element node\n * @param {*} data shape value property data\n * @param {*} type lottie shape type\n * @return {*}\n */\nfunction getShapeProp(elem, data, type) {\n  let prop;\n  if (type === 3 || type === 4) {\n    const dataProp = type === 3 ? data.pt : data.ks;\n    const keys = dataProp.k;\n    if (keys.length) {\n      prop = new KeyframedShapeProperty(elem, data, type);\n    } else {\n      prop = new ShapeProperty(elem, data, type);\n    }\n  } else if (type === 5) {\n    prop = new RectShapeProperty(elem, data);\n  } else if (type === 6) {\n    prop = new EllShapeProperty(elem, data);\n  } else if (type === 7) {\n    prop = new StarShapeProperty(elem, data);\n  }\n  if (prop.k) {\n    // FIXME: maybe not needed\n    elem.addDynamicProperty(prop);\n  }\n  return prop;\n}\n\n/**\n * get ShapeProperty class\n * @return {ShapeProperty}\n */\nfunction getConstructorFunction() {\n  return ShapeProperty;\n}\n\n/**\n * get KeyframedShapeProperty class\n * @return {KeyframedShapeProperty}\n */\nfunction getKeyframedConstructorFunction() {\n  return KeyframedShapeProperty;\n}\n\nexport default {getShapeProp, getConstructorFunction, getKeyframedConstructorFunction};\n","/* eslint-disable */\nimport { createTypedArray } from '../helpers/arrays'\n/*!\n Transformation Matrix v2.0\n (c) Epistemex 2014-2015\n www.epistemex.com\n By Ken Fyrstenberg\n Contributions by leeoniya.\n License: MIT, header required.\n */\n\n/**\n * 2D transformation matrix object initialized with identity matrix.\n *\n * The matrix can synchronize a canvas context by supplying the context\n * as an argument, or later apply current absolute transform to an\n * existing context.\n *\n * All values are handled as floating point values.\n *\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\n * @prop {number} a - scale x\n * @prop {number} b - shear y\n * @prop {number} c - shear x\n * @prop {number} d - scale y\n * @prop {number} e - translate x\n * @prop {number} f - translate y\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\n * @constructor\n */\n\nvar Matrix = (function(){\n\n    var _cos = Math.cos;\n    var _sin = Math.sin;\n    var _tan = Math.tan;\n    var _rnd = Math.round;\n\n    function reset(){\n        this.props[0] = 1;\n        this.props[1] = 0;\n        this.props[2] = 0;\n        this.props[3] = 0;\n        this.props[4] = 0;\n        this.props[5] = 1;\n        this.props[6] = 0;\n        this.props[7] = 0;\n        this.props[8] = 0;\n        this.props[9] = 0;\n        this.props[10] = 1;\n        this.props[11] = 0;\n        this.props[12] = 0;\n        this.props[13] = 0;\n        this.props[14] = 0;\n        this.props[15] = 1;\n        return this;\n    }\n\n    function rotate(angle) {\n        if(angle === 0){\n            return this;\n        }\n        var mCos = _cos(angle);\n        var mSin = _sin(angle);\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\n    }\n\n    function rotateX(angle){\n        if(angle === 0){\n            return this;\n        }\n        var mCos = _cos(angle);\n        var mSin = _sin(angle);\n        return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin,  mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateY(angle){\n        if(angle === 0){\n            return this;\n        }\n        var mCos = _cos(angle);\n        var mSin = _sin(angle);\n        return this._t(mCos,  0,  mSin, 0, 0, 1, 0, 0, -mSin,  0,  mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateZ(angle){\n        if(angle === 0){\n            return this;\n        }\n        var mCos = _cos(angle);\n        var mSin = _sin(angle);\n        return this._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\n    }\n\n    function shear(sx,sy){\n        return this._t(1, sy, sx, 1, 0, 0);\n    }\n\n    function skew(ax, ay){\n        return this.shear(_tan(ax), _tan(ay));\n    }\n\n    function skewFromAxis(ax, angle){\n        var mCos = _cos(angle);\n        var mSin = _sin(angle);\n        return this._t(mCos, mSin,  0, 0, -mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\n            ._t(1, 0,  0, 0, _tan(ax),  1, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1)\n            ._t(mCos, -mSin,  0, 0, mSin,  mCos, 0, 0, 0,  0,  1, 0, 0, 0, 0, 1);\n        //return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n    }\n\n    function scale(sx, sy, sz) {\n        if(!sz && sz !== 0) {\n            sz = 1;\n        }\n        if(sx === 1 && sy === 1 && sz === 1){\n            return this;\n        }\n        return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n    }\n\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n        this.props[0] = a;\n        this.props[1] = b;\n        this.props[2] = c;\n        this.props[3] = d;\n        this.props[4] = e;\n        this.props[5] = f;\n        this.props[6] = g;\n        this.props[7] = h;\n        this.props[8] = i;\n        this.props[9] = j;\n        this.props[10] = k;\n        this.props[11] = l;\n        this.props[12] = m;\n        this.props[13] = n;\n        this.props[14] = o;\n        this.props[15] = p;\n        return this;\n    }\n\n    function translate(tx, ty, tz) {\n        tz = tz || 0;\n        if(tx !== 0 || ty !== 0 || tz !== 0){\n            return this._t(1,0,0,0,0,1,0,0,0,0,1,0,tx,ty,tz,1);\n        }\n        return this;\n    }\n\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n\n        var _p = this.props;\n\n        if(a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0){\n            //NOTE: commenting this condition because TurboFan deoptimizes code when present\n            //if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n                _p[12] = _p[12] * a2 + _p[15] * m2;\n                _p[13] = _p[13] * f2 + _p[15] * n2;\n                _p[14] = _p[14] * k2 + _p[15] * o2;\n                _p[15] = _p[15] * p2;\n            //}\n            this._identityCalculated = false;\n            return this;\n        }\n\n        var a1 = _p[0];\n        var b1 = _p[1];\n        var c1 = _p[2];\n        var d1 = _p[3];\n        var e1 = _p[4];\n        var f1 = _p[5];\n        var g1 = _p[6];\n        var h1 = _p[7];\n        var i1 = _p[8];\n        var j1 = _p[9];\n        var k1 = _p[10];\n        var l1 = _p[11];\n        var m1 = _p[12];\n        var n1 = _p[13];\n        var o1 = _p[14];\n        var p1 = _p[15];\n\n        /* matrix order (canvas compatible):\n         * ace\n         * bdf\n         * 001\n         */\n        _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n        _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2 ;\n        _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2 ;\n        _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2 ;\n\n        _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2 ;\n        _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2 ;\n        _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2 ;\n        _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2 ;\n\n        _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2 ;\n        _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2 ;\n        _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2 ;\n        _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2 ;\n\n        _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2 ;\n        _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2 ;\n        _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2 ;\n        _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2 ;\n\n        this._identityCalculated = false;\n        return this;\n    }\n\n    function isIdentity() {\n        if(!this._identityCalculated){\n            this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\n            this._identityCalculated = true;\n        }\n        return this._identity;\n    }\n\n    function equals(matr){\n        var i = 0;\n        while (i < 16) {\n            if(matr.props[i] !== this.props[i]) {\n                return false;\n            }\n            i+=1;\n        }\n        return true;\n    }\n\n    function clone(matr){\n        var i;\n        for(i=0;i<16;i+=1){\n            matr.props[i] = this.props[i];\n        }\n    }\n\n    function cloneFromProps(props){\n        var i;\n        for(i=0;i<16;i+=1){\n            this.props[i] = props[i];\n        }\n    }\n\n    function applyToPoint(x, y, z) {\n\n        return {\n            x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n            y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n            z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\n        };\n        /*return {\n         x: x * me.a + y * me.c + me.e,\n         y: x * me.b + y * me.d + me.f\n         };*/\n    }\n    function applyToX(x, y, z) {\n        return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n    }\n    function applyToY(x, y, z) {\n        return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n    }\n    function applyToZ(x, y, z) {\n        return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n    }\n\n    function inversePoint(pt) {\n        var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n        var a = this.props[5]/determinant;\n        var b = - this.props[1]/determinant;\n        var c = - this.props[4]/determinant;\n        var d = this.props[0]/determinant;\n        var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12])/determinant;\n        var f = - (this.props[0] * this.props[13] - this.props[1] * this.props[12])/determinant;\n        return [pt[0] * a + pt[1] * c + e, pt[0] * b + pt[1] * d + f, 0];\n    }\n\n    function inversePoints(pts){\n        var i, len = pts.length, retPts = [];\n        for(i=0;i<len;i+=1){\n            retPts[i] = inversePoint(pts[i]);\n        }\n        return retPts;\n    }\n\n    function applyToTriplePoints(pt1, pt2, pt3) {\n        var arr = createTypedArray('float32', 6);\n        if(this.isIdentity()) {\n            arr[0] = pt1[0];\n            arr[1] = pt1[1];\n            arr[2] = pt2[0];\n            arr[3] = pt2[1];\n            arr[4] = pt3[0];\n            arr[5] = pt3[1];\n        } else {\n            var p0 = this.props[0], p1 = this.props[1], p4 = this.props[4], p5 = this.props[5], p12 = this.props[12], p13 = this.props[13];\n            arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\n            arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\n            arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\n            arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\n            arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\n            arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\n        }\n        return arr;\n    }\n\n    function applyToPointArray(x,y,z){\n        var arr;\n        if(this.isIdentity()) {\n            arr = [x,y,z];\n        } else {\n            arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\n        }\n        return arr;\n    }\n\n    function applyToPointStringified(x, y) {\n        if(this.isIdentity()) {\n            return x + ',' + y;\n        }\n        var _p = this.props;\n        return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100+','+ Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\n    }\n\n    function toCSS() {\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n        /*if(this.isIdentity()) {\n            return '';\n        }*/\n        var i = 0;\n        var props = this.props;\n        var cssValue = 'matrix3d(';\n        var v = 10000;\n        while(i<16){\n            cssValue += _rnd(props[i]*v)/v;\n            cssValue += i === 15 ? ')':',';\n            i += 1;\n        }\n        return cssValue;\n    }\n\n    function roundMatrixProperty(val) {\n        var v = 10000;\n        if((val < 0.000001 && val > 0) || (val > -0.000001 && val < 0)) {\n            return _rnd(val * v) / v;\n        }\n        return val;\n    }\n\n    function to2dCSS() {\n        //Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n        /*if(this.isIdentity()) {\n            return '';\n        }*/\n        var props = this.props;\n        var _a = roundMatrixProperty(props[0]);\n        var _b = roundMatrixProperty(props[1]);\n        var _c = roundMatrixProperty(props[4]);\n        var _d = roundMatrixProperty(props[5]);\n        var _e = roundMatrixProperty(props[12]);\n        var _f = roundMatrixProperty(props[13]);\n        return \"matrix(\" + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + \")\";\n    }\n\n    return function(){\n        this.reset = reset;\n        this.rotate = rotate;\n        this.rotateX = rotateX;\n        this.rotateY = rotateY;\n        this.rotateZ = rotateZ;\n        this.skew = skew;\n        this.skewFromAxis = skewFromAxis;\n        this.shear = shear;\n        this.scale = scale;\n        this.setTransform = setTransform;\n        this.translate = translate;\n        this.transform = transform;\n        this.applyToPoint = applyToPoint;\n        this.applyToX = applyToX;\n        this.applyToY = applyToY;\n        this.applyToZ = applyToZ;\n        this.applyToPointArray = applyToPointArray;\n        this.applyToTriplePoints = applyToTriplePoints;\n        this.applyToPointStringified = applyToPointStringified;\n        this.toCSS = toCSS;\n        this.to2dCSS = to2dCSS;\n        this.clone = clone;\n        this.cloneFromProps = cloneFromProps;\n        this.equals = equals;\n        this.inversePoints = inversePoints;\n        this.inversePoint = inversePoint;\n        this._t = this.transform;\n        this.isIdentity = isIdentity;\n        this._identity = true;\n        this._identityCalculated = false;\n\n        this.props = createTypedArray('float32', 16);\n        this.reset();\n    };\n}());\n\nexport default Matrix;\n","// import {\n//   Graphics,\n// } from 'pixi.js';\nimport ShapePropertyFactory from '../utils/shapes/ShapeProperty';\nimport {createSizedArray} from '../utils/helpers/arrays';\nimport DynamicPropertyContainer from '../utils/helpers/dynamicProperties';\n\n/**\n * a\n */\nexport default class MaskFrames extends DynamicPropertyContainer {\n  /**\n   * a\n   * @param {*} elem a\n   * @param {*} masksProperties a\n   * @param {*} session a\n   */\n  constructor(elem, masksProperties, session) {\n    super();\n    this.frameId = -1;\n    this.elem = elem;\n    this.session = session;\n    this.masksProperties = masksProperties || [];\n    this.initDynamicPropertyContainer(elem);\n    this.viewData = createSizedArray(this.masksProperties.length);\n    const len = this.masksProperties.length;\n    let hasMasks = false;\n    for (let i = 0; i < len; i++) {\n      if (this.masksProperties[i].mode !== 'n') {\n        hasMasks = true;\n      }\n      this.viewData[i] = ShapePropertyFactory.getShapeProp(this, this.masksProperties[i], 3);\n      this.viewData[i].inv = this.masksProperties[i].inv;\n    }\n    this.hasMasks = hasMasks;\n  }\n\n  /**\n   * a\n   * @param {number} frameNum frameNum\n   */\n  getValue(frameNum) {\n    if (frameNum === this.frameId) {\n      return;\n    }\n\n    this.iterateDynamicProperties(frameNum);\n\n    this.frameId = frameNum;\n  }\n}\n","\n/**\n * ProcessedElement class\n */\nexport default class ProcessedElement {\n  /**\n   * constructor processed elem\n   * @param {*} elem\n   * @param {*} position\n   */\n  constructor(elem, position) {\n    this.elem = elem;\n    this.pos = position;\n  }\n}\n","import Matrix from '../../utils/lib/transformation-matrix';\n\n/**\n * a\n */\nexport default class ShapeTransformManager {\n  /**\n   * a\n   */\n  constructor() {\n    this.sequences = {};\n    this.sequenceList = [];\n    this.transform_key_count = 0;\n  }\n\n  /**\n   * a\n   * @param {*} transforms a\n   * @return {*}\n   */\n  addTransformSequence(transforms) {\n    const len = transforms.length;\n    let key = '_';\n    for (let i = 0; i < len; i += 1) {\n      key += transforms[i].transform.key + '_';\n    }\n    let sequence = this.sequences[key];\n    if (!sequence) {\n      sequence = {\n        transforms: [].concat(transforms),\n        finalTransform: new Matrix(),\n        _mdf: false,\n      };\n      this.sequences[key] = sequence;\n      this.sequenceList.push(sequence);\n    }\n    return sequence;\n  }\n\n  /**\n   * a\n   * @param {*} sequence a\n   * @param {*} isFirstFrame a\n   */\n  processSequence(sequence, isFirstFrame) {\n    let i = 0;\n    let _mdf = isFirstFrame;\n    const len = sequence.transforms.length;\n    while (i < len && !isFirstFrame) {\n      if (sequence.transforms[i].transform.mProps._mdf) {\n        _mdf = true;\n        break;\n      }\n      i += 1;\n    }\n    if (_mdf) {\n      let props;\n      sequence.finalTransform.reset();\n      for (i = len - 1; i >= 0; i -= 1) {\n        props = sequence.transforms[i].transform.mProps.v.props;\n        sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\n      }\n    }\n    sequence._mdf = _mdf;\n  }\n\n  /**\n   * a\n   * @param {*} isFirstFrame a\n   */\n  processSequences(isFirstFrame) {\n    const len = this.sequenceList.length;\n    for (let i = 0; i < len; i += 1) {\n      this.processSequence(this.sequenceList[i], isFirstFrame);\n    }\n  }\n\n  /**\n   * a\n   * @return {*}\n   */\n  getNewKey() {\n    return '_' + this.transform_key_count++;\n  }\n}\n","import ShapePropertyFactory from '../../utils/shapes/ShapeProperty';\n\n/**\n * ShapeData class\n */\nexport default class ShapeData {\n  /**\n   * constructor ShapeData\n   * @param {*} element a\n   * @param {*} data a\n   * @param {*} styles a\n   * @param {*} transformsManager a\n   */\n  constructor(element, data, styles, transformsManager) {\n    this.styledShapes = [];\n    this.tr = [0, 0, 0, 0, 0, 0];\n    let ty = 4;\n    if (data.ty == 'rc') {\n      ty = 5;\n    } else if (data.ty == 'el') {\n      ty = 6;\n    } else if (data.ty == 'sr') {\n      ty = 7;\n    }\n    this.sh = ShapePropertyFactory.getShapeProp(element, data, ty);\n    const len = styles.length;\n    for (let i = 0; i < len; i += 1) {\n      if (!styles[i].closed) {\n        const styledShape = {\n          transforms: transformsManager.addTransformSequence(styles[i].transforms),\n          trNodes: [],\n        };\n        this.styledShapes.push(styledShape);\n        styles[i].elements.push(styledShape);\n      }\n    }\n  }\n\n  /**\n   * set as animated\n   */\n  setAsAnimated() {\n    this._isAnimated = true;\n  }\n}\n","const display = {};\nconst Type = {\n  Null: 'Null',\n  Path: 'Path',\n  Shape: 'Shape',\n  Solid: 'Solid',\n  Sprite: 'Sprite',\n  Container: 'Container',\n};\n\n/**\n * setDisplayByType\n * @param {*} type a\n * @param {*} classFn a\n */\nfunction setDisplayByType(type, classFn) {\n  display[type] = classFn;\n}\n\n/**\n * a\n * @param {*} type a\n * @return {display}\n */\nfunction getDisplayByType(type) {\n  return display[type];\n}\n\nexport default {Type, setDisplayByType, getDisplayByType};\n","import DisplayRegister from '../../register/DisplayRegister';\n\n/**\n * a\n */\nexport default class PathPaint {\n  /**\n   * constructor style element\n   * @param {*} elem item data\n   * @param {*} data item data\n   * @param {*} transforms transforms array\n   */\n  constructor(elem, data, transforms) {\n    this.elem = elem;\n    this.data = data;\n    this.type = data.ty;\n    this.preTransforms = transforms;\n    this.transforms = [];\n    this.elements = [];\n    this.closed = data.hd === true;\n\n    this.displayType = DisplayRegister.Type.Path;\n    const classFn = DisplayRegister.getDisplayByType(this.displayType);\n    this.display = new classFn(this, data);\n    this.elem.display.addChild(this.display);\n  }\n\n  /**\n   * a\n   */\n  updateGrahpics() {\n    this.display.updateLottieGrahpics(this);\n  }\n}\n","import DynamicPropertyContainer from './helpers/dynamicProperties';\nimport Matrix from './lib/transformation-matrix';\nimport PropertyFactory from './PropertyFactory';\nimport {degToRads, defaultVector, initialDefaultFrame} from '../constant/index';\n\n\n/**\n * transform property origin from tr\n */\nexport class TransformProperty extends DynamicPropertyContainer {\n  /**\n   * constructor about transform property\n   * @param {*} elem element node\n   * @param {*} data multidimensional value property data\n   * @param {*} container value property container\n   */\n  constructor(elem, data, container) {\n    super();\n    this.elem = elem;\n    this.frameId = -1;\n    this.propType = 'transform';\n    this.data = data;\n    this.v = new Matrix();\n    // Precalculated matrix with non animated properties\n    this.pre = new Matrix();\n    this.appliedTransformations = 0;\n    this.initDynamicPropertyContainer(container || elem);\n    if (data.p && data.p.s) {\n      this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\n      this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\n      if (data.p.z) {\n        this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\n      }\n    } else {\n      this.p = PropertyFactory.getProp(elem, data.p || {k: [0, 0, 0]}, 1, 0, this);\n    }\n    if (data.rx) {\n      this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\n      this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\n      this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\n      if (data.or.k[0].ti) {\n        let i; let len = data.or.k.length;\n        for (i=0; i<len; i+=1) {\n          data.or.k[i].to = data.or.k[i].ti = null;\n        }\n      }\n      this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this);\n      // sh Indicates it needs to be capped between -180 and 180\n      this.or.sh = true;\n    } else {\n      this.r = PropertyFactory.getProp(elem, data.r || {k: 0}, 0, degToRads, this);\n    }\n    if (data.sk) {\n      this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\n      this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\n    }\n    this.a = PropertyFactory.getProp(elem, data.a || {k: [0, 0, 0]}, 1, 0, this);\n    this.s = PropertyFactory.getProp(elem, data.s || {k: [100, 100, 100]}, 1, 0.01, this);\n    // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\n    if (data.o) {\n      this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\n    } else {\n      this.o = {_mdf: false, v: 1};\n    }\n    this._isDirty = true;\n    if (!this.dynamicProperties.length) {\n      this.getValue(initialDefaultFrame, true);\n    }\n  }\n\n  /**\n   * add Dynamic Property\n   * @param {*} prop Dynamic Property\n   */\n  // addDynamicProperty(prop) {\n  //   super.addDynamicProperty(prop);\n  //   this.elem.addDynamicProperty(prop);\n  //   this._isDirty = true;\n  // }\n\n  /**\n   * get transform\n   * @param {*} frameNum a\n   * @param {Boolean} forceRender force render\n   */\n  getValue(frameNum, forceRender) {\n    if (frameNum === this.frameId) {\n      return;\n    }\n    if (this._isDirty) {\n      this.precalculateMatrix();\n      this._isDirty = false;\n    }\n\n    this.iterateDynamicProperties();\n\n    if (this._mdf || forceRender) {\n      this.v.cloneFromProps(this.pre.props);\n      if (this.appliedTransformations < 1) {\n        this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n      }\n      if (this.appliedTransformations < 2) {\n        this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n      }\n      if (this.sk && this.appliedTransformations < 3) {\n        this.v.skewFromAxis(-this.sk.v, this.sa.v);\n      }\n      if (this.r && this.appliedTransformations < 4) {\n        this.v.rotate(-this.r.v);\n      } else if (!this.r && this.appliedTransformations < 4) {\n        this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n      }\n      if (this.autoOriented) {\n        let v1; let v2;\n        // FIXME: should use frame interval\n        const frameRate = this.elem.globalData.frameRate;\n        if (this.p && this.p.keyframes && this.p.getValueAtTime) {\n          if (this.p._caching.lastFrame+this.p.offsetTime <= this.p.keyframes[0].t) {\n            v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\n            v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\n          } else if (this.p._caching.lastFrame+this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\n            v1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / frameRate), 0);\n            v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\n          } else {\n            v1 = this.p.pv;\n            v2 = this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\n          }\n        } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\n          v1 = [];\n          v2 = [];\n          let px = this.px; let py = this.py;\n          if (px._caching.lastFrame+px.offsetTime <= px.keyframes[0].t) {\n            v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\n            v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\n            v2[0] = px.getValueAtTime((px.keyframes[0].t) / frameRate, 0);\n            v2[1] = py.getValueAtTime((py.keyframes[0].t) / frameRate, 0);\n          } else if (px._caching.lastFrame+px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\n            v1[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t / frameRate), 0);\n            v1[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t / frameRate), 0);\n            v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\n            v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\n          } else {\n            v1 = [px.pv, py.pv];\n            v2[0] = px.getValueAtTime((px._caching.lastFrame+px.offsetTime - 0.01) / frameRate, px.offsetTime);\n            v2[1] = py.getValueAtTime((py._caching.lastFrame+py.offsetTime - 0.01) / frameRate, py.offsetTime);\n          }\n        } else {\n          v1 = v2 = defaultVector;\n        }\n        this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\n      }\n      if (this.data.p && this.data.p.s) {\n        if (this.data.p.z) {\n          this.v.translate(this.px.v, this.py.v, -this.pz.v);\n        } else {\n          this.v.translate(this.px.v, this.py.v, 0);\n        }\n      } else {\n        this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n      }\n    }\n    this.frameId = frameNum;\n  }\n\n  /**\n   * pre calculate matrix for performance\n   */\n  precalculateMatrix() {\n    if (!this.a.k) {\n      this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n      this.appliedTransformations = 1;\n    } else {\n      return;\n    }\n    if (!this.s.effectsSequence.length) {\n      this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n      this.appliedTransformations = 2;\n    } else {\n      return;\n    }\n    if (this.sk) {\n      if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\n        this.pre.skewFromAxis(-this.sk.v, this.sa.v);\n        this.appliedTransformations = 3;\n      } else {\n        return;\n      }\n    }\n    if (this.r) {\n      if (!this.r.effectsSequence.length) {\n        this.pre.rotate(-this.r.v);\n        this.appliedTransformations = 4;\n      } else {\n        return;\n      }\n    } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\n      this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n      this.appliedTransformations = 4;\n    }\n  }\n\n  /**\n   * apply a matrix\n   * @param {*} mat matrix\n   */\n  applyToMatrix(mat) {\n    let _mdf = this._mdf;\n    this.iterateDynamicProperties();\n    this._mdf = this._mdf || _mdf;\n    if (this.a) {\n      mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n    }\n    if (this.s) {\n      mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n    }\n    if (this.sk) {\n      mat.skewFromAxis(-this.sk.v, this.sa.v);\n    }\n    if (this.r) {\n      mat.rotate(-this.r.v);\n    } else {\n      mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n    }\n    if (this.data.p.s) {\n      if (this.data.p.z) {\n        mat.translate(this.px.v, this.py.v, -this.pz.v);\n      } else {\n        mat.translate(this.px.v, this.py.v, 0);\n      }\n    } else {\n      mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n    }\n  }\n}\n\n/**\n * get a transform property\n * @param {*} elem element node\n * @param {*} data multidimensional value property data\n * @param {*} container value property container\n * @return {TransformProperty}\n */\nexport function getTransformProperty(elem, data, container) {\n  return new TransformProperty(elem, data, container);\n}\n\n// export default { getTransformProperty };\n","import DynamicPropertyContainer from '../helpers/dynamicProperties';\nimport ShapeCollectionPool from '../pooling/ShapeCollectionPool';\nimport {initialDefaultFrame} from '../../constant/index';\n\n/**\n * a\n */\nexport default class ShapeModifier extends DynamicPropertyContainer {\n  /**\n   * a\n   */\n  initModifierProperties() {}\n\n  /**\n   * a\n   */\n  addShapeToModifier() {}\n\n  /**\n   * a\n   * @param {*} data a\n   */\n  addShape(data) {\n    if (!this.closed) {\n      // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\n      data.sh.container.addDynamicProperty(data.sh);\n\n      const shapeData = {shape: data.sh, data: data, localShapeCollection: ShapeCollectionPool.newShapeCollection()};\n      this.shapes.push(shapeData);\n      this.addShapeToModifier(shapeData);\n      if (this._isAnimated) {\n        data.setAsAnimated();\n      }\n    }\n  }\n\n  /**\n   * a\n   * @param {*} elem a\n   * @param {*} data a\n   */\n  init(elem, data) {\n    this.shapes = [];\n    this.elem = elem;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, data);\n    this.frameId = initialDefaultFrame;\n    this.closed = false;\n    this.k = false;\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  }\n\n  /**\n   * process keys\n   * @param {number} frameNum frameNum\n   */\n  processKeys(frameNum) {\n    if (frameNum === this.frameId) {\n      return;\n    }\n    this.frameId = frameNum;\n    this.iterateDynamicProperties(frameNum);\n  }\n}\n\n","import ShapeModifier from './ShapeModifier';\n// import { registerModifier } from './ShapeModifiers';\nimport PropertyFactory from '../PropertyFactory';\nimport SegmentsLengthPool from '../pooling/SegmentsLengthPool';\nimport ShapePool from '../pooling/ShapePool';\nimport bez from '../bez';\n\n\n/**\n * TrimModifier class\n */\nexport default class TrimModifier extends ShapeModifier {\n  /**\n   * init modifier properties\n   * @param {*} elem element node\n   * @param {*} data trim value property data\n   */\n  initModifierProperties(elem, data) {\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\n    this.sValue = 0;\n    this.eValue = 0;\n    this.getValue = this.processKeys;\n    this.m = data.m;\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\n  }\n\n  /**\n   * add shape to modifier\n   * @param {*} shapeData shape data\n   */\n  addShapeToModifier(shapeData) {\n    shapeData.pathsData = [];\n  }\n\n  /**\n   * calculate shape edges\n   * @param {*} s trim start\n   * @param {*} e trim end\n   * @param {*} shapeLength shape length\n   * @param {*} addedLength added length\n   * @param {*} totalModifierLength total modifier length\n   * @return {*}\n   */\n  calculateShapeEdges(s, e, shapeLength, addedLength, totalModifierLength) {\n    let segments = [];\n    if (e <= 1) {\n      segments.push({\n        s: s,\n        e: e,\n      });\n    } else if (s >= 1) {\n      segments.push({\n        s: s - 1,\n        e: e - 1,\n      });\n    } else {\n      segments.push({\n        s: s,\n        e: 1,\n      });\n      segments.push({\n        s: 0,\n        e: e - 1,\n      });\n    }\n    let shapeSegments = [];\n    let i; let len = segments.length; let segmentOb;\n    for (i = 0; i < len; i += 1) {\n      segmentOb = segments[i];\n      if (segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength) {\n        // do nothing\n      } else {\n        let shapeS; let shapeE;\n        if (segmentOb.s * totalModifierLength <= addedLength) {\n          shapeS = 0;\n        } else {\n          shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\n        }\n        if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\n          shapeE = 1;\n        } else {\n          shapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\n        }\n        shapeSegments.push([shapeS, shapeE]);\n      }\n    }\n    if (!shapeSegments.length) {\n      shapeSegments.push([0, 0]);\n    }\n    return shapeSegments;\n  }\n\n  /**\n   * release paths data\n   * @param {*} pathsData paths data\n   * @return {*}\n   */\n  releasePathsData(pathsData) {\n    const len = pathsData.length;\n    for (let i = 0; i < len; i += 1) {\n      SegmentsLengthPool.release(pathsData[i]);\n    }\n    pathsData.length = 0;\n    return pathsData;\n  }\n\n  /**\n   * a\n   * @param {*} _isFirstFrame a\n   */\n  processShapes(_isFirstFrame) {\n    let s; let e;\n    if (this._mdf || _isFirstFrame) {\n      let o = (this.o.v % 360) / 360;\n      if (o < 0) {\n        o += 1;\n      }\n      s = (this.s.v > 1 ? 1 : this.s.v < 0 ? 0 : this.s.v) + o;\n      e = (this.e.v > 1 ? 1 : this.e.v < 0 ? 0 : this.e.v) + o;\n      if (s === e) {\n        // do nothing\n      }\n      if (s > e) {\n        let _s = s;\n        s = e;\n        e = _s;\n      }\n      s = Math.round(s * 10000) * 0.0001;\n      e = Math.round(e * 10000) * 0.0001;\n      this.sValue = s;\n      this.eValue = e;\n    } else {\n      s = this.sValue;\n      e = this.eValue;\n    }\n    let shapePaths;\n    let i; let len = this.shapes.length; let j; let jLen;\n    let pathsData; let pathData; let totalShapeLength; let totalModifierLength = 0;\n\n    if (e === s) {\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].localShapeCollection.releaseShapes();\n        this.shapes[i].shape._mdf = true;\n        this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\n        if (this._mdf) {\n          this.shapes[i].pathsData.length = 0;\n        }\n      }\n    } else if (!((e === 1 && s === 0) || (e===0 && s === 1))) {\n      let segments = []; let shapeData; let localShapeCollection;\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\n        if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\n          shapeData.shape.paths = shapeData.localShapeCollection;\n        } else {\n          shapePaths = shapeData.shape.paths;\n          jLen = shapePaths._length;\n          totalShapeLength = 0;\n          if (!shapeData.shape._mdf && shapeData.pathsData.length) {\n            totalShapeLength = shapeData.totalShapeLength;\n          } else {\n            pathsData = this.releasePathsData(shapeData.pathsData);\n            for (j = 0; j < jLen; j += 1) {\n              pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\n              pathsData.push(pathData);\n              totalShapeLength += pathData.totalLength;\n            }\n            shapeData.totalShapeLength = totalShapeLength;\n            shapeData.pathsData = pathsData;\n          }\n\n          totalModifierLength += totalShapeLength;\n          shapeData.shape._mdf = true;\n        }\n      }\n      let shapeS = s; let shapeE = e; let addedLength = 0; let edges;\n      for (i = len - 1; i >= 0; i -= 1) {\n        shapeData = this.shapes[i];\n        if (shapeData.shape._mdf) {\n          localShapeCollection = shapeData.localShapeCollection;\n          localShapeCollection.releaseShapes();\n          // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\n          if (this.m === 2 && len > 1) {\n            edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\n            addedLength += shapeData.totalShapeLength;\n          } else {\n            edges = [[shapeS, shapeE]];\n          }\n          jLen = edges.length;\n          for (j = 0; j < jLen; j += 1) {\n            shapeS = edges[j][0];\n            shapeE = edges[j][1];\n            segments.length = 0;\n            if (shapeE <= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength * shapeE,\n              });\n            } else if (shapeS >= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * (shapeS - 1),\n                e: shapeData.totalShapeLength * (shapeE - 1),\n              });\n            } else {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength,\n              });\n              segments.push({\n                s: 0,\n                e: shapeData.totalShapeLength * (shapeE - 1),\n              });\n            }\n            let newShapesData = this.addShapes(shapeData, segments[0]);\n            if (segments[0].s !== segments[0].e) {\n              if (segments.length > 1) {\n                let lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\n                if (lastShapeInCollection.c) {\n                  let lastShape = newShapesData.pop();\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1], lastShape);\n                } else {\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1]);\n                }\n              }\n              this.addPaths(newShapesData, localShapeCollection);\n            }\n          }\n          shapeData.shape.paths = localShapeCollection;\n        }\n      }\n    } else if (this._mdf) {\n      for (i = 0; i < len; i += 1) {\n        // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\n        // Don't remove this even if it's losing cached info.\n        this.shapes[i].pathsData.length = 0;\n        this.shapes[i].shape._mdf = true;\n      }\n    }\n  }\n\n  /**\n   * add paths\n   * @param {*} newPaths new paths\n   * @param {*} localShapeCollection local shape collection\n   */\n  addPaths(newPaths, localShapeCollection) {\n    const len = newPaths.length;\n    for (let i = 0; i < len; i += 1) {\n      localShapeCollection.addShape(newPaths[i]);\n    }\n  }\n\n  /**\n   * add segment\n   * @param {*} pt1 point1\n   * @param {*} pt2 point2\n   * @param {*} pt3 point3\n   * @param {*} pt4 point4\n   * @param {*} shapePath target shape path\n   * @param {*} pos data index\n   * @param {*} newShape is new shape ?\n   */\n  addSegment(pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\n    if (newShape) {\n      shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\n    }\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\n  }\n\n  /**\n   * add segment from points array\n   * @param {*} points points\n   * @param {*} shapePath target shape path\n   * @param {*} pos data index\n   * @param {*} newShape is new shape ?\n   */\n  addSegmentFromArray(points, shapePath, pos, newShape) {\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\n    if (newShape) {\n      shapePath.setXYAt(points[0], points[4], 'v', pos);\n    }\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\n  }\n\n  /**\n   * add shapes to this modifier\n   * @param {*} shapeData shape data\n   * @param {*} shapeSegment shape segment\n   * @param {*} shapePath shape path\n   * @return {*}\n   */\n  addShapes(shapeData, shapeSegment, shapePath) {\n    let pathsData = shapeData.pathsData;\n    let shapePaths = shapeData.shape.paths.shapes;\n    let i; let len = shapeData.shape.paths._length; let j; let jLen;\n    let addedLength = 0;\n    let currentLengthData; let segmentCount;\n    let lengths;\n    let segment;\n    let shapes = [];\n    let initPos;\n    let newShape = true;\n    if (!shapePath) {\n      shapePath = ShapePool.newElement();\n      segmentCount = 0;\n      initPos = 0;\n    } else {\n      segmentCount = shapePath._length;\n      initPos = shapePath._length;\n    }\n    shapes.push(shapePath);\n    for (i = 0; i < len; i += 1) {\n      lengths = pathsData[i].lengths;\n      shapePath.c = shapePaths[i].c;\n      jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\n      for (j = 1; j < jLen; j +=1) {\n        currentLengthData = lengths[j-1];\n        if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\n          addedLength += currentLengthData.addedLength;\n          shapePath.c = false;\n        } else if (addedLength > shapeSegment.e) {\n          shapePath.c = false;\n          break;\n        } else {\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength)/currentLengthData.addedLength, (shapeSegment.e - addedLength)/currentLengthData.addedLength, lengths[j-1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\n            // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n            newShape = false;\n            shapePath.c = false;\n          }\n          addedLength += currentLengthData.addedLength;\n          segmentCount += 1;\n        }\n      }\n      if (shapePaths[i].c && lengths.length) {\n        currentLengthData = lengths[j - 1];\n        if (addedLength <= shapeSegment.e) {\n          let segmentLength = lengths[j - 1].addedLength;\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\n            // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n            newShape = false;\n            shapePath.c = false;\n          }\n        } else {\n          shapePath.c = false;\n        }\n        addedLength += currentLengthData.addedLength;\n        segmentCount += 1;\n      }\n      if (shapePath._length) {\n        shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\n        shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\n      }\n      if (addedLength > shapeSegment.e) {\n        break;\n      }\n      if (i < len - 1) {\n        shapePath = ShapePool.newElement();\n        newShape = true;\n        shapes.push(shapePath);\n        segmentCount = 0;\n      }\n    }\n    return shapes;\n  }\n}\n","import ShapeModifier from './ShapeModifier';\nimport PropertyFactory from '../PropertyFactory';\nimport ShapePool from '../pooling/ShapePool';\n\nconst roundCorner = 0.5519;\n\n/**\n * a\n */\nexport default class RoundCornersModifier extends ShapeModifier {\n  /**\n   * init modifier properties\n   * @param {*} elem element node\n   * @param {*} data round corners value property data\n   */\n  initModifierProperties(elem, data) {\n    this.getValue = this.processKeys;\n    this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this._isAnimated = !!this.rd.effectsSequence.length;\n  }\n\n  /**\n   * process path\n   * @param {*} path path\n   * @param {*} round round\n   * @return {*}\n   */\n  processPath(path, round) {\n    const clonedPath = ShapePool.newElement();\n    clonedPath.c = path.c;\n    let i; let len = path._length;\n    let currentV;\n    let currentI;\n    let currentO;\n    let closerV;\n    // let newV;\n    // let newO;\n    // let newI;\n    let distance;\n    let newPosPerc;\n    let index = 0;\n    let vX; let vY; let oX; let oY; let iX; let iY;\n    for (i=0; i<len; i+=1) {\n      currentV = path.v[i];\n      currentO = path.o[i];\n      currentI = path.i[i];\n      if (currentV[0]===currentO[0] && currentV[1]===currentO[1] && currentV[0]===currentI[0] && currentV[1]===currentI[1]) {\n        if ((i===0 || i === len - 1) && !path.c) {\n          clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\n          /* clonedPath.v[index] = currentV;\n                clonedPath.o[index] = currentO;\n                clonedPath.i[index] = currentI;*/\n          index += 1;\n        } else {\n          if (i===0) {\n            closerV = path.v[len-1];\n          } else {\n            closerV = path.v[i-1];\n          }\n          distance = Math.sqrt(Math.pow(currentV[0]-closerV[0], 2)+Math.pow(currentV[1]-closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance/2, round)/distance : 0;\n          vX = iX = currentV[0]+(closerV[0]-currentV[0])*newPosPerc;\n          vY = iY = currentV[1]-(currentV[1]-closerV[1])*newPosPerc;\n          oX = vX-(vX-currentV[0])*roundCorner;\n          oY = vY-(vY-currentV[1])*roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n\n          if (i === len - 1) {\n            closerV = path.v[0];\n          } else {\n            closerV = path.v[i+1];\n          }\n          distance = Math.sqrt(Math.pow(currentV[0]-closerV[0], 2)+Math.pow(currentV[1]-closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance/2, round)/distance : 0;\n          vX = oX = currentV[0]+(closerV[0]-currentV[0])*newPosPerc;\n          vY = oY = currentV[1]+(closerV[1]-currentV[1])*newPosPerc;\n          iX = vX-(vX-currentV[0])*roundCorner;\n          iY = vY-(vY-currentV[1])*roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n        }\n      } else {\n        clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\n        index += 1;\n      }\n    }\n    return clonedPath;\n  }\n\n  /**\n   * process shapes\n   * @param {*} _isFirstFrame is first frame\n   */\n  processShapes(_isFirstFrame) {\n    let shapePaths;\n    let i; let len = this.shapes.length;\n    let j; let jLen;\n    let rd = this.rd.v;\n\n    if (rd !== 0) {\n      let shapeData;\n      // let newPaths;\n      let localShapeCollection;\n      for (i=0; i<len; i+=1) {\n        shapeData = this.shapes[i];\n        // newPaths = shapeData.shape.paths;\n        localShapeCollection = shapeData.localShapeCollection;\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n          for (j=0; j<jLen; j+=1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\n          }\n        }\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  }\n}\n","import ShapeModifier from './ShapeModifier';\nimport PropertyFactory from '../PropertyFactory';\nimport {getTransformProperty} from '../TransformProperty';\nimport Matrix from '../lib/transformation-matrix';\n\n/**\n * a\n */\nexport default class RepeaterModifier extends ShapeModifier {\n  /**\n   * a\n   * @param {*} elem a\n   * @param {*} data a\n   */\n  initModifierProperties(elem, data) {\n    this.getValue = this.processKeys;\n    this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\n    this.tr = getTransformProperty(elem, data.tr, this);\n    this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\n    this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\n    this.data = data;\n    if (!this.dynamicProperties.length) {\n      this.getValue(true);\n    }\n    this._isAnimated = !!this.dynamicProperties.length;\n    this.pMatrix = new Matrix();\n    this.rMatrix = new Matrix();\n    this.sMatrix = new Matrix();\n    this.tMatrix = new Matrix();\n    this.matrix = new Matrix();\n  }\n\n  /**\n   * a\n   * @param {*} pMatrix a\n   * @param {*} rMatrix a\n   * @param {*} sMatrix a\n   * @param {*} transform a\n   * @param {*} perc a\n   * @param {*} inv a\n   */\n  applyTransforms(pMatrix, rMatrix, sMatrix, transform, perc, inv) {\n    let dir = inv ? -1 : 1;\n    let scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\n    let scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    rMatrix.rotate(-transform.r.v * dir * perc);\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    sMatrix.scale(inv ? 1/scaleX : scaleX, inv ? 1/scaleY : scaleY);\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n  }\n\n  /**\n   * a\n   * @param {*} elem a\n   * @param {*} arr a\n   * @param {*} pos a\n   * @param {*} elemsData a\n   */\n  init(elem, arr, pos, elemsData) {\n    this.elem = elem;\n    this.arr = arr;\n    this.pos = pos;\n    this.elemsData = elemsData;\n    this._currentCopies = 0;\n    this._elements = [];\n    this._groups = [];\n    this.frameId = -1;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, arr[pos]);\n    while (pos>0) {\n      pos -= 1;\n      // this._elements.unshift(arr.splice(pos,1)[0]);\n      this._elements.unshift(arr[pos]);\n    }\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  }\n\n  /**\n   * a\n   * @param {*} elements a\n   */\n  resetElements(elements) {\n    const len = elements.length;\n    for (let i = 0; i < len; i += 1) {\n      elements[i]._processed = false;\n      if (elements[i].ty === 'gr') {\n        this.resetElements(elements[i].it);\n      }\n    }\n  }\n\n  /**\n   * a\n   * @param {*} elements a\n   * @return {*}\n   */\n  cloneElements(elements) {\n    let newElements = JSON.parse(JSON.stringify(elements));\n    this.resetElements(newElements);\n    return newElements;\n  }\n\n  /**\n   * a\n   * @param {*} elements a\n   * @param {*} renderFlag a\n   */\n  changeGroupRender(elements, renderFlag) {\n    const len = elements.length;\n    for (let i = 0; i < len; i += 1) {\n      elements[i]._render = renderFlag;\n      if (elements[i].ty === 'gr') {\n        this.changeGroupRender(elements[i].it, renderFlag);\n      }\n    }\n  }\n\n  /**\n   * a\n   * @param {*} _isFirstFrame a\n   */\n  processShapes(_isFirstFrame) {\n    // let items, itemsTransform, i, dir, cont;\n    if (this._mdf || _isFirstFrame) {\n      let copies = Math.ceil(this.c.v);\n      if (this._groups.length < copies) {\n        while (this._groups.length < copies) {\n          let group = {\n            it: this.cloneElements(this._elements),\n            ty: 'gr',\n          };\n          group.it.push({'a': {'a': 0, 'ix': 1, 'k': [0, 0]}, 'nm': 'Transform', 'o': {'a': 0, 'ix': 7, 'k': 100}, 'p': {'a': 0, 'ix': 2, 'k': [0, 0]}, 'r': {'a': 1, 'ix': 6, 'k': [{s: 0, e: 0, t: 0}, {s: 0, e: 0, t: 1}]}, 's': {'a': 0, 'ix': 3, 'k': [100, 100]}, 'sa': {'a': 0, 'ix': 5, 'k': 0}, 'sk': {'a': 0, 'ix': 4, 'k': 0}, 'ty': 'tr'});\n\n          this.arr.splice(0, 0, group);\n          this._groups.splice(0, 0, group);\n          this._currentCopies += 1;\n        }\n        this.elem.reloadShapes();\n      }\n      let cont = 0;\n      let i;\n      let renderFlag;\n      for (i = 0; i <= this._groups.length - 1; i += 1) {\n        renderFlag = cont < copies;\n        this._groups[i]._render = renderFlag;\n        this.changeGroupRender(this._groups[i].it, renderFlag);\n        cont += 1;\n      }\n\n      this._currentCopies = copies;\n      // //\n\n      let offset = this.o.v;\n      let offsetModulo = offset%1;\n      let roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\n      // let k;\n      // let tMat = this.tr.v.props;\n      let pProps = this.pMatrix.props;\n      let rProps = this.rMatrix.props;\n      let sProps = this.sMatrix.props;\n      this.pMatrix.reset();\n      this.rMatrix.reset();\n      this.sMatrix.reset();\n      this.tMatrix.reset();\n      this.matrix.reset();\n      let iteration = 0;\n\n      if (offset > 0) {\n        while (iteration<roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          iteration += 1;\n        }\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\n          iteration += offsetModulo;\n        }\n      } else if (offset < 0) {\n        while (iteration>roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\n          iteration -= 1;\n        }\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, - offsetModulo, true);\n          iteration -= offsetModulo;\n        }\n      }\n      i = this.data.m === 1 ? 0 : this._currentCopies - 1;\n      const dir = this.data.m === 1 ? 1 : -1;\n      cont = this._currentCopies;\n      while (cont) {\n        const items = this.elemsData[i].it;\n        const itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        const jLen = itemsTransform.length;\n        items[items.length - 1].transform.mProps._mdf = true;\n        items[items.length - 1].transform.op._mdf = true;\n        items[items.length - 1].transform.op.v = this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\n        if (iteration !== 0) {\n          if ((i !== 0 && dir === 1) || (i !== this._currentCopies - 1 && dir === -1)) {\n            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          }\n          this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\n          this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\n          this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\n\n          for (let j=0; j<jLen; j+=1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n          this.matrix.reset();\n        } else {\n          this.matrix.reset();\n          for (let j=0; j<jLen; j+=1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n        }\n        iteration += 1;\n        cont -= 1;\n        i += dir;\n      }\n    } else {\n      let cont = this._currentCopies;\n      let i = 0;\n      const dir = 1;\n      while (cont) {\n        const items = this.elemsData[i].it;\n        // const itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        items[items.length - 1].transform.mProps._mdf = false;\n        items[items.length - 1].transform.op._mdf = false;\n        cont -= 1;\n        i += dir;\n      }\n    }\n  }\n\n  /**\n   * a\n   */\n  addShape() {}\n}\n","import ShapeModifier from './ShapeModifier';\n\n/**\n * MouseModifier class\n */\nexport default class MouseModifier extends ShapeModifier {\n  /**\n   * init modifier properties\n   * @param {*} elem element node\n   * @param {*} data mouse value property data\n   */\n  initModifierProperties(elem, data) {\n    this.getValue = this.processKeys;\n    this.data = data;\n    this.positions = [];\n  }\n\n  /**\n   * process keys\n   * @param {number} frameNum frameNum\n   * @param {*} forceRender force render\n   */\n  processKeys(frameNum, forceRender) {\n    if (frameNum === this.frameId && !forceRender) {\n      return;\n    }\n    this._mdf = true;\n  }\n\n  /**\n   * add shape to modifier\n   */\n  addShapeToModifier() {\n    this.positions.push([]);\n  }\n\n  /**\n   * a\n   * @param {*} path a\n   * @param {*} mouseCoords a\n   * @param {*} positions a\n   * @return {*}\n   */\n  processPath(path, mouseCoords, positions) {\n    let i; let len = path.v.length;\n    let vValues = []; let oValues = []; let iValues = [];\n    // let dist;\n    let theta; let x; let y;\n    // // OPTION A\n    for (i=0; i<len; i+=1) {\n      if (!positions.v[i]) {\n        positions.v[i] = [path.v[i][0], path.v[i][1]];\n        positions.o[i] = [path.o[i][0], path.o[i][1]];\n        positions.i[i] = [path.i[i][0], path.i[i][1]];\n        positions.distV[i] = 0;\n        positions.distO[i] = 0;\n        positions.distI[i] = 0;\n      }\n      theta = Math.atan2(\n        path.v[i][1] - mouseCoords[1],\n        path.v[i][0] - mouseCoords[0]\n      );\n\n      x = mouseCoords[0] - positions.v[i][0];\n      y = mouseCoords[1] - positions.v[i][1];\n      let distance = Math.sqrt( (x * x) + (y * y) );\n      positions.distV[i] += (distance - positions.distV[i]) * this.data.dc;\n\n      positions.v[i][0] = Math.cos(theta) * Math.max(0, this.data.maxDist-positions.distV[i])/2 + (path.v[i][0]);\n      positions.v[i][1] = Math.sin(theta) * Math.max(0, this.data.maxDist-positions.distV[i])/2 + (path.v[i][1]);\n\n\n      theta = Math.atan2(\n        path.o[i][1] - mouseCoords[1],\n        path.o[i][0] - mouseCoords[0]\n      );\n\n      x = mouseCoords[0] - positions.o[i][0];\n      y = mouseCoords[1] - positions.o[i][1];\n      distance = Math.sqrt( (x * x) + (y * y) );\n      positions.distO[i] += (distance - positions.distO[i]) * this.data.dc;\n\n      positions.o[i][0] = Math.cos(theta) * Math.max(0, this.data.maxDist-positions.distO[i])/2 + (path.o[i][0]);\n      positions.o[i][1] = Math.sin(theta) * Math.max(0, this.data.maxDist-positions.distO[i])/2 + (path.o[i][1]);\n\n\n      theta = Math.atan2(\n        path.i[i][1] - mouseCoords[1],\n        path.i[i][0] - mouseCoords[0]\n      );\n\n      x = mouseCoords[0] - positions.i[i][0];\n      y = mouseCoords[1] - positions.i[i][1];\n      distance = Math.sqrt( (x * x) + (y * y) );\n      positions.distI[i] += (distance - positions.distI[i]) * this.data.dc;\n\n      positions.i[i][0] = Math.cos(theta) * Math.max(0, this.data.maxDist-positions.distI[i])/2 + (path.i[i][0]);\n      positions.i[i][1] = Math.sin(theta) * Math.max(0, this.data.maxDist-positions.distI[i])/2 + (path.i[i][1]);\n\n      // ///OPTION 1\n      vValues.push(positions.v[i]);\n      oValues.push(positions.o[i]);\n      iValues.push(positions.i[i]);\n\n\n      // ///OPTION 2\n      // vValues.push(positions.v[i]);\n      // iValues.push([path.i[i][0]+(positions.v[i][0]-path.v[i][0]),path.i[i][1]+(positions.v[i][1]-path.v[i][1])]);\n      // oValues.push([path.o[i][0]+(positions.v[i][0]-path.v[i][0]),path.o[i][1]+(positions.v[i][1]-path.v[i][1])]);\n\n\n      // ///OPTION 3\n      // vValues.push(positions.v[i]);\n      // iValues.push(path.i[i]);\n      // oValues.push(path.o[i]);\n\n\n      // ///OPTION 4\n      // vValues.push(path.v[i]);\n      // oValues.push(positions.o[i]);\n      // iValues.push(positions.i[i]);\n    }\n\n\n    // // OPTION B\n    /* for(i=0;i<len;i+=1){\n          if(!positions.v[i]){\n              positions.v[i] = [path.v[i][0],path.v[i][1]];\n              positions.o[i] = [path.o[i][0],path.o[i][1]];\n              positions.i[i] = [path.i[i][0],path.i[i][1]];\n              positions.distV[i] = 0;\n\n          }\n          theta = Math.atan2(\n              positions.v[i][1] - mouseCoords[1],\n              positions.v[i][0] - mouseCoords[0]\n          );\n          x = mouseCoords[0] - positions.v[i][0];\n          y = mouseCoords[1] - positions.v[i][1];\n          var distance = this.data.ss * this.data.mx / Math.sqrt( (x * x) + (y * y) );\n\n          positions.v[i][0] += Math.cos(theta) * distance + (path.v[i][0] - positions.v[i][0]) * this.data.dc;\n          positions.v[i][1] += Math.sin(theta) * distance + (path.v[i][1] - positions.v[i][1]) * this.data.dc;\n\n\n          theta = Math.atan2(\n              positions.o[i][1] - mouseCoords[1],\n              positions.o[i][0] - mouseCoords[0]\n          );\n          x = mouseCoords[0] - positions.o[i][0];\n          y = mouseCoords[1] - positions.o[i][1];\n          var distance =  this.data.ss * this.data.mx / Math.sqrt( (x * x) + (y * y) );\n\n          positions.o[i][0] += Math.cos(theta) * distance + (path.o[i][0] - positions.o[i][0]) * this.data.dc;\n          positions.o[i][1] += Math.sin(theta) * distance + (path.o[i][1] - positions.o[i][1]) * this.data.dc;\n\n\n          theta = Math.atan2(\n              positions.i[i][1] - mouseCoords[1],\n              positions.i[i][0] - mouseCoords[0]\n          );\n          x = mouseCoords[0] - positions.i[i][0];\n          y = mouseCoords[1] - positions.i[i][1];\n          var distance =  this.data.ss * this.data.mx / Math.sqrt( (x * x) + (y * y) );\n\n          positions.i[i][0] += Math.cos(theta) * distance + (path.i[i][0] - positions.i[i][0]) * this.data.dc;\n          positions.i[i][1] += Math.sin(theta) * distance + (path.i[i][1] - positions.i[i][1]) * this.data.dc;\n\n          /////OPTION 1\n          //vValues.push(positions.v[i]);\n          // oValues.push(positions.o[i]);\n          // iValues.push(positions.i[i]);\n\n\n          /////OPTION 2\n          //vValues.push(positions.v[i]);\n          // iValues.push([path.i[i][0]+(positions.v[i][0]-path.v[i][0]),path.i[i][1]+(positions.v[i][1]-path.v[i][1])]);\n          // oValues.push([path.o[i][0]+(positions.v[i][0]-path.v[i][0]),path.o[i][1]+(positions.v[i][1]-path.v[i][1])]);\n\n\n          /////OPTION 3\n          //vValues.push(positions.v[i]);\n          //iValues.push(path.i[i]);\n          //oValues.push(path.o[i]);\n\n\n          /////OPTION 4\n          //vValues.push(path.v[i]);\n          // oValues.push(positions.o[i]);\n          // iValues.push(positions.i[i]);\n      }*/\n\n\n    return {\n      v: vValues,\n      o: oValues,\n      i: iValues,\n      c: path.c,\n    };\n  }\n\n  /**\n   * process shapes\n   */\n  processShapes() {\n    // FIXME: mouse modifier data\n    let mouseX = this.elem.globalData.mouseX;\n    let mouseY = this.elem.globalData.mouseY;\n    let shapePaths;\n    let i; let len = this.shapes.length;\n    let j; let jLen;\n\n    if (mouseX) {\n      let localMouseCoords = this.elem.globalToLocal([mouseX, mouseY, 0]);\n\n      let shapeData; let newPaths = [];\n      for (i=0; i<len; i+=1) {\n        shapeData = this.shapes[i];\n        if (!shapeData.shape._mdf && !this._mdf) {\n          shapeData.shape.paths = shapeData.last;\n        } else {\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths;\n          jLen = shapePaths.length;\n          for (j=0; j<jLen; j+=1) {\n            if (!this.positions[i][j]) {\n              this.positions[i][j] = {\n                v: [],\n                o: [],\n                i: [],\n                distV: [],\n                distO: [],\n                distI: [],\n              };\n            }\n            newPaths.push(this.processPath(shapePaths[j], localMouseCoords, this.positions[i][j]));\n          }\n          shapeData.shape.paths = newPaths;\n          shapeData.last = newPaths;\n        }\n      }\n    }\n  }\n}\n","import TrimModifier from './TrimModifier';\nimport RoundCornersModifier from './RoundCornersModifier';\nimport RepeaterModifier from './RepeaterModifier';\nimport MouseModifier from './MouseModifier';\n\nconst modifiers = {};\n\n/**\n * a\n * @param {*} nm a\n * @param {*} factory a\n */\nfunction registerModifier(nm, factory) {\n  if (!modifiers[nm]) {\n    modifiers[nm] = factory;\n  }\n}\n\n/**\n * a\n * @param {*} nm a\n * @param {*} elem a\n * @param {*} data a\n * @return {*}\n */\nfunction getModifier(nm, elem, data) {\n  return new modifiers[nm](elem, data);\n}\n\nregisterModifier('tm', TrimModifier);\nregisterModifier('rd', RoundCornersModifier);\nregisterModifier('rp', RepeaterModifier);\nregisterModifier('ms', MouseModifier);\n\nexport default {getModifier};\n","import {BezierEasing} from '../lottie-core/index';\n/* eslint no-cond-assign: \"off\" */\n/* eslint new-cap: 0 */\n/* eslint max-len: 0 */\n\n\n/**\n * Tween timing-function set\n *\n * ```js\n * // demo-A\n * dispayA.animate({\n *   from: {x: 100},\n *   to: {x: 200},\n *   ease: Tween.Ease.In, // use which timing-function ?\n * })\n * // demo-B\n * dispayB.animate({\n *   from: {x: 100},\n *   to: {x: 200},\n *   ease: Tween.Ease.Bezier(0.4, 0.34, 0.6, 0.78), // use which timing-function ?\n * })\n * ```\n * @namespace Tween\n */\n\nexport const Tween = {\n\n  /**\n   * Tween.Linear timing-function set\n   *\n   * @memberof Tween\n   * @name Linear\n   * @type {object}\n   * @property {function} None - linear function\n   */\n  Linear: {\n\n    /**\n     * Linear.None\n     * @private\n     * @param {number} k 0 - 1 time progress\n     * @return {number}\n     */\n    None: function(k) {\n      return k;\n    },\n\n  },\n\n  /**\n   * Tween.Ease timing-function set\n   *\n   * @memberof Tween\n   * @name Ease\n   * @type {object}\n   * @property {function} In - ease-in function\n   * @property {function} Out - ease-out function\n   * @property {function} InOut - ease-in-out function\n   * @property {function} Bezier - return ease-bezier function\n   */\n  Ease: {\n\n    /**\n     * Ease.In\n     * @private\n     * @param {number} k 0 - 1 time progress\n     * @return {number}\n     */\n    In: (function() {\n      const bezier = new BezierEasing(.42, 0, 1, 1);\n      return function(k) {\n        return bezier.get(k);\n      };\n    })(),\n\n    /**\n     * Ease.Out\n     * @private\n     * @param {number} k 0 - 1 time progress\n     * @return {number}\n     */\n    Out: (function() {\n      const bezier = new BezierEasing(0, 0, .58, 1);\n      return function(k) {\n        return bezier.get(k);\n      };\n    })(),\n\n    /**\n     * Ease.InOut\n     * @private\n     * @param {number} k 0 - 1 time progress\n     * @return {number}\n     */\n    InOut: (function() {\n      const bezier = new BezierEasing(.42, 0, .58, 1);\n      return function(k) {\n        return bezier.get(k);\n      };\n    })(),\n\n    /**\n     * Ease.Bezier\n     * @private\n     * @param {*} x1 control point-in x component\n     * @param {*} y1 control point-in y component\n     * @param {*} x2 control point-out x component\n     * @param {*} y2 control point-out y component\n     * @return {bezier} return bezier function and cacl number\n     */\n    Bezier: function(x1, y1, x2, y2) {\n      const bezier = new BezierEasing(x1, y1, x2, y2);\n      return function(k) {\n        return bezier.get(k);\n      };\n    },\n\n  },\n\n  /**\n   * Tween.Elastic timing-function set\n   *\n   * @memberof Tween\n   * @name Elastic\n   * @type {object}\n   * @property {function} In - elastic-in function\n   * @property {function} Out - elastic-out function\n   * @property {function} InOut - elastic-in-out function\n   */\n  Elastic: {\n\n    /**\n     * Elastic.In\n     * @private\n     * @param {number} k 0 - 1 time progress\n     * @return {number}\n     */\n    In: function(k) {\n      if (k === 0) {\n        return 0;\n      }\n      if (k === 1) {\n        return 1;\n      }\n      return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n    },\n\n    /**\n     * Elastic.Out\n     * @private\n     * @param {number} k 0 - 1 time progress\n     * @return {number}\n     */\n    Out: function(k) {\n      if (k === 0) {\n        return 0;\n      }\n      if (k === 1) {\n        return 1;\n      }\n      return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n    },\n\n    /**\n     * Elastic.InOut\n     * @private\n     * @param {number} k 0 - 1 time progress\n     * @return {number}\n     */\n    InOut: function(k) {\n      if (k === 0) {\n        return 0;\n      }\n      if (k === 1) {\n        return 1;\n      }\n      k *= 2;\n      if (k < 1) {\n        return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n      }\n      return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n    },\n\n  },\n\n  /**\n   * Tween.Elastic timing-function set\n   *\n   * @memberof Tween\n   * @name Back\n   * @type {object}\n   * @property {function} In - back-in function\n   * @property {function} Out - back-out function\n   * @property {function} InOut - back-in-out function\n   */\n  Back: {\n\n    /**\n     * Back.In\n     * @private\n     * @param {number} k 0 - 1 time progress\n     * @return {number}\n     */\n    In: function(k) {\n      let s = 1.70158;\n      return k * k * ((s + 1) * k - s);\n    },\n\n    /**\n     * Back.Out\n     * @private\n     * @param {number} k 0 - 1 time progress\n     * @return {number}\n     */\n    Out: function(k) {\n      let s = 1.70158;\n      return --k * k * ((s + 1) * k + s) + 1;\n    },\n\n    /**\n     * Back.InOut\n     * @private\n     * @param {number} k 0 - 1 time progress\n     * @return {number}\n     */\n    InOut: function(k) {\n      let s = 1.70158 * 1.525;\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s));\n      }\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n    },\n\n  },\n\n  /**\n   * Tween.Elastic timing-function set\n   *\n   * @memberof Tween\n   * @name Bounce\n   * @type {object}\n   * @property {function} In - bounce-in function\n   * @property {function} Out - bounce-out function\n   * @property {function} InOut - bounce-in-out function\n   */\n  Bounce: {\n\n    /**\n     * Bounce.In\n     * @private\n     * @param {number} k 0 - 1 time progress\n     * @return {number}\n     */\n    In: function(k) {\n      return 1 - Tween.Bounce.Out(1 - k);\n    },\n\n    /**\n     * Bounce.Out\n     * @private\n     * @param {number} k 0 - 1 time progress\n     * @return {number}\n     */\n    Out: function(k) {\n      if (k < (1 / 2.75)) {\n        return 7.5625 * k * k;\n      } else if (k < (2 / 2.75)) {\n        return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n      } else if (k < (2.5 / 2.75)) {\n        return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n      } else {\n        return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n      }\n    },\n\n    /**\n     * Bounce.InOut\n     * @private\n     * @param {number} k 0 - 1 time progress\n     * @return {number}\n     */\n    InOut: function(k) {\n      if (k < 0.5) {\n        return Tween.Bounce.In(k * 2) * 0.5;\n      }\n      return Tween.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n    },\n  },\n};\n","import DynamicPropertyContainer from '../helpers/dynamicProperties';\nimport PropertyFactory from '../PropertyFactory';\nimport {createTypedArray, createSizedArray} from '../helpers/arrays';\n\n/**\n * a\n */\nexport default class DashProperty extends DynamicPropertyContainer {\n  /**\n   * a\n   * @param {*} elem a\n   * @param {*} data a\n   * @param {*} container a\n   */\n  constructor(elem, data, container) {\n    super();\n    this.elem = elem;\n    this.frameId = -1;\n    this.dataProps = createSizedArray(data.length);\n    // this.renderer = renderer;\n    this.k = false;\n    // this.dashStr = '';\n    this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\n    this.dashoffset = createTypedArray('float32', 1);\n    this.initDynamicPropertyContainer(container);\n    let i; let len = data.length || 0; let prop;\n    for (i = 0; i < len; i += 1) {\n      prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\n      this.k = prop.k || this.k;\n      this.dataProps[i] = {n: data[i].n, p: prop};\n    }\n    if (!this.k) {\n      this.getValue(true);\n    }\n    this._isAnimated = this.k;\n  }\n\n  /**\n   * a\n   * @param {number} frameNum frameNum\n   * @param {*} forceRender a\n   */\n  getValue(frameNum, forceRender) {\n    if (frameNum === this.frameId && !forceRender) {\n      return;\n    }\n    this.frameId = frameNum;\n    this.iterateDynamicProperties();\n    this._mdf = this._mdf || forceRender;\n    if (this._mdf) {\n      let i = 0; let len = this.dataProps.length;\n      // if (this.renderer === 'svg') {\n      //   this.dashStr = '';\n      // }\n      for (i=0; i<len; i+=1) {\n        if (this.dataProps[i].n != 'o') {\n          // if (this.renderer === 'svg') {\n          //   this.dashStr += ' ' + this.dataProps[i].p.v;\n          // } else {\n          //   this.dashArray[i] = this.dataProps[i].p.v;\n          // }\n          this.dashArray[i] = this.dataProps[i].p.v;\n        } else {\n          this.dashoffset[0] = this.dataProps[i].p.v;\n        }\n      }\n    }\n  }\n}\n","import DynamicPropertyContainer from '../helpers/dynamicProperties';\nimport PropertyFactory from '../PropertyFactory';\nimport {createTypedArray} from '../helpers/arrays';\n\n/**\n * GradientProperty class\n */\nexport default class GradientProperty extends DynamicPropertyContainer {\n  /**\n   * constructor GradientProperty\n   * @param {*} elem element node\n   * @param {*} data gradient property data\n   * @param {*} container container\n   */\n  constructor(elem, data, container) {\n    super();\n    this.data = data;\n    this.c = createTypedArray('uint8c', data.p*4);\n    let cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p*4) : data.k.k.length - data.p*4;\n    this.o = createTypedArray('float32', cLength);\n    this._cmdf = false;\n    this._omdf = false;\n    this._collapsable = this.checkCollapsable();\n    this._hasOpacity = cLength;\n    this.initDynamicPropertyContainer(container);\n    this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\n    this.k = this.prop.k;\n    this.getValue(true);\n  }\n\n  /**\n   * compare points\n   * @param {*} values values\n   * @param {*} points points\n   * @return {*}\n   */\n  comparePoints(values, points) {\n    let i = 0; let len = this.o.length/2; let diff;\n    while (i < len) {\n      diff = Math.abs(values[i*4] - values[points*4 + i*2]);\n      if (diff > 0.01) {\n        return false;\n      }\n      i += 1;\n    }\n    return true;\n  }\n\n  /**\n   * check collapsable\n   * @return {*}\n   */\n  checkCollapsable() {\n    if (this.o.length/2 !== this.c.length/4) {\n      return false;\n    }\n    if (this.data.k.k[0].s) {\n      let i = 0; let len = this.data.k.k.length;\n      while (i < len) {\n        if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\n          return false;\n        }\n        i += 1;\n      }\n    } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * get value\n   * @param {*} forceRender a\n   */\n  getValue(forceRender) {\n    this.prop.getValue();\n    this._mdf = false;\n    this._cmdf = false;\n    this._omdf = false;\n    if (this.prop._mdf || forceRender) {\n      let i; let len = this.data.p*4;\n      let mult; let val;\n      for (i=0; i<len; i+=1) {\n        mult = i%4 === 0 ? 100 : 255;\n        val = Math.round(this.prop.v[i]*mult);\n        if (this.c[i] !== val) {\n          this.c[i] = val;\n          this._cmdf = !forceRender;\n        }\n      }\n      if (this.o.length) {\n        len = this.prop.v.length;\n        for (i=this.data.p*4; i<len; i+=1) {\n          mult = i%2 === 0 ? 100 : 1;\n          val = i%2 === 0 ? Math.round(this.prop.v[i]*100):this.prop.v[i];\n          if (this.o[i-this.data.p*4] !== val) {\n            this.o[i-this.data.p*4] = val;\n            this._omdf = !forceRender;\n          }\n        }\n      }\n      this._mdf = !forceRender;\n    }\n  }\n}\n","import ShapeTransformManager from './helpers/ShapeTransformManager';\nimport ProcessedElement from './helpers/ProcessedElement';\nimport ShapeData from './helpers/ShapeData';\nimport PathPaint from './helpers/PathPaint';\nimport PropertyFactory from '../utils/PropertyFactory';\nimport {getTransformProperty} from '../utils/TransformProperty';\n// import StyleElement from '../shapes/StyleElement';\nimport ShapeModifiers from '../utils/shapes/ShapeModifiers';\nimport DashProperty from '../utils/shapes/DashProperty';\nimport GradientProperty from '../utils/shapes/GradientProperty';\nimport DynamicPropertyContainer from '../utils/helpers/dynamicProperties';\n// import Matrix from '../utils/lib/transformation-matrix';\n// import displayManager from '../displayManager';\n\nimport {degToRads} from '../constant/index';\n\n/**\n * ShapesFrames class\n */\nexport default class ShapesFrames extends DynamicPropertyContainer {\n  /**\n   * a\n   * @param {*} keyframesManager a\n   * @param {*} shapes a\n   * @param {*} session a\n   */\n  constructor(keyframesManager, shapes, session) {\n    super();\n    this.frameId = -1;\n    this.keyframesManager = keyframesManager;\n    this.elem = keyframesManager.elem;\n    this.session = session;\n    this.shapes = [];\n    this.shapesData = shapes;\n    this.stylesList = [];\n    this.itemsData = [];\n    this.prevViewData = [];\n    this.shapeModifiers = [];\n    this.processedElements = [];\n    this.transformsManager = new ShapeTransformManager();\n    this.initDynamicPropertyContainer(keyframesManager);\n\n    this.lcEnum = {\n      '1': 'butt',\n      '2': 'round',\n      '3': 'square',\n    };\n    this.ljEnum = {\n      '1': 'miter',\n      '2': 'round',\n      '3': 'bevel',\n    };\n\n    // set to true when inpoint is rendered\n    this._isFirstFrame = true;\n\n    this.transformHelper = {opacity: 1, _opMdf: false};\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n    if (!this._isAnimated) {\n      this.transformHelper.opacity = 1;\n      this.transformHelper._opMdf = false;\n      this.updateModifiers(this.frameId);\n      this.transformsManager.processSequences(this._isFirstFrame);\n      this.updateShape(this.transformHelper, this.shapesData, this.itemsData);\n\n      this.updateGrahpics();\n    }\n  }\n\n\n  /**\n   * a\n   * @param {number} frameNum frameNum\n   */\n  // prepareProperties(frameNum) {\n  //   let i;\n  //   const len = this.dynamicProperties.length;\n  //   for (i = 0; i < len; i += 1) {\n  //     this.dynamicProperties[i].getValue(frameNum);\n  //     if (this.dynamicProperties[i]._mdf) {\n  //       this._mdf = true;\n  //     }\n  //   }\n  // }\n\n  /**\n   * a\n   * @param {*} prop a\n   */\n  // addDynamicProperty(prop) {\n  //   if (this.dynamicProperties.indexOf(prop) === -1) {\n  //     this.dynamicProperties.push(prop);\n  //   }\n  // }\n\n  /**\n   * create style element\n   * @param {*} data style item data\n   * @param {*} transforms transforms array\n   * @return {*}\n   */\n  createStyleElement(data, transforms) {\n    // let styleElem = {\n    //   data: data,\n    //   type: data.ty,\n    //   preTransforms: this.transformsManager.addTransformSequence(transforms),\n    //   transforms: [],\n    //   elements: [],\n    //   closed: data.hd === true,\n    // };\n    const styleElem = new PathPaint(this.elem, data, this.transformsManager.addTransformSequence(transforms));\n    const elementData = {};\n    if (data.ty == 'fl' || data.ty == 'st') {\n      elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\n      if (!elementData.c.k) {\n        styleElem.co = elementData.c.v;// 'rgb('+bm_floor(elementData.c.v[0])+','+bm_floor(elementData.c.v[1])+','+bm_floor(elementData.c.v[2])+')';\n      }\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\n      elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\n      elementData.h = PropertyFactory.getProp(this, data.h||{k: 0}, 0, 0.01, this);\n      elementData.a = PropertyFactory.getProp(this, data.a||{k: 0}, 0, degToRads, this);\n      elementData.g = new GradientProperty(this, data.g, this);\n    }\n    elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\n    if (data.ty == 'st' || data.ty == 'gs') {\n      styleElem.lc = this.lcEnum[data.lc] || 'round';\n      styleElem.lj = this.ljEnum[data.lj] || 'round';\n      if (data.lj == 1) {\n        styleElem.ml = data.ml;\n      }\n      elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\n      if (!elementData.w.k) {\n        styleElem.wi = elementData.w.v;\n      }\n      if (data.d) {\n        let d = new DashProperty(this, data.d, 'canvas', this);\n        elementData.d = d;\n        if (!elementData.d.k) {\n          styleElem.da = elementData.d.dashArray;\n          styleElem.do = elementData.d.dashoffset[0];\n        }\n      }\n    } else {\n      styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\n    }\n    this.stylesList.push(styleElem);\n    elementData.style = styleElem;\n    return elementData;\n  }\n\n  /**\n   * a\n   * @param {*} data a\n   */\n  addShapeToModifiers(data) {\n    let i; let len = this.shapeModifiers.length;\n    for (i=0; i<len; i+=1) {\n      this.shapeModifiers[i].addShape(data);\n    }\n  }\n\n  /**\n   * a\n   * @param {*} data a\n   * @return {Boolean}\n   */\n  isShapeInAnimatedModifiers(data) {\n    let i = 0; let len = this.shapeModifiers.length;\n    while (i < len) {\n      if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * a\n   * @param {number} frameNum frameNum\n   */\n  updateModifiers(frameNum) {\n    if (!this.shapeModifiers.length) {\n      return;\n    }\n    let i; let len = this.shapes.length;\n    for (i=0; i<len; i+=1) {\n      this.shapes[i].sh.reset();\n    }\n\n    len = this.shapeModifiers.length;\n    for (i=len-1; i>=0; i-=1) {\n      this.shapeModifiers[i].processShapes(frameNum, this._isFirstFrame);\n    }\n  }\n\n  /**\n   * a\n   * @param {*} elem a\n   * @return {number}\n   */\n  searchProcessedElement(elem) {\n    let elements = this.processedElements;\n    let i = 0; let len = elements.length;\n    while (i < len) {\n      if (elements[i].elem === elem) {\n        return elements[i].pos;\n      }\n      i += 1;\n    }\n    return 0;\n  }\n\n  /**\n   * a\n   * @param {*} elem a\n   * @param {*} pos a\n   */\n  addProcessedElement(elem, pos) {\n    let elements = this.processedElements;\n    let i = elements.length;\n    while (i) {\n      i -= 1;\n      if (elements[i].elem === elem) {\n        elements[i].pos = pos;\n        return;\n      }\n    }\n    elements.push(new ProcessedElement(elem, pos));\n  }\n\n  /**\n   * create group element\n   * @return {*}\n   */\n  createGroupElement() {\n    return {\n      it: [],\n      prevViewData: [],\n    };\n  }\n\n  /**\n   * create transform element\n   * @param {*} data a\n   * @return {*}\n   */\n  createTransformElement(data) {\n    return {\n      transform: {\n        opacity: 1,\n        _opMdf: false,\n        key: this.transformsManager.getNewKey(),\n        op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\n        mProps: getTransformProperty(this, data, this),\n      },\n    };\n  }\n\n  /**\n   * a\n   * @param {*} data a\n   * @return {*}\n   */\n  createShapeElement(data) {\n    const elementData = new ShapeData(this, data, this.stylesList, this.transformsManager);\n\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    return elementData;\n  }\n\n  /**\n   * a\n   */\n  reloadShapes() {\n    this._isFirstFrame = true;\n    let i; let len = this.itemsData.length;\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n    len = this.dynamicProperties.length;\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n    this.updateModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n  }\n\n  /**\n   * a\n   * @param {*} transform a\n   */\n  addTransformToStyleList(transform) {\n    const len = this.stylesList.length;\n    for (let i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.push(transform);\n      }\n    }\n  }\n\n  /**\n   * a\n   */\n  removeTransformFromStyleList() {\n    const len = this.stylesList.length;\n    for (let i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.pop();\n      }\n    }\n  }\n\n  /**\n   * a\n   * @param {*} styles a\n   */\n  closeStyles(styles) {\n    const len = styles.length;\n    for (let i = 0; i < len; i += 1) {\n      styles[i].closed = true;\n    }\n  }\n\n  /**\n   * a\n   * @param {*} arr a\n   * @param {*} itemsData a\n   * @param {*} prevViewData a\n   * @param {*} shouldRender a\n   * @param {*} transforms a\n   */\n  searchShapes(arr, itemsData, prevViewData, shouldRender, transforms) {\n    let i; let len = arr.length - 1;\n    let j; let jLen;\n    let ownStyles = []; let ownModifiers = []; let processedPos; let modifier; let currentTransform;\n    let ownTransforms = [].concat(transforms);\n    for (i=len; i>=0; i-=1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n      if (!processedPos) {\n        arr[i]._shouldRender = shouldRender;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n      if (arr[i].ty == 'fl' || arr[i].ty == 'st'|| arr[i].ty == 'gf'|| arr[i].ty == 'gs') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty == 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n          for (j=0; j<jLen; j+=1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\n      } else if (arr[i].ty == 'tr') {\n        if (!processedPos) {\n          currentTransform = this.createTransformElement(arr[i]);\n          itemsData[i] = currentTransform;\n        }\n        ownTransforms.push(itemsData[i]);\n        this.addTransformToStyleList(itemsData[i]);\n      } else if (arr[i].ty == 'sh' || arr[i].ty == 'rc' || arr[i].ty == 'el' || arr[i].ty == 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i]);\n        }\n      } else if (arr[i].ty == 'tm' || arr[i].ty == 'rd') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty == 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          shouldRender = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n        ownModifiers.push(modifier);\n      }\n      this.addProcessedElement(arr[i], i + 1);\n    }\n    this.removeTransformFromStyleList();\n    this.closeStyles(ownStyles);\n    len = ownModifiers.length;\n    for (i=0; i<len; i+=1) {\n      ownModifiers[i].closed = true;\n    }\n  }\n\n  /**\n   * a\n   * @param {*} parentTransform a\n   * @param {*} groupTransform a\n   */\n  updateShapeTransform(parentTransform, groupTransform) {\n    if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\n      groupTransform.opacity = parentTransform.opacity;\n      groupTransform.opacity *= groupTransform.op.v;\n      groupTransform._opMdf = true;\n    }\n  }\n\n  /**\n   * a\n   * @param {*} styledShape a\n   * @param {*} shape a\n   */\n  updateStyledShape(styledShape, shape) {\n    if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\n      let shapeNodes = styledShape.trNodes;\n      let paths = shape.paths;\n      let i; let len; let j; let jLen = paths._length;\n      shapeNodes.length = 0;\n      let groupTransformMat = styledShape.transforms.finalTransform;\n      for (j = 0; j < jLen; j += 1) {\n        let pathNodes = paths.shapes[j];\n        if (pathNodes && pathNodes.v) {\n          len = pathNodes._length;\n          for (i = 1; i < len; i += 1) {\n            if (i === 1) {\n              shapeNodes.push({\n                t: 'm',\n                p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\n              });\n            }\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i]),\n            });\n          }\n          if (len === 1) {\n            shapeNodes.push({\n              t: 'm',\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\n            });\n          }\n          if (pathNodes.c && len) {\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0]),\n            });\n            shapeNodes.push({\n              t: 'z',\n            });\n          }\n        }\n      }\n      styledShape.trNodes = shapeNodes;\n    }\n  }\n\n  /**\n   * a\n   * @param {*} pathData a\n   * @param {*} itemData a\n   */\n  updatePath(pathData, itemData) {\n    if (pathData.hd !== true && pathData._shouldRender) {\n      let i; let len = itemData.styledShapes.length;\n      for (i = 0; i < len; i += 1) {\n        this.updateStyledShape(itemData.styledShapes[i], itemData.sh);\n      }\n    }\n  }\n\n  /**\n   * a\n   * @param {*} styleData a\n   * @param {*} itemData a\n   * @param {*} groupTransform a\n   */\n  updateFill(styleData, itemData, groupTransform) {\n    const styleElem = itemData.style;\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      // styleElem.co = 'rgb('\n      // + Math.floor(itemData.c.v[0]) + ','\n      // + Math.floor(itemData.c.v[1]) + ','\n      // + Math.floor(itemData.c.v[2]) + ')';\n      styleElem.co = itemData.c.v;// rgb2hex(itemData.c.v);\n    }\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n  }\n\n  /**\n   * a\n   * @param {*} styleData a\n   * @param {*} itemData aa\n   * @param {*} groupTransform a\n   */\n  updateStroke(styleData, itemData, groupTransform) {\n    let styleElem = itemData.style;\n    let d = itemData.d;\n    if (d && (d._mdf || this._isFirstFrame)) {\n      styleElem.da = d.dashArray;\n      styleElem.do = d.dashoffset[0];\n    }\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = itemData.c.v;// 'rgb('+bm_floor(itemData.c.v[0])+','+bm_floor(itemData.c.v[1])+','+bm_floor(itemData.c.v[2])+')';\n    }\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v*groupTransform.opacity;\n    }\n    if (itemData.w._mdf || this._isFirstFrame) {\n      styleElem.wi = itemData.w.v;\n    }\n  }\n\n  /**\n   * a\n   * @param {*} styleData a\n   * @param {*} itemData a\n   * @param {*} groupTransform a\n   */\n  updateGradientFill(styleData, itemData, groupTransform) {\n    let styleElem = itemData.style;\n    // if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || (styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf))) {\n    //   let ctx = this.globalData.canvasContext;\n    //   let grd;\n    //   let pt1 = itemData.s.v; let pt2 = itemData.e.v;\n    //   if (styleData.t === 1) {\n    //     grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\n    //   } else {\n    //     let rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n    //     let ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n\n    //     let percent = itemData.h.v >= 1 ? 0.99 : itemData.h.v <= -1 ? -0.99: itemData.h.v;\n    //     let dist = rad * percent;\n    //     let x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n    //     let y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n    //     grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\n    //   }\n\n    //   let i; let len = styleData.g.p;\n    //   let cValues = itemData.g.c;\n    //   let opacity = 1;\n\n    //   for (i = 0; i < len; i += 1) {\n    //     if (itemData.g._hasOpacity && itemData.g._collapsable) {\n    //       opacity = itemData.g.o[i*2 + 1];\n    //     }\n    //     grd.addColorStop(cValues[i * 4] / 100, 'rgba('+ cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ','+cValues[i * 4 + 3] + ',' + opacity + ')');\n    //   }\n    //   styleElem.grd = grd;\n    // }\n    styleElem.grd = itemData.g.c[0];\n    styleElem.coOp = itemData.o.v*groupTransform.opacity;\n  }\n\n  /**\n   * a\n   * @param {*} parentTransform a\n   * @param {*} items a\n   * @param {*} data a\n   */\n  updateShape(parentTransform, items, data) {\n    const len = items.length - 1;\n    let groupTransform = parentTransform;\n    for (let i = len; i >= 0; i -= 1) {\n      if (items[i].ty == 'tr') {\n        groupTransform = data[i].transform;\n        this.updateShapeTransform(parentTransform, groupTransform);\n      } else if (items[i].ty == 'sh' || items[i].ty == 'el' || items[i].ty == 'rc' || items[i].ty == 'sr') {\n        this.updatePath(items[i], data[i]);\n      } else if (items[i].ty == 'fl') {\n        this.updateFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty == 'st') {\n        this.updateStroke(items[i], data[i], groupTransform);\n      } else if (items[i].ty == 'gf' || items[i].ty == 'gs') {\n        this.updateGradientFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty == 'gr') {\n        this.updateShape(groupTransform, items[i].it, data[i].it);\n      }\n    }\n    // if (isMain) {\n    //   this.drawLayer();\n    // }\n  }\n\n  /**\n   * a\n   */\n  updateGrahpics() {\n    const len = this.stylesList.length;\n    for (let i = 0; i < len; i+=1) {\n      const currentStyle = this.stylesList[i];\n      currentStyle.updateGrahpics();\n    }\n  }\n\n  /**\n   * a\n   * @param {number} frameNum frameNum\n   */\n  getValue(frameNum) {\n    if (frameNum === this.frameId) {\n      return;\n    }\n    this.iterateDynamicProperties(frameNum);\n    this.transformHelper.opacity = 1;\n    this.transformHelper._opMdf = false;\n    this.updateModifiers(frameNum);\n    this.transformsManager.processSequences(this._isFirstFrame);\n    this.updateShape(this.transformHelper, this.shapesData, this.itemsData);\n\n    this.updateGrahpics();\n\n    this.frameId = frameNum;\n  }\n}\n","import {TransformProperty} from '../utils/TransformProperty';\n\n/**\n * a\n */\nexport default class TransformFrames extends TransformProperty {\n  /**\n   * a\n   * @param {*} elem a\n   * @param {*} hs a\n   * @param {*} session a\n   */\n  constructor(elem, hs, session) {\n    super(elem, hs);\n    this.frameId = -1;\n    this.hs = hs;\n    this.session = session;\n  }\n\n  /**\n   * get transform\n   * @param {number} frameNum frameNum\n   */\n  getValue(frameNum) {\n    if (frameNum === this.frameId) {\n      return;\n    }\n\n    this.iterateDynamicProperties(frameNum);\n\n    this.frameId = frameNum;\n  }\n\n  /**\n   * get position x\n   */\n  get x() {\n    return this.p ? this.p.v[0] : this.px.v;\n  }\n\n  /**\n   * get position x\n   */\n  get y() {\n    return this.p ? this.p.v[1] : this.py.v;\n  }\n\n  /**\n   * get anchor x\n   */\n  get anchorX() {\n    return this.a.v[0];\n  }\n\n  /**\n   * get anchor x\n   */\n  get anchorY() {\n    return this.a.v[1];\n  }\n\n  /**\n   * get scale x\n   */\n  get scaleX() {\n    return this.s.v[0];\n  }\n\n  /**\n   * get scale x\n   */\n  get scaleY() {\n    return this.s.v[1];\n  }\n\n  /**\n   * get rotation\n   */\n  get rotation() {\n    return this.r.v;\n  }\n\n  /**\n   * get alpha\n   */\n  get alpha() {\n    return this.o.v;\n  }\n}\n","import Tools from '../utils/tools';\nimport MaskFrames from './MaskFrames';\nimport ShapesFrames from './ShapesFrames';\nimport TransformFrames from './TransformFrames';\n\nimport PropertyFactory from '../utils/PropertyFactory';\n\n/**\n * KeyframesManager\n * @class\n * @private\n */\nclass KeyframesManager {\n  /**\n   * manager\n   * @param {object} elem elem\n   */\n  constructor(elem) {\n    // const { st, config } = session;\n\n    this.elem = elem;\n    // this.layer = layer;\n\n    // const opst = this.layer.op + st;\n\n    // this.isOverSide = opst >= config.op;\n\n    // this.keyframes = [];\n\n    // set to true when inpoint is rendered\n    this._isFirstFrame = false;\n\n    // list of animated properties\n    this.dynamicProperties = [];\n\n    // If layer has been modified in current tick this will be true\n    this._mdf = false;\n\n    this.transform = null;\n\n    this.masks = null;\n\n    this.shapes = null;\n\n    this._hasOutTypeExpression = false;\n\n    this.needUpdateOverlap = false;\n\n    this.isOverlapMode = false;\n\n    this.visible = true;\n  }\n\n  /**\n   * manager\n   * @param {object} layer elem\n   * @param {object} session elem\n   */\n  initFrame(layer, session) {\n    // this.elem = elem;\n    this.layer = layer;\n\n    const {local, global} = session;\n    this.session = session;\n\n    // const opst = this.layer.op + st;\n\n    // ip, op, st session\n    this.isOverlapLayer = this.layer.op >= (local.op - local.st);\n\n    this.isOverlapMode = global.overlapMode;\n\n    this.parseLayer(layer, session);\n  }\n\n  /**\n   * a\n   */\n  outTypeExpressionMode() {\n    this._hasOutTypeExpression = true;\n    if (this.isOverlapLayer) {\n      this.needUpdateOverlap = true;\n    }\n  }\n\n  /**\n   * Calculates all dynamic values\n   * @param {number} frameNum current frame number in Layer's time\n   * @param {boolean} isVisible if layers is currently in range\n   */\n  prepareProperties(frameNum, isVisible) {\n    let i; let len = this.dynamicProperties.length;\n    for (i = 0; i < len; i += 1) {\n      if (isVisible || this.needUpdateOverlap || (this.elem._isParent && this.dynamicProperties[i].propType === 'transform')) {\n        this.dynamicProperties[i].getValue(frameNum);\n        if (this.dynamicProperties[i]._mdf) {\n          // this.globalData._mdf = true;\n          this._mdf = true;\n        }\n      }\n    }\n  }\n\n  /**\n   * a\n   * @param {*} prop a\n   */\n  addDynamicProperty(prop) {\n    if (this.dynamicProperties.indexOf(prop) === -1) {\n      this.dynamicProperties.push(prop);\n    }\n  }\n\n  /**\n   * parse\n   * @param {object} layer\n   * @param {object} session\n   */\n  parseLayer({ks, hasMask, masksProperties, shapes, tm}, session) {\n    if (ks) {\n      this.transform = new TransformFrames(this, ks, session);\n      // ao logic\n    }\n\n    if (hasMask) {\n      this.masks = new MaskFrames(this, masksProperties, session);\n    }\n    if (shapes) {\n      this.shapes = new ShapesFrames(this, shapes, session);\n    }\n\n    if (tm) {\n      const {frameRate} = session.global;\n      this.tm = PropertyFactory.getProp(this, tm, 0, frameRate, this);\n    }\n  }\n\n  /**\n   * update\n   * @param {number} frameNum frameNum\n   * @param {object} session update session\n   */\n  updateFrame(frameNum, session) {\n    this._mdf = false;\n    const inIpOpRange = Tools.inRange(frameNum, this.layer.ip, this.layer.op);\n    if (this.isOverlapMode && this.isOverlapLayer) {\n      this.visible = frameNum >= this.layer.ip;\n    } else {\n      this.visible = inIpOpRange;\n    }\n\n    this.prepareProperties(frameNum, inIpOpRange);\n  }\n\n  /**\n   * a\n   */\n  updateDisplay() {\n    const display = this.elem.display;\n    if (!this.elem._isRoot) {\n      if (this.visible) {\n        display.show();\n      } else {\n        display.hide();\n      }\n    }\n    if (this.transform) display.updateLottieTransform(this.transform);\n    if (this.masks) display.updateLottieMasks(this.masks);\n  }\n}\n\nexport default KeyframesManager;\n","import KeyframesManager from '../keyframes/KeyframesManager';\nimport DisplayRegister from '../register/DisplayRegister';\n\n/**\n * a\n */\nexport default class BaseElement {\n  /**\n   * a\n   * @param {*} layer layer\n   */\n  constructor(layer) {\n    this.data = layer;\n    if (this.data.sr === undefined) {\n      this.data.sr = 1;\n    }\n    this.offsetTime = layer.st || 0;\n    this.bodymovin = new KeyframesManager(this);\n    this.displayType = '';\n    this.display = null;\n    this.hierarchy = null;\n\n    this.lottieTreeParent = null;\n  }\n\n  /**\n   * set hierarchy\n   * @param {*} elem elem\n   */\n  setHierarchy(elem) {\n    this.hierarchy = elem;\n    this.display.setHierarchy(elem.display);\n  }\n\n  /**\n   * a\n   * @param {*} type a\n   * @param {*} data a\n   * @return {DisplayInstance}\n   */\n  initDisplayInstance(type, data) {\n    const classFn = DisplayRegister.getDisplayByType(type);\n    const instance = new classFn(this, data);\n    return instance;\n  }\n\n  /**\n   * a\n   * @param {*} frameNum a\n   */\n  updateFrame(frameNum) {\n    this.bodymovin.updateFrame(frameNum);\n    this.bodymovin.updateDisplay();\n  }\n}\n","import BaseElement from './BaseElement';\nimport DisplayRegister from '../register/DisplayRegister';\n\n/**\n * a\n */\nexport default class CompElement extends BaseElement {\n  /**\n   * a\n   * @param {*} layer a\n   * @param {*} session a\n   */\n  constructor(layer, session) {\n    super(layer);\n\n    const {global: {maskComp}, local: {w, h}} = session;\n    this.session = session;\n\n    const config = {\n      layer,\n      session,\n    };\n\n    if (maskComp) {\n      config.maskComp = maskComp;\n      config.viewport = {x: 0, y: 0, width: w, height: h};\n    }\n    this.config = config;\n\n    this.childNodes = [];\n\n    this.displayType = DisplayRegister.Type.Container;\n\n    this.display = this.initDisplayInstance(this.displayType, config);\n\n    this.bodymovin.initFrame(layer, session);\n  }\n\n  /**\n   * a\n   * @param {*} frameNum a\n   */\n  updateFrame(frameNum) {\n    this.bodymovin.updateFrame(frameNum);\n    this.bodymovin.updateDisplay();\n\n    frameNum -= this.offsetTime;\n\n    if (this.bodymovin.tm) {\n      let timeRemapped = this.bodymovin.tm.v;\n      if (timeRemapped === this.data.op) {\n        timeRemapped = this.data.op - 1;\n      }\n      frameNum = timeRemapped;\n    } else {\n      frameNum = frameNum / this.data.sr;\n    }\n    for (let i = 0; i < this.childNodes.length; i++) {\n      this.childNodes[i].updateFrame(frameNum);\n    }\n  }\n\n  /**\n   * a\n   * @param {*} node a\n   */\n  addChild(node) {\n    node.lottieTreeParent = this;\n    this.childNodes.push(node);\n    this.display.addChild(node.display);\n  }\n}\n","import BaseElement from './BaseElement';\nimport DisplayRegister from '../register/DisplayRegister';\n\n/**\n * a\n */\nexport default class SolidElement extends BaseElement {\n  /**\n   * a\n   * @param {*} layer a\n   * @param {*} session a\n   */\n  constructor(layer, session) {\n    super(layer);\n\n    const config = {\n      layer,\n      session,\n      rect: {x: 0, y: 0, width: layer.sw, height: layer.sh},\n      color: layer.sc,\n    };\n    this.config = config;\n    this.session = session;\n\n    this.displayType = DisplayRegister.Type.Solid;\n\n    this.display = this.initDisplayInstance(this.displayType, config);\n\n    this.bodymovin.initFrame(layer, session);\n  }\n}\n","import BaseElement from './BaseElement';\nimport DisplayRegister from '../register/DisplayRegister';\nimport Tools from '../utils/tools';\n\n/**\n * a\n */\nexport default class SpriteElement extends BaseElement {\n  /**\n   * a\n   * @param {*} layer a\n   * @param {*} session a\n   */\n  constructor(layer, session) {\n    super(layer);\n\n    const {global: {loader, assets}} = session;\n    const asset = Tools.getAssets(layer.refId, assets);\n\n    const config = {\n      layer,\n      session,\n      texture: loader.getTextureById(asset.id),\n      asset,\n    };\n    this.config = config;\n    this.session = session;\n\n    this.displayType = DisplayRegister.Type.Sprite;\n\n    this.display = this.initDisplayInstance(this.displayType, config);\n\n    this.bodymovin.initFrame(layer, session);\n  }\n}\n","import BaseElement from './BaseElement';\nimport DisplayRegister from '../register/DisplayRegister';\n\n/**\n * a\n */\nexport default class ShapeElement extends BaseElement {\n  /**\n   * a\n   * @param {*} layer a\n   * @param {*} session a\n   */\n  constructor(layer, session) {\n    super(layer);\n\n    const config = {\n      layer,\n      session,\n    };\n    this.config = config;\n    this.session = session;\n\n    this.displayType = DisplayRegister.Type.Container;\n\n    this.display = this.initDisplayInstance(this.displayType, config);\n\n    this.bodymovin.initFrame(layer, session);\n  }\n}\n","import BaseElement from './BaseElement';\nimport DisplayRegister from '../register/DisplayRegister';\n\n/**\n * a\n */\nexport default class NullElement extends BaseElement {\n  /**\n   * a\n   * @param {*} layer a\n   * @param {*} session a\n   */\n  constructor(layer, session) {\n    super(layer);\n\n    const config = {\n      layer,\n      session,\n    };\n    this.config = config;\n    this.session = session;\n\n    this.displayType = DisplayRegister.Type.Container;\n\n    this.display = this.initDisplayInstance(this.displayType, config);\n\n    this.bodymovin.initFrame(layer, session);\n  }\n}\n","import Eventer from './utils/Eventer';\nimport Tools from './utils/tools';\n// import Loader from '../utils/Loader';\nimport LayerRegister from './register/LayerRegister';\nimport LoaderRegister from './register/LoaderRegister';\nimport DataManager from './utils/DataManager';\nimport CompElement from './elements/CompElement';\nimport SolidElement from './elements/SolidElement';\nimport SpriteElement from './elements/SpriteElement';\nimport ShapeElement from './elements/ShapeElement';\nimport NullElement from './elements/NullElement';\n\n/**\n * an animation group, store and compute frame information\n * @class\n */\nclass AnimationGroup extends Eventer {\n  /**\n   * parser a bodymovin data, and post some config for this animation group\n   * @param {object} options animation config\n   * @param {Object} options.keyframes bodymovin data, which export from AE by bodymovin\n   * @param {Number} [options.repeats=0] need repeat some times?\n   * @param {Boolean} [options.infinite=false] play this animation round and round forever\n   * @param {Boolean} [options.alternate=false] alternate play direction every round\n   * @param {Number} [options.wait=0] need wait how much millisecond to start\n   * @param {Number} [options.delay=0] need delay how much millisecond to begin, effect every loop round\n   * @param {Number} [options.timeScale=1] animation speed, time scale factor\n   * @param {Boolean} [options.autoLoad=true] auto load assets, if this animation have\n   * @param {Boolean} [options.autoStart=true] auto start animation after assets loaded\n   * @param {Boolean} [options.overlapMode=false] enable overlap mode, it is useful when you have a overlap expression\n   * @param {Object} [options.segments={}] animation segments, splite by start and end keyframe number\n   * @param {Boolean} [options.initSegment=''] animation segments, init finite state machine\n   * @param {Boolean} [options.maskComp=false] auto start animation after assets loaded\n   * @param {String} [options.prefix=''] assets url prefix, look like link path\n   * @param {class} LoaderClass loader class\n   */\n  constructor(options, LoaderClass) {\n    super();\n    /**\n     * 动画是否是激活状态\n     * @member {boolean}\n     */\n    this.living = true;\n\n    /**\n     * 动画无限循环播放\n     * @member {boolean}\n     */\n    this.infinite = options.infinite || false;\n\n    /**\n     * 动画循环多少次\n     * @member {number}\n     */\n    this.repeats = options.repeats || 0;\n\n    /**\n     * 动画交替播放\n     * @member {boolean}\n     */\n    this.alternate = options.alternate || false;\n\n    /**\n     * 动画延迟多长时间启动\n     * @member {number}\n     */\n    this.wait = options.wait || 0;\n\n    /**\n     * 动画延迟多长时间开始\n     * @member {number}\n     */\n    this.delay = options.delay || 0;\n\n    /**\n     * 动画是否启动 overlap 模式\n     * @member {number}\n     */\n    this.overlapMode = options.overlapMode || false;\n\n    /**\n     * 动画速度\n     * @member {number}\n     */\n    this.timeScale = Tools.isNumber(options.timeScale) ?\n      options.timeScale :\n      1;\n\n    /**\n     * 总帧数\n     * @member {number}\n     */\n    this.frameNum = 0;\n\n    /**\n     * 记录帧位，初始值随意设置为负无穷大\n     * @member {number}\n     * @private\n     */\n    this._pf = -Infinity;\n\n    /**\n     * 动画方向，1 or -1\n     * @member {number}\n     * @private\n     */\n    this.direction = 1;\n\n    /**\n     * 缓存重复多少次\n     * @member {number}\n     * @private\n     */\n    this._repeatsCut = this.repeats;\n\n    /**\n     * 缓存延迟多少时间\n     * @member {number}\n     * @private\n     */\n    this._delayCut = this.delay;\n\n    /**\n     * 缓存等待多少时间\n     * @member {number}\n     * @private\n     */\n    this._waitCut = this.wait;\n\n    /**\n     * 是否暂停状态，可以使用\n     * @member {number}\n     * @private\n     */\n    this._paused = true;\n\n    const keyframes = Tools.copyJSON(options.keyframes);\n    DataManager.completeData(keyframes);\n\n    /**\n     * 提取全局信息\n     */\n    const {fr, ip, op, assets, prefix} = keyframes;\n\n    /**\n     * 帧率\n     * @member {number}\n     * @private\n     */\n    this.frameRate = fr;\n\n    /**\n     * 帧素\n     * @member {number}\n     * @private\n     */\n    this.frameMult = fr / 1000;\n\n    /**\n     * 动画数据\n     * @private\n     */\n    this.keyframes = keyframes;\n\n    /**\n     * 默认动画配置\n     * @private\n     */\n    this.defaultSegment = [ip, op];\n\n    /**\n     * 分段动画配置，和 segmentName 参数配合使用\n     * @private\n     */\n    this.segments = options.segments || {};\n\n    /**\n     * 有限状态机，当前状态机，和 segments 参数配合使用\n     * @private\n     */\n    const segmentName = options.initSegment || '';\n\n    // 获取初始化分段\n    const segment = (segmentName && this.segments[segmentName]) || this.defaultSegment;\n\n    /**\n     * 当前segment播放的开始帧\n     * @private\n     */\n    this.beginFrame = segment[0];\n\n    /**\n     * 当前segment播放的结束帧\n     * @private\n     */\n    this.endFrame = segment[1];\n\n    /**\n     * 资源相对地址前缀\n     * @private\n     */\n    this.prefix = options.prefix || prefix || '';\n\n    /**\n     * 每帧时间\n     * @member {number}\n     * @private\n     */\n    this._tpf = 1000 / fr;\n\n    /**\n     * 总帧数\n     * @member {number}\n     */\n    this.duration = Math.floor(this.endFrame - this.beginFrame);\n\n    const autoLoad = Tools.isBoolean(options.autoLoad) ? options.autoLoad : true;\n    const autoStart = Tools.isBoolean(options.autoStart) ? options.autoStart : true;\n\n    let loader = null;\n    const images = assets.filter((it) => {\n      return it.u || it.p;\n    });\n    if (images.length > 0) {\n      const LoaderClass = LoaderRegister.getLoader();\n      this.loader = loader = new LoaderClass(images, {prefix: this.prefix, autoLoad});\n      this._imageLoadHandle = () => {\n        this._paused = !autoStart;\n      };\n      this._cancelImageLoadHandle = () => {\n        loader.off('complete', this._imageLoadHandle);\n        this._cancelImageLoadHandle = null;\n      };\n      loader.once('complete', this._imageLoadHandle);\n    } else {\n      this._cancelImageLoadHandle = null;\n      this._paused = !autoStart;\n    }\n\n    // 注册图层\n    const register = new LayerRegister();\n\n    /**\n     * 该动画组注册的信息\n     * @member {LayerRegister}\n     * @private\n     */\n    this.register = register;\n\n    const maskComp = Tools.isBoolean(options.maskComp) ? options.maskComp : true;\n    const session = {\n      global: {\n        assets,\n        loader,\n        register,\n        maskComp,\n        frameRate: fr,\n        overlapMode: this.overlapMode,\n      },\n      local: {\n        parentName: '',\n      },\n    };\n\n    /**\n     * 该动画组的根对象\n     * @member {CompElement}\n     */\n    this.root = this.extraCompositions(this.keyframes, session);\n    this.root._isRoot = true;\n    this.group = this.rootDisplay = this.root.display;\n  }\n\n  /**\n   * a\n   * @param {object} data layers\n   * @param {object} assets object\n   * @return {container}\n   */\n  extraCompositions(data, {global, local}) {\n    const {w, h, ip, op, st = 0, nm = 'null'} = data;\n    const parentName = local.parentName ? local.parentName + '.' + nm : nm;\n    const container = new CompElement(data, {global, local});\n    const layers = data.layers || Tools.getAssets(data.refId, global.assets).layers;\n\n    const session = {\n      global,\n      local: {\n        w, h, ip, op, st,\n        parentName,\n      },\n    };\n\n    const elementsMap = this.createElements(layers, session);\n    for (let i = layers.length - 1; i >= 0; i--) {\n      const layer = layers[i];\n      const item = elementsMap[layer.ind];\n      if (!item) continue;\n      if (!Tools.isUndefined(layer.parent)) {\n        const parent = elementsMap[layer.parent];\n        parent._isParent = true;\n        item.setHierarchy(parent);\n      }\n      const nameHierarchy = parentName + '.' + item.name;\n      global.register.setLayer(nameHierarchy, item);\n      container.addChild(item);\n    }\n    return container;\n  }\n\n  /**\n   * createElements\n   * @param {arrya} layers layers\n   * @param {object} session object\n   * @return {object}\n   */\n  createElements(layers, session) {\n    const elementsMap = {};\n    for (let i = layers.length - 1; i >= 0; i--) {\n      const layer = layers[i];\n      let element = null;\n\n      if (layer.td !== undefined) continue;\n\n      switch (layer.ty) {\n      case 0:\n        element = this.extraCompositions(layer, session);\n        break;\n      case 1:\n        element = new SolidElement(layer, session);\n        break;\n      case 2:\n        element = new SpriteElement(layer, session);\n        break;\n      case 3:\n        element = new NullElement(layer, session);\n        break;\n      case 4:\n        element = new ShapeElement(layer, session);\n        break;\n      default:\n        continue;\n      }\n\n      if (element) {\n        if (layer.ind === undefined) layer.ind = i;\n        elementsMap[layer.ind] = element;\n        element.name = layer.nm || 'null';\n      }\n    }\n    return elementsMap;\n  }\n\n  /**\n   * get layer by name path\n   * @param {string} name layer name path, example: root.gift.star1\n   * @return {object}\n   */\n  getDisplayByName(name) {\n    const layer = this.register.getLayer(name);\n    if (layer.display) return layer.display;\n    console.warn('can not find display name as ', name);\n    return null;\n  }\n\n  /**\n   * bind other animation-group or display-object to this animation-group with name path\n   * @param {*} name\n   * @param {*} child\n   * @return {this}\n   */\n  bindSlot(name, child) {\n    const slotDisplay = this.getDisplayByName(name);\n    slotDisplay.addChild(child);\n    return this;\n  }\n\n  /**\n   * unbind other animation-group or display-object to this animation-group with name path\n   * @param {*} name\n   * @param {*} child\n   * @return {this}\n   */\n  unbindSlot(name, child) {\n    const slotDisplay = this.getDisplayByName(name);\n    slotDisplay.removeChild(child);\n    return this;\n  }\n\n  /**\n   * emit frame\n   * @private\n   * @param {*} np now frame\n   */\n  emitFrame(np) {\n    this.emit(`@${np}`);\n  }\n\n  /**\n   * update with time snippet\n   * @private\n   * @param {number} snippetCache snippet\n   */\n  update(snippetCache) {\n    if (!this.living) return;\n\n    const isEnd = this.updateTime(snippetCache);\n\n    const correctedFrameNum = this.beginFrame + this.frameNum;\n    this.root.updateFrame(correctedFrameNum);\n\n    const np = correctedFrameNum >> 0;\n    if (this._pf !== np) {\n      this.emitFrame(this.direction > 0 ? np : this._pf);\n      this._pf = np;\n    }\n    if (isEnd === false) {\n      this.emit('update', this.frameNum / this.duration);\n    } else if (this.hadEnded !== isEnd && isEnd === true) {\n      this.emit('complete');\n    }\n    this.hadEnded = isEnd;\n  }\n\n  /**\n   * update timeline with time snippet\n   * @private\n   * @param {number} snippet snippet\n   * @return {boolean} frameNum status\n   */\n  updateTime(snippet) {\n    const snippetCache = this.direction * this.timeScale * snippet;\n    if (this._waitCut > 0) {\n      this._waitCut -= Math.abs(snippetCache);\n      return null;\n    }\n    if (this._paused || this._delayCut > 0) {\n      if (this._delayCut > 0) this._delayCut -= Math.abs(snippetCache);\n      return null;\n    }\n\n    this.frameNum += snippetCache / this._tpf;\n    let isEnd = false;\n\n    if (this.spill()) {\n      if (this._repeatsCut > 0 || this.infinite) {\n        if (this._repeatsCut > 0) --this._repeatsCut;\n        this._delayCut = this.delay;\n        if (this.alternate) {\n          this.direction *= -1;\n          this.frameNum = Tools.codomainBounce(this.frameNum, 0, this.duration);\n        } else {\n          this.direction = 1;\n          this.frameNum = Tools.euclideanModulo(this.frameNum, this.duration);\n        }\n      } else {\n        if (!this.overlapMode) {\n          this.frameNum = Tools.clamp(this.frameNum, 0, this.duration);\n          this.living = false;\n        }\n        isEnd = true;\n      }\n    }\n\n    return isEnd;\n  }\n\n  /**\n   * is this time frameNum spill the range\n   * @private\n   * @return {boolean}\n   */\n  spill() {\n    const bottomSpill = this.frameNum <= 0 && this.direction === -1;\n    const topSpill = this.frameNum >= this.duration && this.direction === 1;\n    return bottomSpill || topSpill;\n  }\n\n  /**\n   * get time\n   * @param {number} frame frame index\n   * @return {number}\n   */\n  frameToTime(frame) {\n    return frame * this._tpf;\n  }\n\n  /**\n   * set animation speed, time scale\n   * @param {number} speed\n   */\n  setSpeed(speed) {\n    this.timeScale = speed;\n  }\n\n  /**\n   * set finite state machine\n   * @param {String|Array} name segment name which define in segments props, you can also pass an array like [10, 30]\n   * @param {Object} options animation config\n   * @param {Number} [options.delay=0] need delay how much time to begin, effect every round\n   * @param {Number} [options.repeats=0] need repeat somt times?\n   * @param {Boolean} [options.infinite=false] play this animation round and round forever\n   * @param {Boolean} [options.alternate=false] alternate direction every round\n   * @param {Number} [options.wait=0] need wait how much millisecond to start\n   * @param {Number} [options.delay=0] need delay how much millisecond to begin, effect every loop round\n   */\n  playSegment(name, options = {}) {\n    if (!name) return;\n\n    if (this._cancelImageLoadHandle) this._cancelImageLoadHandle();\n\n    let segment = null;\n    if (Tools.isArray(name)) {\n      segment = name;\n    } else if (Tools.isString(name)) {\n      segment = this.segments[name];\n    }\n\n    if (!segment) return;\n\n    this.beginFrame = segment[0];\n    this.endFrame = segment[1];\n\n    if (Tools.isNumber(options.delay)) this.delay = options.delay;\n    if (Tools.isNumber(options.repeats)) this.repeats = options.repeats;\n    if (Tools.isBoolean(options.infinite)) this.infinite = options.infinite;\n    if (Tools.isBoolean(options.alternate)) this.alternate = options.alternate;\n    if (Tools.isNumber(options.wait)) this.wait = options.wait;\n    if (Tools.isNumber(options.delay)) this.delay = options.delay;\n\n    this.replay();\n  }\n\n  /**\n   * pause this animation group\n   * @return {this}\n   */\n  pause() {\n    if (this._cancelImageLoadHandle) this._cancelImageLoadHandle();\n    this._paused = true;\n    return this;\n  }\n\n  /**\n   * resume or play this animation group\n   * @return {this}\n   */\n  resume() {\n    if (this._cancelImageLoadHandle) this._cancelImageLoadHandle();\n    this._paused = false;\n    return this;\n  }\n\n  /**\n   * replay this animation group from begin frame\n   * @return {this}\n   */\n  replay() {\n    if (this._cancelImageLoadHandle) this._cancelImageLoadHandle();\n    this._paused = false;\n    this._repeatsCut = this.repeats;\n    this._delayCut = this.delay;\n    this.living = true;\n    this.frameNum = 0;\n    this.duration = Math.floor(this.endFrame - this.beginFrame);\n    this.direction = 1;\n    return this;\n  }\n}\n\nexport default AnimationGroup;\n","import Eventer from './utils/Eventer';\nimport AnimationGroup from './AnimationGroup';\n\n/**\n * all lottie animation manager, manage update loop and animation groups\n * @example\n * const manager = new PIXI.AnimationManager(app);\n * const ani = manager.parseAnimation({\n *   keyframes: data,\n *   infinite: true,\n * });\n * @class\n */\nexport default class AnimationManager extends Eventer {\n  /**\n   * animation manager, a ticker instance\n   * @param {Application} app app object\n   */\n  constructor(app) {\n    super();\n    /**\n     * pre-time cache\n     *\n     * @member {Number}\n     * @private\n     */\n    this.pt = 0;\n\n    /**\n     * how long the time through, at this tick\n     *\n     * @member {Number}\n     * @private\n     */\n    this.snippet = 0;\n\n    /**\n     * time scale, just like speed scalar\n     *\n     * @member {Number}\n     */\n    this.timeScale = 1;\n\n    /**\n     * mark the manager was pause or not\n     *\n     * @member {Boolean}\n     */\n    this.paused = false;\n\n    /**\n     * get shared ticker from app object\n     * @private\n     */\n    this.ticker = app.ticker ? app.ticker : app;\n\n    /**\n     * all animation groups\n     * @private\n     */\n    this.groups = [];\n\n    this.update = this.update.bind(this);\n\n    if (this.ticker) this.start();\n  }\n\n  /**\n   * add a animationGroup child to array\n   * @param {AnimationGroup} child AnimationGroup instance\n   * @return {AnimationGroup} child\n   */\n  add(child) {\n    const argumentsLength = arguments.length;\n\n    if (argumentsLength > 1) {\n      for (let i = 0; i < argumentsLength; i++) {\n        /* eslint prefer-rest-params: 0 */\n        this.add(arguments[i]);\n      }\n    } else {\n      this.groups.push(child);\n    }\n\n    return child;\n  }\n\n  /**\n   * parser a bodymovin data, and post some config for this animation group\n   * @param {object} options animation config\n   * @param {Object} options.keyframes bodymovin data, which export from AE by bodymovin\n   * @param {Number} [options.repeats=0] need repeat some times?\n   * @param {Boolean} [options.infinite=false] play this animation round and round forever\n   * @param {Boolean} [options.alternate=false] alternate play direction every round\n   * @param {Number} [options.wait=0] need wait how much millisecond to start\n   * @param {Number} [options.delay=0] need delay how much millisecond to begin, effect every loop round\n   * @param {Number} [options.timeScale=1] animation speed, time scale factor\n   * @param {Boolean} [options.autoLoad=true] auto load assets, if this animation have\n   * @param {Boolean} [options.autoStart=true] auto start animation after assets loaded\n   * @param {Boolean} [options.overlapMode=false] enable overlap mode, it is useful when you have a overlap expression\n   * @param {Object} [options.segments={}] animation segments, splite by start and end keyframe number\n   * @param {Boolean} [options.initSegment=''] animation segments, init finite state machine\n   * @param {Boolean} [options.maskComp=false] auto start animation after assets loaded\n   * @param {String} [options.prefix=''] assets url prefix, look like link path\n   * @return {AnimationGroup}\n   * @example\n   * const manager = new PIXI.AnimationManager(app);\n   * const ani = manager.parseAnimation({\n   *   keyframes: data,\n   *   infinite: true,\n   * });\n   */\n  parseAnimation(options) {\n    const animate = new AnimationGroup(options);\n    return this.add(animate);\n  }\n\n  /**\n   * set animation speed, time scale\n   * @param {number} speed\n   */\n  setSpeed(speed) {\n    this.timeScale = speed;\n  }\n\n  /**\n   * start update loop\n   * @return {this}\n   */\n  start() {\n    this.pt = Date.now();\n    this.ticker.on('update', this.update);\n    return this;\n  }\n\n  /**\n   * stop update loop\n   * @return {this}\n   */\n  stop() {\n    this.ticker.off('update', this.update);\n    return this;\n  }\n\n  /**\n   * pause all animation groups\n   * @return {this}\n   */\n  pause() {\n    this.paused = true;\n    return this;\n  }\n\n  /**\n   * pause all animation groups\n   * @return {this}\n   */\n  resume() {\n    this.paused = false;\n    return this;\n  }\n\n  /**\n   * update all active animation\n   * @private\n   */\n  update() {\n    this.timeline();\n    if (this.paused) return;\n    const snippetCache = this.timeScale * this.snippet;\n    const length = this.groups.length;\n    for (let i = 0; i < length; i++) {\n      const animationGroup = this.groups[i];\n      animationGroup.update(snippetCache);\n    }\n    this.emit('update', this.snippet);\n  }\n\n  /**\n   * get timeline snippet\n   * @private\n   */\n  timeline() {\n    let snippet = Date.now() - this.pt;\n    if (!this.pt || snippet > 200) {\n      this.pt = Date.now();\n      snippet = Date.now() - this.pt;\n    }\n    this.pt += snippet;\n    this.snippet = snippet;\n  }\n}\n","import {Eventer, Tools} from '../lottie-core/index';\n\n\n/**\n * 事件对象的事件绑定函数\n *\n * @param {String} type 事件类型\n * @param {Function} fn 回调函数\n * @return {this}\n */\nEventer.prototype.on = function(type, fn) {\n  if (!Tools.isFunction(fn)) return this;\n  if (Tools.isUndefined(this.listeners[type])) this.listeners[type] = [];\n  this.listeners[type].push(fn);\n  this.interactive = true;\n  return this;\n};\n\nexport {Eventer};\n","import {\n  Tools,\n} from '../lottie-core/index';\n\n/**\n * Utils 引擎工具箱\n *\n * @namespace JC.Utils\n */\nexport const Utils = {\n  /**\n   * 将角度转化成弧度的乘法因子\n   *\n   * @static\n   * @memberof JC.Utils\n   * @param {number} degree 角度数\n   * @return {number} 弧度数\n   */\n  DTR(degree) {\n    return degree * Math.PI / 180;\n  },\n\n  /**\n   * 将弧度转化成角度的乘法因子\n   *\n   * @static\n   * @memberof JC.Utils\n   * @param {number} radian 角度数\n   * @return {number} 弧度数\n   */\n  RTD(radian) {\n    return radian * 180 / Math.PI;\n  },\n\n  /**\n   * 强化的随机数，可以随机产生给定区间内的数字、随机输出数字内的项\n   *\n   * @static\n   * @method\n   * @memberof JC.Utils\n   * @param {Array | Number} min 当只传入一个变量时变量应该为数字，否则为所给定区间较小的数字\n   * @param {Number} max 所给定区间较大的数字\n   * @return {ArrayItem | Number} 返回数组中大一项或者给定区间内的数字\n   */\n  random: function(min, max) {\n    if (this.isArray(min)) return min[~~(Math.random() * min.length)];\n    if (!this.isNumber(max)) max = min || 1, min = 0;\n    return min + Math.random() * (max - min);\n  },\n\n  /**\n   * 线性插值\n   *\n   * @static\n   * @method\n   * @memberof JC.Utils\n   * @param {Number} x 输入的值\n   * @param {Number} min 输入值的下区间\n   * @param {Number} max 输入值的上区间\n   * @return {Number} 返回的值在区间[0,1]内\n   */\n  linear: function( x, min, max ) {\n    if ( x <= min ) return 0;\n    if ( x >= max ) return 1;\n    x = ( x - min ) / ( max - min );\n    return x;\n  },\n\n  /**\n   * 平滑插值\n   *\n   * @static\n   * @method\n   * @memberof JC.Utils\n   * @param {Number} x 输入的值\n   * @param {Number} min 输入值的下区间\n   * @param {Number} max 输入值的上区间\n   * @return {Number} 返回的值在区间[0,1]内\n   */\n  smoothstep: function( x, min, max ) {\n    x = this.linear(x, min, max);\n    return x * x * ( 3 - 2 * x );\n  },\n\n  /**\n   * 更平滑的插值\n   *\n   * @static\n   * @method\n   * @memberof JC.Utils\n   * @param {Number} x 输入的值\n   * @param {Number} min 输入值的下区间\n   * @param {Number} max 输入值的上区间\n   * @return {Number} 返回的值在区间[0,1]内\n   */\n  smootherstep: function( x, min, max ) {\n    x = this.linear(x, min, max);\n    return x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n  },\n};\n\nObject.assign(Utils, Tools);\n","\nimport {Eventer} from '../eventer/Eventer';\nimport {Utils} from '../utils/Utils';\n\n/**\n * 动画对象的基本类型\n *\n * @class\n * @memberof JC\n * @param {object} [options] 动画配置信息\n */\nfunction Animate(options) {\n  Eventer.call(this);\n\n  this.element = options.element || {};\n  this.duration = options.duration || 300;\n  this.living = true;\n  this.resident = options.resident || false;\n\n  // this.onComplete = options.onComplete || null;\n  // this.onUpdate = options.onUpdate || null;\n\n  this.infinite = options.infinite || false;\n  this.alternate = options.alternate || false;\n  this.repeats = options.repeats || 0;\n  this.delay = options.delay || 0;\n  this.wait = options.wait || 0;\n  this.timeScale = Utils.isNumber(options.timeScale) ?\n    options.timeScale :\n    1;\n\n  if (options.onComplete) {\n    this.on('complete', options.onComplete.bind(this));\n  }\n  if (options.onUpdate) {\n    this.on('update', options.onUpdate.bind(this));\n  }\n\n  // this.repeatsCut = this.repeats;\n  // this.delayCut = this.delay;\n  // this.waitCut = this.wait;\n  // this.progress = 0;\n  // this.direction = 1;\n  this.init();\n\n  this.paused = false;\n}\n\nAnimate.prototype = Object.create(Eventer.prototype);\n\n/**\n * 更新动画\n * @private\n * @param {number} snippet 时间片段\n * @return {object}\n */\nAnimate.prototype.update = function(snippet) {\n  const snippetCache = this.direction * this.timeScale * snippet;\n  if (this.waitCut > 0) {\n    this.waitCut -= Math.abs(snippetCache);\n    return;\n  }\n  if (this.paused || !this.living || this.delayCut > 0) {\n    if (this.delayCut > 0) this.delayCut -= Math.abs(snippetCache);\n    return;\n  }\n\n  this.progress += snippetCache;\n  let isEnd = false;\n  const progressCache = this.progress;\n\n  if (this.spill()) {\n    if (this.repeatsCut > 0 || this.infinite) {\n      if (this.repeatsCut > 0) --this.repeatsCut;\n      this.delayCut = this.delay;\n      if (this.alternate) {\n        this.direction *= -1;\n        this.progress = Utils.codomainBounce(this.progress, 0, this.duration);\n      } else {\n        this.direction = 1;\n        this.progress = Utils.euclideanModulo(this.progress, this.duration);\n      }\n    } else {\n      isEnd = true;\n    }\n  }\n\n  let pose;\n  if (!isEnd) {\n    pose = this.nextPose();\n    this.emit('update', pose, this.progress / this.duration);\n  } else {\n    if (!this.resident) this.living = false;\n    this.progress = Utils.clamp(progressCache, 0, this.duration);\n    pose = this.nextPose();\n    this.emit('complete', pose, Math.abs(progressCache - this.progress));\n  }\n  return pose;\n};\n\n/**\n * 检查动画是否到了边缘\n * @private\n * @return {boolean}\n */\nAnimate.prototype.spill = function() {\n  const bottomSpill = this.progress <= 0 && this.direction === -1;\n  const topSpill = this.progress >= this.duration && this.direction === 1;\n  return bottomSpill || topSpill;\n};\n\n/**\n * 初始化动画状态\n * @private\n */\nAnimate.prototype.init = function() {\n  this.direction = 1;\n  this.progress = 0;\n  this.repeatsCut = this.repeats;\n  this.delayCut = this.delay;\n  this.waitCut = this.wait;\n};\n\n/**\n * 下一帧的数据\n * @private\n */\nAnimate.prototype.nextPose = function() {\n  console.warn('should be overwrite');\n};\n\n/**\n * 线性插值\n * @private\n * @param {number} p0 起始位置\n * @param {number} p1 结束位置\n * @param {number} t  进度位置\n * @return {Number}\n */\nAnimate.prototype.linear = function(p0, p1, t) {\n  return (p1 - p0) * t + p0;\n};\n\n/**\n * 暂停动画\n */\nAnimate.prototype.pause = function() {\n  this.paused = true;\n};\n\n/**\n * 恢复动画\n */\nAnimate.prototype.restart = function() {\n  this.paused = false;\n};\n\n/**\n * 停止动画，并把状态置为最后一帧，会触发事件\n */\nAnimate.prototype.stop = function() {\n  this.repeats = 0;\n  this.infinite = false;\n  this.progress = this.duration;\n};\n\n/**\n * 设置动画的速率\n * @param {number} speed\n */\nAnimate.prototype.setSpeed = function(speed) {\n  this.timeScale = speed;\n};\n\n/**\n * 取消动画，不会触发事件\n */\nAnimate.prototype.cancle = function() {\n  this.living = false;\n};\n\nexport {Animate};\n","import {Tween} from '../utils/Tween';\nimport {Animate} from './Animate';\nimport {Utils} from '../utils/Utils';\n\n/* eslint guard-for-in: \"off\" */\n\n/**\n * Transition类型动画对象\n *\n * @class\n * @memberof JC\n * @param {object} [options] 动画所具备的特性\n */\nfunction Transition(options) {\n  Animate.call(this, options);\n\n  // collect from pose, when from was not complete\n  options.from = options.from || {};\n  for (const i in options.to) {\n    if (Utils.isUndefined(options.from[i])) {\n      options.from[i] = this.element[i];\n    }\n  }\n\n  this.ease = options.ease || Tween.Ease.InOut;\n  this.from = options.from;\n  this.to = options.to;\n}\nTransition.prototype = Object.create(Animate.prototype);\n\n/**\n * 计算下一帧状态\n * @private\n * @return {object}\n */\nTransition.prototype.nextPose = function() {\n  const pose = {};\n  const t = this.ease(this.progress / this.duration);\n  for (let i in this.to) {\n    pose[i] = this.linear(this.from[i], this.to[i], t);\n    if (this.element[i] !== undefined) this.element[i] = pose[i];\n  }\n  return pose;\n};\n\nexport {Transition};\n","\n// import { Point } from './Point';\n/**\n * @class\n * @memberof JC\n */\nfunction Curve() {}\n\nCurve.prototype = {\n\n  constructor: Curve,\n\n  getPoint: function( t ) {\n    console.warn( 'Curve: Warning, getPoint() not implemented!', t );\n    return null;\n  },\n\n  getPointAt: function( u ) {\n    let t = this.getUtoTmapping( u );\n    return this.getPoint( t );\n  },\n\n  getPoints: function( divisions ) {\n    if ( isNaN( divisions ) ) divisions = 5;\n\n    let points = [];\n\n    for ( let d = 0; d <= divisions; d ++ ) {\n      points.push( this.getPoint( d / divisions ) );\n    }\n\n    return points;\n  },\n\n  getSpacedPoints: function( divisions ) {\n    if ( isNaN( divisions ) ) divisions = 5;\n\n    let points = [];\n\n    for ( let d = 0; d <= divisions; d ++ ) {\n      points.push( this.getPointAt( d / divisions ) );\n    }\n\n    return points;\n  },\n\n  getLength: function() {\n    let lengths = this.getLengths();\n    return lengths[lengths.length - 1];\n  },\n\n  getLengths: function( divisions ) {\n    if (isNaN(divisions)) {\n      divisions = ( this.__arcLengthDivisions ) ?\n        ( this.__arcLengthDivisions ) :\n        200;\n    }\n\n    if ( this.cacheArcLengths\n      && ( this.cacheArcLengths.length === divisions + 1 )\n      && ! this.needsUpdate ) {\n      return this.cacheArcLengths;\n    }\n\n    this.needsUpdate = false;\n\n    let cache = [];\n    let current;\n    let last = this.getPoint( 0 );\n    let p;\n    let sum = 0;\n\n    cache.push( 0 );\n\n    for ( p = 1; p <= divisions; p ++ ) {\n      current = this.getPoint( p / divisions );\n      sum += current.distanceTo( last );\n      cache.push( sum );\n      last = current;\n    }\n    this.cacheArcLengths = cache;\n    return cache;\n  },\n\n  updateArcLengths: function() {\n    this.needsUpdate = true;\n    this.getLengths();\n  },\n\n  getUtoTmapping: function( u, distance ) {\n    let arcLengths = this.getLengths();\n\n    let i = 0;\n    let il = arcLengths.length;\n    let t;\n\n    let targetArcLength;\n\n    if ( distance ) {\n      targetArcLength = distance;\n    } else {\n      targetArcLength = u * arcLengths[il - 1];\n    }\n\n    let low = 0;\n    let high = il - 1;\n    let comparison;\n    while ( low <= high ) {\n      i = Math.floor( low + ( high - low ) / 2 );\n      comparison = arcLengths[i] - targetArcLength;\n      if ( comparison < 0 ) {\n        low = i + 1;\n      } else if ( comparison > 0 ) {\n        high = i - 1;\n      } else {\n        high = i;\n        break;\n      }\n    }\n\n    i = high;\n\n    if ( arcLengths[i] === targetArcLength ) {\n      t = i / ( il - 1 );\n      return t;\n    }\n\n    let lengthBefore = arcLengths[i];\n    let lengthAfter = arcLengths[i + 1];\n\n    let segmentLength = lengthAfter - lengthBefore;\n\n    let segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n    t = ( i + segmentFraction ) / ( il - 1 );\n\n    return t;\n  },\n\n  getTangent: function( t ) {\n    let delta = 0.0001;\n    let t1 = t - delta;\n    let t2 = t + delta;\n\n    // NOTE: svg and bezier accept out of [0, 1] value\n    // if ( t1 < 0 ) t1 = 0;\n    // if ( t2 > 1 ) t2 = 1;\n\n    let pt1 = this.getPoint( t1 );\n    let pt2 = this.getPoint( t2 );\n\n    let vec = pt2.clone().sub( pt1 );\n    return vec.normalize();\n  },\n\n  getTangentAt: function( u ) {\n    let t = this.getUtoTmapping( u );\n    return this.getTangent( t );\n  },\n\n};\n\nexport {Curve};\n","\n/* eslint max-len: \"off\" */\n\n/**\n * 二维空间内坐标点类\n *\n * @class\n * @memberof JC\n * @param {number} [x=0] x轴的位置\n * @param {number} [y=0] y轴的位置\n * @param {number} [z=0] z轴的位置\n * @param {number} [w=0] w轴的位置\n */\nfunction Point(x, y, z, w) {\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.x = x || 0;\n\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.y = y || 0;\n\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.z = z || 0;\n\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.w = w || 0;\n}\n\n/**\n * 克隆一这个坐标点\n *\n * @return {JC.Point} 克隆的坐标点\n */\nPoint.prototype.clone = function() {\n  return new Point(this.x, this.y, this.z, this.w);\n};\n\n/**\n * 拷贝传入的坐标点来设置当前坐标点\n *\n * @param {JC.Point} p\n */\nPoint.prototype.copy = function(p) {\n  this.set(p.x, p.y, p.z, p.w);\n};\n\n/**\n * 设置坐标点\n *\n * @param {number} x 轴的位置\n * @param {number} y 轴的位置\n * @param {number} z 轴的位置\n * @param {number} w 轴的位置\n * @return {Point} this\n */\nPoint.prototype.set = function( x, y, z, w ) {\n  this.x = x;\n  this.y = y;\n  this.z = z;\n  this.w = w;\n  return this;\n};\n\nPoint.prototype.add = function( v, w ) {\n  if ( w !== undefined ) {\n    console.warn( 'Use .addVectors( a, b ) instead.' );\n    return this.addVectors( v, w );\n  }\n  this.x += v.x;\n  this.y += v.y;\n  this.z += v.z;\n  this.w += v.w;\n  return this;\n};\n\nPoint.prototype.addVectors = function( a, b ) {\n  this.x = a.x + b.x;\n  this.y = a.y + b.y;\n  this.z = a.z + b.z;\n  this.w = a.w + b.w;\n  return this;\n};\n\n\nPoint.prototype.sub = function( v, w ) {\n  if ( w !== undefined ) {\n    console.warn( 'Use .subVectors( a, b ) instead.' );\n    return this.subVectors( v, w );\n  }\n  this.x -= v.x;\n  this.y -= v.y;\n  this.z -= v.z;\n  this.w -= v.w;\n  return this;\n};\n\nPoint.prototype.subVectors = function( a, b ) {\n  this.x = a.x - b.x;\n  this.y = a.y - b.y;\n  this.z = a.z - b.z;\n  this.w = a.w - b.w;\n  return this;\n};\n\nPoint.prototype.lengthSq = function() {\n  return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n};\n\nPoint.prototype.length = function() {\n  return Math.sqrt( this.lengthSq() );\n};\n\nPoint.prototype.normalize = function() {\n  return this.divideScalar( this.length() );\n};\n\nPoint.prototype.divideScalar = function( scalar ) {\n  return this.multiplyScalar( 1 / scalar );\n};\n\nPoint.prototype.distanceTo = function( v ) {\n  return Math.sqrt( this.distanceToSquared( v ) );\n};\n\nPoint.prototype.distanceToSquared = function( v ) {\n  const dx = this.x - v.x;\n  const dy = this.y - v.y;\n  const dz = this.z - v.z;\n  return dx * dx + dy * dy + dz * dz;\n};\n\nPoint.prototype.multiplyScalar = function( scalar ) {\n  if ( isFinite( scalar ) ) {\n    this.x *= scalar;\n    this.y *= scalar;\n    this.z *= scalar;\n    this.w *= scalar;\n  } else {\n    this.x = 0;\n    this.y = 0;\n    this.z = 0;\n    this.w = 0;\n  }\n  return this;\n};\n\nPoint.prototype.cross = function(v, w) {\n  if (w !== undefined) {\n    console.warn('Use .crossVectors( a, b ) instead.');\n    return this.crossVectors(v, w);\n  }\n\n  const x = this.x;\n  const y = this.y;\n  const z = this.z;\n\n  this.x = y * v.z - z * v.y;\n  this.y = z * v.x - x * v.z;\n  this.z = x * v.y - y * v.x;\n\n  return this;\n};\n\nPoint.prototype.crossVectors = function(a, b) {\n  const ax = a.x;\n  const ay = a.y;\n  const az = a.z;\n  const bx = b.x;\n  const by = b.y;\n  const bz = b.z;\n\n  this.x = ay * bz - az * by;\n  this.y = az * bx - ax * bz;\n  this.z = ax * by - ay * bx;\n\n  return this;\n};\n\n\nexport {Point};\n","import {Animate} from './Animate';\nimport {Utils} from '../utils/Utils';\nimport {Tween} from '../utils/Tween';\nimport {Curve} from '../math/Curve';\nimport {Point} from '../math/Point';\n\n/**\n * PathMotion类型动画对象\n *\n * @class\n * @memberof JC\n * @param {object} [options] 动画所具备的特性\n */\nfunction PathMotion(options) {\n  Animate.call(this, options);\n  if (!options.path || !(options.path instanceof Curve)) {\n    console.warn('path is not instanceof Curve');\n  }\n\n  this.path = options.path;\n\n  this.ease = options.ease || Tween.Ease.InOut;\n\n  this.lengthMode = Utils.isBoolean(options.lengthMode)?\n    options.lengthMode:\n    false;\n\n  this.attachTangent = Utils.isBoolean(options.attachTangent)?\n    options.attachTangent:\n    false;\n\n  this._cacheRotate = this.element.rotation;\n  const radian = this._cacheRotate;\n  this._cacheVector = new Point(10 * Math.cos(radian), 10 * Math.sin(radian));\n}\n\nPathMotion.prototype = Object.create(Animate.prototype);\n\n/**\n * 计算下一帧状态\n * @private\n * @return {object}\n */\nPathMotion.prototype.nextPose = function() {\n  let _rotate = 0;\n  const t = this.ease(this.progress / this.duration);\n  const pos = this.lengthMode ?\n    this.path.getPointAt(t) :\n    this.path.getPoint(t);\n\n  const pose = pos.clone();\n\n  if (this.attachTangent) {\n    _rotate = this.decomposeRotate(t);\n    pose.rotation = _rotate === false ? this.preDegree : _rotate;\n    pose.rotation += this._cacheRotate;\n    if (_rotate !== false) this.preDegree = _rotate;\n  }\n  this.element.setProps(pose);\n  return pose;\n};\n\n/**\n * 解算旋转角度\n * @private\n * @param {number} t 当前进度, 区间[0, 1]\n * @return {number}\n */\nPathMotion.prototype.decomposeRotate = function(t) {\n  const vector = this.lengthMode ?\n    this.path.getTangentAt(t) :\n    this.path.getTangent(t);\n\n  const nor = this._cacheVector.x * vector.y - vector.x * this._cacheVector.y;\n  const pi = nor > 0 ? 1 : -1;\n  const cos = (vector.x * this._cacheVector.x + vector.y * this._cacheVector.y)/\n    ( Math.sqrt(vector.x * vector.x + vector.y * vector.y) *\n      Math.sqrt(\n        this._cacheVector.x * this._cacheVector.x +\n        this._cacheVector.y * this._cacheVector.y\n      )\n    );\n  if (isNaN(cos)) return false;\n  return pi * Math.acos(cos) * Utils.RTD;\n};\n\nexport {PathMotion};\n","import {Tools, TransformFrames} from '../lottie-core/index';\nimport {Animate} from './Animate';\n/* eslint guard-for-in: \"off\" */\n\n/**\n * Bodymovin 类型动画对象\n *\n * @class\n * @private\n * @param {object} options 动画所具备的特性\n */\nfunction Bodymovin(options) {\n  Animate.call(this, options);\n\n  // list of animated properties\n  this.dynamicProperties = [];\n\n  // If layer has been modified in current tick this will be true\n  this._mdf = false;\n\n  this.keyframes = Tools.copyJSON(options.keyframes);\n  this.frameRate = options.frameRate || 30;\n  this.tpf = 1000 / this.frameRate;\n  // this.frameNum = -1;\n\n  this.ip = Tools.isUndefined(options.ip) ? this.keyframes.ip : options.ip;\n  this.op = Tools.isUndefined(options.ip) ? this.keyframes.op : options.op;\n\n  this.tfs = this.op - this.ip;\n  this.duration = this.tfs * this.tpf;\n\n  this.ignoreProps = Tools.isArray(options.ignoreProps) ? options.ignoreProps : [];\n\n  this.transform = new TransformFrames(this, this.keyframes.ks);\n}\nBodymovin.prototype = Object.create(Animate.prototype);\n\n/**\n * Calculates all dynamic values\n * @param {number} frameNum current frame number in Layer's time\n */\nBodymovin.prototype.prepareProperties = function(frameNum) {\n  let i; let len = this.dynamicProperties.length;\n  for (i = 0; i < len; i += 1) {\n    this.dynamicProperties[i].getValue(frameNum);\n    if (this.dynamicProperties[i]._mdf) {\n      this._mdf = true;\n    }\n  }\n};\n\n/**\n * add dynamic property\n * @param {*} prop dynamic property\n */\nBodymovin.prototype.addDynamicProperty = function(prop) {\n  if (this.dynamicProperties.indexOf(prop) === -1) {\n    this.dynamicProperties.push(prop);\n  }\n};\n\n/**\n * 计算下一帧状态\n * @private\n * @return {object}\n */\nBodymovin.prototype.nextPose = function() {\n  const pose = {};\n  const frameNum = this.ip + this.progress / this.tpf;\n  this.prepareProperties(frameNum);\n\n  if (this.ignoreProps.indexOf('position') === -1) {\n    if (this.ignoreProps.indexOf('x') === -1) {\n      pose.x = this.element.x = this.transform.x;\n    }\n    if (this.ignoreProps.indexOf('y') === -1) {\n      pose.y = this.element.y = this.transform.y;\n    }\n  }\n\n  if (this.ignoreProps.indexOf('pivot') === -1) {\n    if (this.ignoreProps.indexOf('pivotX') === -1) {\n      pose.pivotX = this.element.pivotX = this.transform.anchorX;\n    }\n    if (this.ignoreProps.indexOf('pivotY') === -1) {\n      pose.pivotY = this.element.pivotY = this.transform.anchorY;\n    }\n  }\n\n  if (this.ignoreProps.indexOf('scale') === -1) {\n    if (this.ignoreProps.indexOf('scaleX') === -1) {\n      pose.scaleX = this.element.scaleX = this.transform.scaleX;\n    }\n    if (this.ignoreProps.indexOf('scaleY') === -1) {\n      pose.scaleY = this.element.scaleY = this.transform.scaleY;\n    }\n  }\n\n  if (this.ignoreProps.indexOf('rotation') === -1) {\n    pose.rotation = this.element.rotation = this.transform.rotation;\n  }\n\n  if (this.ignoreProps.indexOf('alpha') === -1) {\n    pose.alpha = this.element.alpha = this.transform.alpha;\n  }\n\n  return pose;\n};\n\nexport {Bodymovin};\n","import {Animate} from './Animate';\nimport {Transition} from './Transition';\nimport {PathMotion} from './PathMotion';\n// import {Utils} from '../utils/Utils';\n\n/**\n * AnimateRunner类型动画类\n *\n * @class\n * @memberof JC\n * @param {object} runner 动画属性参数\n * @param {object} [options] queue动画配置\n */\nfunction Queues(runner, options) {\n  Animate.call(this, options);\n\n  this.runners = [];\n  this.queues = [];\n  this.cursor = 0;\n  this.total = 0;\n  this.alternate = false;\n\n  if (runner) this.then(runner);\n}\nQueues.prototype = Object.create(Animate.prototype);\n\n/**\n * 更新下一个`runner`\n * @param {Object} runner\n * @return {this}\n * @private\n */\nQueues.prototype.then = function(runner) {\n  this.queues.push(runner);\n\n  this.total = this.queues.length;\n  return this;\n};\n\n/**\n * 更新下一个`runner`\n * @param {Object} _\n * @param {Number} time\n * @private\n */\nQueues.prototype.nextOne = function(_, time) {\n  this.runners[this.cursor].init();\n  this.cursor++;\n  this.timeSnippet = time;\n};\n\n/**\n * 初始化当前`runner`\n * @private\n */\nQueues.prototype.initOne = function() {\n  const runner = this.queues[this.cursor];\n  runner.infinite = false;\n  runner.resident = true;\n  runner.element = this.element;\n\n  let animate = null;\n  if (runner.path) {\n    animate = new PathMotion(runner);\n  } else if (runner.to) {\n    animate = new Transition(runner);\n  }\n  if (animate !== null) {\n    animate.on('complete', this.nextOne.bind(this));\n    this.runners.push(animate);\n  }\n};\n\n/**\n * 下一帧的状态\n * @private\n * @param {number} snippetCache 时间片段\n * @return {object}\n */\nQueues.prototype.nextPose = function(snippetCache) {\n  if (!this.runners[this.cursor] && this.queues[this.cursor]) {\n    this.initOne();\n  }\n  if (this.timeSnippet > 0) {\n    snippetCache += this.timeSnippet;\n    this.timeSnippet = 0;\n  }\n  return this.runners[this.cursor].update(snippetCache);\n};\n\n/**\n * 更新动画数据\n * @private\n * @param {number} snippet 时间片段\n * @return {object}\n */\nQueues.prototype.update = function(snippet) {\n  if (this.wait > 0) {\n    this.wait -= Math.abs(snippet);\n    return;\n  }\n  if (this.paused || !this.living || this.delayCut > 0) {\n    if (this.delayCut > 0) this.delayCut -= Math.abs(snippet);\n    return;\n  }\n\n  const cc = this.cursor;\n\n  const pose = this.nextPose(this.timeScale * snippet);\n\n  this.emit('update', {\n    index: cc, pose: pose,\n  }, this.progress / this.duration);\n\n  if (this.spill()) {\n    if (this.repeats > 0 || this.infinite) {\n      if (this.repeats > 0) --this.repeats;\n      this.delayCut = this.delay;\n      this.cursor = 0;\n    } else {\n      if (!this.resident) this.living = false;\n      this.emit('complete', pose);\n    }\n  }\n  return pose;\n};\n\n/**\n * 检查动画是否到了边缘\n * @private\n * @return {boolean}\n */\nQueues.prototype.spill = function() {\n  // TODO: 这里应该保留溢出，不然会导致时间轴上的误差\n  const topSpill = this.cursor >= this.total;\n  return topSpill;\n};\n\n\nexport {Queues};\n","import {Transition} from './Transition';\nimport {PathMotion} from './PathMotion';\n// import {KeyFrames} from './KeyFrames';\nimport {Bodymovin} from './Bodymovin';\nimport {Queues} from './Queues';\n/**\n * Animation类型动画类，该类上的功能将以`add-on`的形势增加到`DisplayObject`上\n *\n * @class\n * @memberof JC\n * @param {JC.DisplayObject} element\n */\nfunction Animation(element) {\n  this.element = element;\n\n  /**\n   * 自身当前动画队列\n   *\n   * @member {array}\n   */\n  this.animates = [];\n\n  /**\n   * 自身及后代动画的缩放比例\n   *\n   * @member {number}\n   */\n  this.timeScale = 1;\n\n  /**\n   * 是否暂停自身的动画\n   *\n   * @member {Boolean}\n   */\n  this.paused = false;\n}\n\n/**\n * 更新动画数据\n * @private\n * @param {number} snippet 时间片段\n */\nAnimation.prototype.update = function(snippet) {\n  if (this.paused) return;\n  snippet = this.timeScale * snippet;\n  const cache = this.animates.slice(0);\n  for (let i = 0; i < cache.length; i++) {\n    if (!cache[i].living && !cache[i].resident) {\n      this.animates.splice(i, 1);\n    }\n    cache[i].update(snippet);\n  }\n};\n\n/**\n * 创建一个`animate`动画\n * @private\n * @param {object} options 动画配置\n * @param {boolean} clear 是否清除之前的动画\n * @return {JC.Transition}\n */\nAnimation.prototype.animate = function(options, clear) {\n  options.element = this.element;\n  return this._addMove(new Transition(options), clear);\n};\n\n/**\n * 创建一个`motion`动画\n * @private\n * @param {object} options 动画配置\n * @param {boolean} clear 是否清除之前的动画\n * @return {JC.PathMotion}\n */\nAnimation.prototype.motion = function(options, clear) {\n  options.element = this.element;\n  return this._addMove(new PathMotion(options), clear);\n};\n\n/**\n * 创建一个`runners`动画\n * @private\n * @param {object} options 动画配置\n * @param {boolean} clear 是否清除之前的动画\n * @return {JC.AnimateRunner}\n */\n// Animation.prototype.runners = function(options, clear) {\n//   options.element = this.element;\n//   return this._addMove(new AnimateRunner(options), clear);\n// };\nAnimation.prototype.queues = function(runner, options, clear) {\n  options.element = this.element;\n  return this._addMove(new Queues(runner, options), clear);\n};\n\n// /**\n//  * 创建一个`keyFrames`动画\n//  * @private\n//  * @param {object} options 动画配置\n//  * @param {boolean} clear 是否清除之前的动画\n//  * @return {JC.KeyFrames}\n//  */\n// Animation.prototype.keyFrames = function(options, clear) {\n//   options.element = this.element;\n//   return this._addMove(new KeyFrames(options), clear);\n// };\n\n/**\n * 创建一个`keyFrames`动画\n * @private\n * @param {object} options 动画配置\n * @param {boolean} clear 是否清除之前的动画\n * @return {JC.Bodymovin}\n */\nAnimation.prototype.bodymovin = function(options, clear) {\n  options.element = this.element;\n  return this._addMove(new Bodymovin(options), clear);\n};\n\n/**\n * 添加到动画队列\n * @private\n * @param {object} animate 创建出来的动画对象\n * @param {boolean} clear 是否清除之前的动画\n * @return {JC.Bodymovin|JC.AnimateRunner|JC.PathMotion|JC.Transition}\n */\nAnimation.prototype._addMove = function(animate, clear) {\n  if (clear) this.clear();\n  this.animates.push(animate);\n  return animate;\n};\n\n/**\n * 暂停动画组\n */\nAnimation.prototype.pause = function() {\n  this.paused = true;\n};\n\n/**\n * 恢复动画组\n */\nAnimation.prototype.restart = function() {\n  this.paused = false;\n};\n\n/**\n * 设置动画组的播放速率\n * @param {number} speed\n */\nAnimation.prototype.setSpeed = function(speed) {\n  this.timeScale = speed;\n};\n\n/**\n * 清除动画队列\n * @private\n */\nAnimation.prototype.clear = function() {\n  this.animates.length = 0;\n};\n\nexport {Animation};\n","\n/* eslint guard-for-in: \"off\" */\n\nimport {Eventer} from '../eventer/Eventer';\nimport {Utils} from './Utils';\n\n// const TextureCache = {};\n\nconst URL = 'url';\nconst IMG = 'img';\n\n/**\n *\n * @param {Object} frame object\n * @return {Boolean}\n */\nfunction isFrame(frame) {\n  return frame.tagName === 'VIDEO' || frame.tagName === 'CANVAS' || frame.tagName === 'IMG';\n}\n\n/**\n * 图片纹理类\n *\n * @class\n * @memberof JC\n * @param {string | Image} texture 图片url或者图片对象.\n * @param {object} options 图片配置\n * @param {boolean} [options.lazy=false] 图片是否需要懒加载\n * @param {string} [options.crossOrigin] 图片是否配置跨域\n * @extends JC.Eventer\n */\nfunction Texture(texture, options) {\n  Eventer.call(this);\n  options = options || {};\n\n  this.type = '';\n  this.url = '';\n  this.texture = null;\n  this.crossOrigin = options.crossOrigin;\n  this.loaded = false;\n  this.hadload = false;\n  this.lazy = options.lazy || false;\n\n  if (Utils.isString(texture)) {\n    this.type = URL;\n    this.url = texture;\n    this.texture = this.resole();\n    this.texture.crossOrigin = this.crossOrigin;\n    if (!this.lazy) this.load();\n  } else if (isFrame(texture)) {\n    this.type = IMG;\n    this.loaded = true;\n    this.hadload = true;\n    this.texture = texture;\n  } else {\n    console.warn('texture not support this texture');\n    return;\n  }\n\n  this.listen();\n}\nTexture.prototype = Object.create(Eventer.prototype);\n\n/**\n * 创建一个图片\n *\n * @private\n * @return {Image}\n */\nTexture.prototype.resole = function() {\n  return new Image();\n};\n\n/**\n * 尝试加载图片\n *\n * @param {String} url 图片url或者图片对象.\n */\nTexture.prototype.load = function(url) {\n  if (this.hadload || this.type !== URL) return;\n  url = url || this.url;\n  this.hadload = true;\n  this.texture.src = url;\n};\n\n/**\n * 监听加载事件\n */\nTexture.prototype.listen = function() {\n  this.texture.addEventListener('load', () => {\n    this.loaded = true;\n    this.emit('load');\n  });\n  this.texture.addEventListener('error', () => {\n    this.emit('error');\n  });\n};\n\n/**\n * 获取纹理的宽\n *\n * @member width\n * @property {Number} width 纹理的宽\n * @memberof JC.Texture\n */\nObject.defineProperty(Texture.prototype, 'width', {\n  get: function() {\n    return this.texture ? this.texture.width : 0;\n  },\n});\n\n/**\n * 获取纹理的高\n *\n * @member height\n * @property {Number} height 纹理的高\n * @memberof JC.Texture\n */\nObject.defineProperty(Texture.prototype, 'height', {\n  get: function() {\n    return this.texture ? this.texture.height : 0;\n  },\n});\n\n/**\n * 获取纹理的原始宽\n *\n * @member naturalWidth\n * @property {Number} naturalWidth 纹理的原始宽\n * @memberof JC.Texture\n */\nObject.defineProperty(Texture.prototype, 'naturalWidth', {\n  get: function() {\n    return this.texture ? this.texture.naturalWidth || this.texture.width : 0;\n  },\n});\n\n/**\n * 获取纹理的原始高\n *\n * @member naturalHeight\n * @property {Number} naturalHeight 纹理的原始高\n * @memberof JC.Texture\n */\nObject.defineProperty(Texture.prototype, 'naturalHeight', {\n  get: function() {\n    return this.texture ? this.texture.naturalHeight || this.texture.height : 0;\n  },\n});\n\n\n/**\n * 图片资源加载器\n *\n * @class\n * @param {String} crossOrigin cross-origin config\n * @namespace JC.Loader\n * @extends JC.Eventer\n */\nfunction Loader(crossOrigin) {\n  Eventer.call(this);\n  this.crossOrigin = crossOrigin;\n  this.textures = {};\n  this._total = 0;\n  this._failed = 0;\n  this._received = 0;\n}\nLoader.prototype = Object.create(Eventer.prototype);\n\n/**\n * 开始加载资源\n *\n * ```js\n * var loadBox = new JC.Loader();\n * loadBox.load({\n *     aaa: 'img/xxx.png',\n *     bbb: 'img/yyy.png',\n *     ccc: 'img/zzz.png'\n * });\n * ```\n *\n * @param {object} srcMap 配置了key－value的json格式数据\n * @return {JC.Loader} 返回本实例对象\n */\nLoader.prototype.load = function(srcMap) {\n  let This = this;\n  this._total = 0;\n  this._failed = 0;\n  this._received = 0;\n\n  for (let src in srcMap) {\n    this._total++;\n    this.textures[src] = new Texture(srcMap[src], {crossOrigin: this.crossOrigin});\n    bind(this.textures[src]);\n  }\n\n  /**\n   * @param {Texture} texture\n   */\n  function bind(texture) {\n    texture.on('load', function() {\n      This._received++;\n      This.emit('update');\n      if (This._received + This._failed >= This._total) This.emit('complete');\n    });\n    texture.on('error', function() {\n      This._failed++;\n      This.emit('update');\n      if (This._received + This._failed >= This._total) This.emit('complete');\n    });\n  }\n  return this;\n};\n\n/**\n * 从纹理图片盒子里面通过id获取纹理图片\n *\n * ```js\n * var texture = loadBox.getById('id');\n * ```\n *\n * @param {string} id 之前加载时配置的key值\n * @return {JC.Texture} 包装出来的JC.Texture对象\n */\nLoader.prototype.getById = function(id) {\n  return this.textures[id];\n};\n\n/**\n * 获取资源加载的进度\n *\n * @member progress\n * @property progress {number} 0至1之间的值\n * @memberof JC.Loader\n */\nObject.defineProperty(Loader.prototype, 'progress', {\n  get: function() {\n    return this._total === 0 ? 1 :\n      (this._received + this._failed) / this._total;\n  },\n});\n\n\n/**\n * 资源加载工具\n *\n * @function\n * @memberof JC\n * @param {object} srcMap key-src map\n * @param {String} crossOrigin cross-origin config\n * @return {JC.Loader}\n */\nlet loaderUtil = function(srcMap, crossOrigin = '*') {\n  return new Loader(crossOrigin).load(srcMap);\n};\n\n\n/**\n * prefix\n * @method\n * @param {object} asset asset\n * @param {string} prefix prefix\n * @return {string}\n */\nfunction createUrl(asset, prefix) {\n  if (prefix) prefix = prefix.replace(/\\/?$/, '/');\n  const up = asset.u + asset.p;\n  const url = asset.up || prefix + up;\n  return url;\n}\n\n/**\n * an texture loader\n * @param {array} assets assets\n * @param {object} options options\n * @param {string} [options.prefix] prefix\n * @param {boolean} [options.autoLoad=true] prefix\n */\nfunction LottieLoader(assets, {prefix, autoLoad = true, crossOrigin = '*'}) {\n  Eventer.call(this);\n  this.assets = assets;\n  this.prefix = prefix || '';\n  this.crossOrigin = crossOrigin;\n  this.textures = {};\n  this._total = 0;\n  this._failed = 0;\n  this._received = 0;\n  if (autoLoad) this._load();\n}\n\nLottieLoader.prototype = Object.create(Eventer.prototype);\n\n/**\n * load assets\n */\nLottieLoader.prototype.load = function() {\n  this._load();\n};\n\n/**\n * a load function\n * @private\n */\nLottieLoader.prototype._load = function() {\n  this.assets.forEach((asset) => {\n    const id = asset.id;\n    const url = createUrl(asset, this.prefix);\n    const texture = new Texture(url, {crossOrigin: this.crossOrigin});\n    this.textures[id] = texture;\n    if (texture.loaded) {\n      this._received++;\n      this.emit('update');\n      if (this._received + this._failed >= this._total) this.emit('complete');\n    } else {\n      texture.once('load', () => {\n        this._received++;\n        this.emit('update');\n        if (this._received + this._failed >= this._total) this.emit('complete');\n      });\n      texture.once('error', () => {\n        this._failed++;\n        this.emit('update');\n        if (this._received + this._failed >= this._total) this.emit('complete');\n      });\n    }\n  });\n};\n\n/**\n * get texture by id\n * @param {string} id id\n * @return {Texture} texture\n */\nLottieLoader.prototype.getTextureById = function(id) {\n  return this.textures[id];\n};\n\nexport {Texture, Loader, LottieLoader, loaderUtil};\n","import {Utils} from '../utils/Utils';\nimport {Eventer} from '../eventer/Eventer';\n\n/**\n * ticker class\n * @param {boolean} enableFPS\n */\nfunction Ticker(enableFPS) {\n  Eventer.call(this);\n\n  /**\n   * 是否记录渲染性能\n   *\n   * @member {Boolean}\n   */\n  this.enableFPS = Utils.isBoolean(enableFPS) ?\n    enableFPS :\n    true;\n\n  /**\n   * 上一次绘制的时间点\n   *\n   * @member {Number}\n   * @private\n   */\n  this.pt = 0;\n\n  /**\n   * 本次渲染经历的时间片段长度\n   *\n   * @member {Number}\n   * @private\n   */\n  this.snippet = 0;\n\n  /**\n   * 平均渲染经历的时间片段长度\n   *\n   * @member {Number}\n   * @private\n   */\n  this.averageSnippet = 0;\n\n  /**\n   * 渲染的瞬时帧率，仅在enableFPS为true时才可用\n   *\n   * @member {Number}\n   */\n  this.fps = 0;\n\n  /**\n   * 渲染到目前为止的平均帧率，仅在enableFPS为true时才可用\n   *\n   * @member {Number}\n   */\n  this.averageFps = 0;\n\n  /**\n   * 渲染总花费时间，除去被中断、被暂停等时间\n   *\n   * @member {Number}\n   * @private\n   */\n  this._takeTime = 0;\n\n  /**\n   * 渲染总次数\n   *\n   * @member {Number}\n   * @private\n   */\n  this._renderTimes = 0;\n\n  /**\n   * 是否开启 ticker\n   *\n   * @member {Boolean}\n   */\n  this.started = false;\n\n  /**\n   * 是否暂停 ticker\n   *\n   * @member {Boolean}\n   */\n  this.paused = false;\n}\n\nTicker.prototype = Object.create(Eventer.prototype);\n\nTicker.prototype.timeline = function() {\n  this.snippet = Date.now() - this.pt;\n  if (this.pt === 0 || this.snippet > 200) {\n    this.pt = Date.now();\n    this.snippet = Date.now() - this.pt;\n  }\n\n  if (this.enableFPS) {\n    this._renderTimes++;\n    this._takeTime += Math.max(15, this.snippet);\n    this.fps = 1000 / Math.max(15, this.snippet) >> 0;\n    this.averageFps = 1000 / (this._takeTime / this._renderTimes) >> 0;\n  }\n\n  this.pt += this.snippet;\n};\n\nTicker.prototype.tick = function() {\n  if (this.paused) return;\n  this.emit('pretimeline');\n  this.timeline();\n  this.emit('posttimeline', this.snippet);\n  this.emit('update', this.snippet);\n  this.emit('tick', this.snippet);\n};\n\n/**\n * 渲染循环\n *\n * @method start\n */\nTicker.prototype.start = function() {\n  if (this.started) return;\n  this.started = true;\n  const loop = () => {\n    this.tick();\n    this.loop = RAF(loop);\n  };\n  loop();\n};\n\n/**\n * 渲染循环\n *\n * @method stop\n */\nTicker.prototype.stop = function() {\n  CAF(this.loop);\n  this.started = false;\n};\n\n/**\n * 暂停触发 tick\n *\n * @method pause\n */\nTicker.prototype.pause = function() {\n  this.paused = true;\n};\n\n/**\n * 恢复触发 tick\n *\n * @method resume\n */\nTicker.prototype.resume = function() {\n  this.paused = false;\n};\n\n\nexport {Ticker};\n","\n/**\n * 矩形类\n *\n * @class\n * @memberof JC\n * @param {number} x 左上角的x坐标\n * @param {number} y 左上角的y坐标\n * @param {number} width 矩形的宽度\n * @param {number} height 矩形的高度\n */\nfunction Rectangle(x, y, width, height) {\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.x = x || 0;\n\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.y = y || 0;\n\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.width = width || 0;\n\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.height = height || 0;\n}\n\n/**\n * 空矩形对象\n *\n * @static\n * @constant\n */\nRectangle.EMPTY = new Rectangle(0, 0, 0, 0);\n\n\n/**\n * 克隆一个与该举行对象同样属性的矩形\n *\n * @return {PIXI.Rectangle} 克隆出的矩形\n */\nRectangle.prototype.clone = function() {\n  return new Rectangle(this.x, this.y, this.width, this.height);\n};\n\n/**\n * 检查坐标点是否在矩形区域内\n *\n * @param {number} x 坐标点的x轴位置\n * @param {number} y 坐标点的y轴位置\n * @return {boolean} 坐标点是否在矩形区域内\n */\nRectangle.prototype.contains = function(x, y) {\n  if (this.width <= 0 || this.height <= 0) {\n    return false;\n  }\n\n  if (x >= this.x && x < this.x + this.width) {\n    if (y >= this.y && y < this.y + this.height) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nexport {Rectangle};\n","import {Rectangle} from './Rectangle';\nimport {Utils} from '../utils/Utils';\n\n/**\n * 显示对象的包围盒子\n *\n * @class\n * @memberof JC\n * @param {Number} minX\n * @param {Number} minY\n * @param {Number} maxX\n * @param {Number} maxY\n */\nfunction Bounds(minX, minY, maxX, maxY) {\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.minX = Utils.isNumber(minX)?\n    minX:\n    Infinity;\n\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.minY = Utils.isNumber(minY)?\n    minY:\n    Infinity;\n\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.maxX = Utils.isNumber(maxX)?\n    maxX:\n    -Infinity;\n\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.maxY = Utils.isNumber(maxY)?\n    maxY:\n    -Infinity;\n\n  // this.rect = null;\n}\n\nBounds.prototype.isEmpty = function() {\n  return this.minX > this.maxX || this.minY > this.maxY;\n};\n\nBounds.prototype.clear = function() {\n  this.minX = Infinity;\n  this.minY = Infinity;\n  this.maxX = -Infinity;\n  this.maxY = -Infinity;\n  return this;\n};\n\n/**\n * 将包围盒子转换成矩形描述\n *\n * @param {JC.Rectangle} rect 待转换的矩形\n * @return {JC.Rectangle}\n */\nBounds.prototype.getRectangle = function(rect) {\n  if (this.isEmpty()) {\n    return Rectangle.EMPTY;\n  }\n\n  rect = rect || new Rectangle(0, 0, 1, 1);\n\n  rect.x = this.minX;\n  rect.y = this.minY;\n  rect.width = this.maxX - this.minX;\n  rect.height = this.maxY - this.minY;\n\n  return rect;\n};\n\n/**\n * 往包围盒增加外部顶点，更新包围盒区域\n *\n * @param {JC.Point} point\n */\nBounds.prototype.addPoint = function(point) {\n  this.minX = Math.min(this.minX, point.x);\n  this.maxX = Math.max(this.maxX, point.x);\n  this.minY = Math.min(this.minY, point.y);\n  this.maxY = Math.max(this.maxY, point.y);\n};\n\n/**\n * 往包围盒增加矩形区域，更新包围盒区域\n *\n * @param {JC.Rectangle} rect\n */\nBounds.prototype.addRect = function(rect) {\n  this.minX = Math.min(this.minX, rect.x);\n  this.maxX = Math.max(this.maxX, rect.width + rect.x);\n  this.minY = Math.min(this.minY, rect.y);\n  this.maxY = Math.max(this.maxY, rect.height + rect.y);\n};\n\n/**\n * 往包围盒增加矩形区域，更新包围盒区域\n *\n * @param {JC.Circle} circle\n */\nBounds.prototype.addCircle = function(circle) {\n  this.minX = Math.min(this.minX, circle.x - circle.radius);\n  this.maxX = Math.max(this.maxX, circle.x + circle.radius);\n  this.minY = Math.min(this.minY, circle.y - circle.radius);\n  this.maxY = Math.max(this.maxY, circle.y + circle.radius);\n};\n\n/**\n * 往包围盒增加顶点数组，更新包围盒区域\n *\n * @param {Array} vertices\n */\nBounds.prototype.addVert = function(vertices) {\n  let minX = this.minX;\n  let minY = this.minY;\n  let maxX = this.maxX;\n  let maxY = this.maxY;\n\n  for (let i = 0; i < vertices.length; i += 2) {\n    let x = vertices[i];\n    let y = vertices[i + 1];\n    minX = x < minX ? x : minX;\n    minY = y < minY ? y : minY;\n    maxX = x > maxX ? x : maxX;\n    maxY = y > maxY ? y : maxY;\n  }\n\n  this.minX = minX;\n  this.minY = minY;\n  this.maxX = maxX;\n  this.maxY = maxY;\n};\n\n/**\n * 往包围盒增加包围盒，更新包围盒区域\n *\n * @param {JC.Bounds} bounds\n */\nBounds.prototype.addBounds = function(bounds) {\n  const minX = this.minX;\n  const minY = this.minY;\n  const maxX = this.maxX;\n  const maxY = this.maxY;\n\n  this.minX = bounds.minX < minX ? bounds.minX : minX;\n  this.minY = bounds.minY < minY ? bounds.minY : minY;\n  this.maxX = bounds.maxX > maxX ? bounds.maxX : maxX;\n  this.maxY = bounds.maxY > maxY ? bounds.maxY : maxY;\n};\n\nexport {Bounds};\n","import {Point} from './Point';\nimport {Utils} from '../utils/Utils';\n\n/**\n * @class\n * @memberof JC\n * @param {JC.Point} points 坐标点数组，可以是JC.Point类型的数组项数组，也可以是连续两个数分别代表x、y坐标的数组。\n */\nfunction Polygon(points) {\n  if (!Utils.isArray(points)) {\n    points = new Array(arguments.length);\n    /* eslint-disable */\n    for (let a = 0; a < points.length; ++a) {\n      points[a] = arguments[a];\n    }\n  }\n\n  if (points[0] instanceof Point) {\n    let p = [];\n    for (let i = 0, il = points.length; i < il; i++) {\n      p.push(points[i].x, points[i].y);\n    }\n\n    points = p;\n  }\n\n  this.closed = true;\n\n  this.points = points;\n}\n\n/**\n * 克隆一个属性相同的多边型对象\n *\n * @return {PIXI.Polygon} 克隆的对象\n */\nPolygon.prototype.clone = function() {\n  return new Polygon(this.points.slice());\n};\n\n/**\n * 检查坐标点是否在多边形内部\n *\n * @param {number} x 坐标点的x轴坐标\n * @param {number} y 坐标点的y轴坐标\n * @return {boolean} 是否在多边形内部\n */\nPolygon.prototype.contains = function(x, y) {\n  let inside = false;\n\n  let length = this.points.length / 2;\n\n  for (let i = 0, j = length - 1; i < length; j = i++) {\n    let xi = this.points[i * 2];\n    let yi = this.points[i * 2 + 1];\n    let xj = this.points[j * 2];\n    let yj = this.points[j * 2 + 1];\n    let intersect = ((yi > y) !== (yj > y)) &&\n    (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n\n    if (intersect) {\n      inside = !inside;\n    }\n  }\n\n  return inside;\n};\n\nexport {Polygon};\n","import {Rectangle} from './Rectangle';\n\n/**\n * 圆形对象\n *\n * @class\n * @memberof JC\n * @param {number} x x轴的坐标\n * @param {number} y y轴的坐标\n * @param {number} radius 圆的半径\n */\nfunction Circle(x, y, radius) {\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.x = x || 0;\n\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.y = y || 0;\n\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.radius = radius || 0;\n}\n\n/**\n * 克隆一个该圆对象\n *\n * @return {PIXI.Circle} 克隆出来的圆对象\n */\nCircle.prototype.clone = function() {\n  return new Circle(this.x, this.y, this.radius);\n};\n\n/**\n * 检测坐标点是否在园内\n *\n * @param {number} x 坐标点的x轴坐标\n * @param {number} y 坐标点的y轴坐标\n * @return {boolean} 坐标点是否在园内\n */\nCircle.prototype.contains = function(x, y) {\n  if (this.radius <= 0) {\n    return false;\n  }\n\n  let dx = (this.x - x);\n  let dy = (this.y - y);\n  let r2 = this.radius * this.radius;\n\n  dx *= dx;\n  dy *= dy;\n\n  return (dx + dy <= r2);\n};\n\n/**\n* 返回对象所占的矩形区域\n*\n* @return {PIXI.Rectangle} 矩形对象\n*/\nCircle.prototype.getBounds = function() {\n  return new Rectangle(\n    this.x - this.radius,\n    this.y - this.radius,\n    this.radius * 2,\n    this.radius * 2\n  );\n};\n\nexport {Circle};\n","import {Rectangle} from './Rectangle';\n\n/**\n * 椭圆对象\n *\n * @class\n * @memberof JC\n * @param {number} x x轴的坐标\n * @param {number} y y轴的坐标\n * @param {number} width 椭圆的宽度\n * @param {number} height 椭圆的高度\n */\nfunction Ellipse(x, y, width, height) {\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.x = x || 0;\n\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.y = y || 0;\n\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.width = width || 0;\n\n  /**\n   * @member {number}\n   * @default 0\n   */\n  this.height = height || 0;\n}\n\n/**\n * 克隆一个该椭圆对象\n *\n * @return {PIXI.Ellipse} 克隆出来的椭圆对象\n */\nEllipse.prototype.clone = function() {\n  return new Ellipse(this.x, this.y, this.width, this.height);\n};\n\n/**\n * 检测坐标点是否在椭园内\n *\n * @param {number} x 坐标点的x轴坐标\n * @param {number} y 坐标点的y轴坐标\n * @return {boolean} 坐标点是否在椭园内\n */\nEllipse.prototype.contains = function(x, y) {\n  if (this.width <= 0 || this.height <= 0) {\n    return false;\n  }\n\n  // normalize the coords to an ellipse with center 0,0\n  let normx = ((x - this.x) / this.width);\n  let normy = ((y - this.y) / this.height);\n\n  normx *= normx;\n  normy *= normy;\n\n  return (normx + normy <= 1);\n};\n\n/**\n * 返回对象所占的矩形区域\n *\n * @return {PIXI.Rectangle} 矩形对象\n */\nEllipse.prototype.getBounds = function() {\n  return new Rectangle(\n    this.x - this.width,\n    this.y - this.height,\n    this.width,\n    this.height\n  );\n};\n\nexport {Ellipse};\n","\n/**\n * 矩阵对象，用来描述和记录对象的tansform 状态信息\n *\n * @class\n * @memberof JC\n */\nfunction Matrix() {\n  this.a = 1;\n  this.b = 0;\n  this.c = 0;\n  this.d = 1;\n  this.tx = 0;\n  this.ty = 0;\n}\n\n/**\n * 从数组设置一个矩阵\n *\n * @param {array} array\n */\nMatrix.prototype.fromArray = function(array) {\n  this.a = array[0];\n  this.b = array[1];\n  this.c = array[2];\n  this.d = array[3];\n  this.tx = array[4];\n  this.ty = array[5];\n};\n\n/**\n * 将对象的数据以数组的形式导出\n *\n * @param {boolean} transpose 是否对矩阵进行转置\n * @return {number[]} 返回数组\n */\nMatrix.prototype.toArray = function(transpose) {\n  if (!this.array) this.array = new Float32Array(9);\n  let array = this.array;\n\n  if (transpose) {\n    array[0] = this.a;\n    array[1] = this.b;\n    array[2] = 0;\n    array[3] = this.c;\n    array[4] = this.d;\n    array[5] = 0;\n    array[6] = this.tx;\n    array[7] = this.ty;\n    array[8] = 1;\n  } else {\n    array[0] = this.a;\n    array[1] = this.c;\n    array[2] = this.tx;\n    array[3] = this.b;\n    array[4] = this.d;\n    array[5] = this.ty;\n    array[6] = 0;\n    array[7] = 0;\n    array[8] = 1;\n  }\n  return array;\n};\n\n/**\n * 将坐标点与矩阵左乘\n *\n * @param {object} pos 原始点\n * @param {object} newPos 变换之后的点\n * @return {object} 返回数组\n */\nMatrix.prototype.apply = function(pos, newPos) {\n  newPos = newPos || {};\n  newPos.x = this.a * pos.x + this.c * pos.y + this.tx;\n  newPos.y = this.b * pos.x + this.d * pos.y + this.ty;\n  return newPos;\n};\n/**\n * 将坐标点与转置矩阵左乘\n *\n * @param {object} pos 原始点\n * @param {object} newPos 变换之后的点\n * @return {object} 变换之后的点\n */\nMatrix.prototype.applyInverse = function(pos, newPos) {\n  newPos = newPos || {};\n  let id = 1 / (this.a * this.d + this.c * -this.b);\n  newPos.x = this.d * id * pos.x\n             +\n             -this.c * id * pos.y\n             +\n             (this.ty * this.c - this.tx * this.d) * id;\n  newPos.y = this.a * id * pos.y\n             +\n             -this.b * id * pos.x\n             +\n             (-this.ty * this.a + this.tx * this.b) * id;\n  return newPos;\n};\n/**\n * 位移操作\n * @param {number} x\n * @param {number} y\n * @return {this}\n */\nMatrix.prototype.translate = function(x, y) {\n  this.tx += x;\n  this.ty += y;\n  return this;\n};\n/**\n * 缩放操作\n * @param {number} x\n * @param {number} y\n * @return {this}\n */\nMatrix.prototype.scale = function(x, y) {\n  this.a *= x;\n  this.d *= y;\n  this.c *= x;\n  this.b *= y;\n  this.tx *= x;\n  this.ty *= y;\n  return this;\n};\n/**\n * 旋转操作\n * @param {number} angle\n * @return {this}\n */\nMatrix.prototype.rotate = function(angle) {\n  let cos = Math.cos( angle );\n  let sin = Math.sin( angle );\n  let a1 = this.a;\n  let c1 = this.c;\n  let tx1 = this.tx;\n  this.a = a1 * cos-this.b * sin;\n  this.b = a1 * sin+this.b * cos;\n  this.c = c1 * cos-this.d * sin;\n  this.d = c1 * sin+this.d * cos;\n  this.tx = tx1 * cos - this.ty * sin;\n  this.ty = tx1 * sin + this.ty * cos;\n  return this;\n};\n/**\n * 矩阵相乘\n * @param {matrix} matrix\n * @return {this}\n */\nMatrix.prototype.append = function(matrix) {\n  let a1 = this.a;\n  let b1 = this.b;\n  let c1 = this.c;\n  let d1 = this.d;\n  this.a = matrix.a * a1 + matrix.b * c1;\n  this.b = matrix.a * b1 + matrix.b * d1;\n  this.c = matrix.c * a1 + matrix.d * c1;\n  this.d = matrix.c * b1 + matrix.d * d1;\n  this.tx = matrix.tx * a1 + matrix.ty * c1 + this.tx;\n  this.ty = matrix.tx * b1 + matrix.ty * d1 + this.ty;\n  return this;\n};\n/**\n * 单位矩阵\n *\n * @return {this}\n */\nMatrix.prototype.identity = function() {\n  this.a = 1;\n  this.b = 0;\n  this.c = 0;\n  this.d = 1;\n  this.tx = 0;\n  this.ty = 0;\n  return this;\n};\n/**\n * 快速设置矩阵各个分量\n * @param {number} x\n * @param {number} y\n * @param {number} pivotX\n * @param {number} pivotY\n * @param {number} scaleX\n * @param {number} scaleY\n * @param {number} rotation\n * @param {number} skewX\n * @param {number} skewY\n * @param {number} originX\n * @param {number} originY\n * @return {this}\n */\nMatrix.prototype.setTransform = function(\n  x,\n  y,\n  pivotX,\n  pivotY,\n  scaleX,\n  scaleY,\n  rotation,\n  skewX,\n  skewY,\n  originX,\n  originY\n) {\n  const sr = Math.sin(rotation);\n  const cr = Math.cos(rotation);\n  const sy = Math.tan(skewY);\n  const nsx = Math.tan(skewX);\n\n  const a = cr * scaleX;\n  const b = sr * scaleX;\n  const c = -sr * scaleY;\n  const d = cr * scaleY;\n\n  const pox = pivotX + originX;\n  const poy = pivotY + originY;\n\n  this.a = a + sy * c;\n  this.b = b + sy * d;\n  this.c = nsx * a + c;\n  this.d = nsx * b + d;\n\n  this.tx = x - pox * this.a - poy * this.c + originX;\n  this.ty = y - pox * this.b - poy * this.d + originY;\n\n  return this;\n};\nlet IDENTITY = new Matrix();\nlet TEMP_MATRIX = new Matrix();\n\nexport {Matrix, IDENTITY, TEMP_MATRIX};\n","\nimport {Point} from './Point';\nimport {Curve} from './Curve';\nimport {Utils} from '../utils/Utils';\n\n// SvgCurve.svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg'); // NOTE: some like don`t need svg tag to wrap\n\n/**\n *\n * @class\n * @memberof JC\n * @param {String}  path  array of points\n */\nfunction SvgCurve( path ) {\n  if (Utils.isString(path)) {\n    this.path = this.createPath(path);\n  } else if (path.nodeName === 'path' && path.getAttribute('d')) {\n    this.path = path;\n  } else {\n    /* eslint max-len: \"off\" */\n    console.warn(\n      'path just accept <path d=\"M10 10\"> element or \"M10 10\" string but found ' + path\n    );\n  }\n  this.totalLength = this.path.getTotalLength();\n}\n\nSvgCurve.prototype = Object.create( Curve.prototype );\n\nSvgCurve.prototype.createPath = function(d) {\n  let p = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  return p.setAttribute(d);\n};\n\nSvgCurve.prototype.getPoint = function(t) {\n  let point = this.path.getPointAtLength(t * this.totalLength);\n  return new Point(point.x, point.y);\n};\n\nexport {SvgCurve};\n","/* eslint max-len: \"off\" */\n\nimport {Matrix, TEMP_MATRIX, IDENTITY} from '../math/Matrix';\nimport {Point} from '../math/Point';\nimport {Eventer} from '../eventer/Eventer';\nimport {Animation} from '../animation/Animation';\n\n/**\n * 显示对象的基类，继承至Eventer\n *\n * @class\n * @memberof JC\n * @extends JC.Eventer\n */\nfunction DisplayObject() {\n  Eventer.call(this);\n\n  /**\n   * 控制渲染对象是否显示\n   *\n   * @member {Boolean}\n   */\n  this.visible = true;\n\n  /**\n   * 世界透明度\n   *\n   * @private\n   * @member {Number}\n   */\n  this.worldAlpha = 1;\n\n  /**\n   * 控制渲染对象的透明度\n   *\n   * @member {Number}\n   */\n  this.alpha = 1;\n\n  /**\n   * 控制渲染对象的x轴的缩放\n   *\n   * @member {Number}\n   */\n  this.scaleX = 1;\n\n  /**\n   * 控制渲染对象的y轴的缩放\n   *\n   * @member {Number}\n   */\n  this.scaleY = 1;\n\n  /**\n   * 控制渲染对象的x轴的斜切\n   *\n   * @member {Number}\n   */\n  this.skewX = 0;\n\n  /**\n   * 控制渲染对象的y轴的斜切\n   *\n   * @member {Number}\n   */\n  this.skewY = 0;\n\n  /**\n   * 控制渲染对象的旋转角度\n   *\n   * @member {Number}\n   */\n  this.rotation = 0;\n  this.rotationCache = 0;\n  this._sr = 0;\n  this._cr = 1;\n\n  /**\n   * 控制渲染对象的x位置\n   *\n   * @member {Number}\n   */\n  this.x = 0;\n\n  /**\n   * 控制渲染对象的y位置\n   *\n   * @member {Number}\n   */\n  this.y = 0;\n\n  /**\n   * 控制渲染对象的相对本身x轴位置的进一步偏移，将会影响旋转中心点\n   *\n   * @member {Number}\n   */\n  this.pivotX = 0;\n\n  /**\n   * 控制渲染对象的相对本身y轴位置的进一步偏移，将会影响旋转中心点\n   *\n   * @member {Number}\n   */\n  this.pivotY = 0;\n\n  /**\n   * 控制渲染对象的x变换中心\n   *\n   * @member {Number}\n   */\n  this.originX = 0;\n\n  /**\n   * 控制渲染对象的y变换中心\n   *\n   * @member {Number}\n   */\n  this.originY = 0;\n\n  /**\n   * 对象的遮罩层\n   *\n   * @member {JC.Graphics}\n   */\n  this.mask = null;\n\n  /**\n   * 当前对象的直接父级\n   *\n   * @private\n   * @member {JC.Container}\n   */\n  this.parent = null;\n\n  /**\n   * 当前对象所应用的矩阵状态\n   *\n   * @private\n   * @member {JC.Matrix}\n   */\n  this.worldTransform = new Matrix();\n\n  /**\n   * 当前对象的事件管家\n   *\n   * @private\n   * @member {JC.Eventer}\n   */\n  // this.event = new Eventer();\n\n  /**\n   * 当前对象是否穿透自身的事件检测\n   *\n   * @member {Boolean}\n   */\n  this.passEvent = false;\n\n  /**\n   * 当前对象的事件检测边界\n   *\n   * @private\n   * @member {JC.Shape}\n   */\n  this.eventArea = null;\n\n\n  /**\n   * 当前对象的动画管家\n   *\n   * @private\n   * @member {Array}\n   */\n  this.animation = new Animation(this);\n\n\n  /**\n   * 标记当前对象是否为touchstart触发状态\n   *\n   * @private\n   * @member {Boolean}\n   */\n  // this._touchstarted = false;\n\n  /**\n   * 标记当前对象是否为mousedown触发状态\n   *\n   * @private\n   * @member {Boolean}\n   */\n  // this._mousedowned = false;\n\n  /**\n   * 渲染对象是否具备光标样式，例如 cursor\n   *\n   * @member {Boolean}\n   */\n  // this.buttonMode = false;\n\n  /**\n   * 当渲染对象是按钮时所具备的光标样式\n   *\n   * @member {Boolean}\n   */\n  this.cursor = '';\n\n  /**\n   * Enable interaction events for the DisplayObject. Touch, pointer and mouse\n   * events will not be emitted unless `interactive` is set to `true`.\n   *\n   * @member {boolean}\n   */\n  this.interactive = false;\n\n  /**\n   * Determines if the children to the displayObject can be clicked/touched\n   * Setting this to false allows PixiJS to bypass a recursive `hitTest` function\n   *\n   * @member {boolean}\n   * @memberof PIXI.Container#\n   */\n  this.interactiveChildren = true;\n}\nDisplayObject.prototype = Object.create(Eventer.prototype);\n\n/**\n * 对渲染对象进行x、y轴同时缩放\n *\n * @name scale\n * @member {Number}\n * @memberof JC.DisplayObject#\n */\nObject.defineProperty(DisplayObject.prototype, 'scale', {\n  get: function() {\n    return this.scaleX;\n  },\n  set: function(scale) {\n    this.scaleX = this.scaleY = scale;\n  },\n});\n\n/**\n * 对渲染对象进行x、y轴同时缩放\n *\n * @name scale\n * @member {Number}\n * @memberof JC.DisplayObject#\n */\nObject.defineProperty(DisplayObject.prototype, 'trackedPointers', {\n  get: function() {\n    if (this._trackedPointers === undefined) this._trackedPointers = {};\n    return this._trackedPointers;\n  },\n});\n\n/**\n * animate动画，指定动画的启始位置和结束位置\n *\n * ```js\n * display.animate({\n *   from: {x: 100},\n *   to: {x: 200},\n *   ease: JC.Tween.Bounce.Out, // 执行动画使用的缓动函数 默认值为 JC.Tween.Ease.InOut\n *   repeats: 10, // 动画运动完后再重复10次\n *   infinite: true, // 无限循环动画\n *   alternate: true, // 偶数次的时候动画回放\n *   duration: 1000, // 动画时长 ms单位 默认 300ms\n *   onUpdate: function(state,rate){},\n *   onComplete: function(){ console.log('end'); } // 动画执行结束回调\n * });\n * ```\n *\n * @param {Object} options 动画配置参数\n * @param {Object} [options.from] 设置对象的起始位置和起始姿态等，该项配置可选\n * @param {Object} options.to 设置对象的结束位置和结束姿态等\n * @param {String} [options.ease] 执行动画使用的缓动函数 默认值为 JC.Tween.Ease.InOut\n * @param {Number} [options.repeats] 设置动画执行完成后再重复多少次，优先级没有infinite高\n * @param {Boolean} [options.infinite] 设置动画无限次执行，优先级高于repeats\n * @param {Boolean} [options.alternate] 设置动画是否偶数次回返\n * @param {Number} [options.duration] 设置动画执行时间 默认 300ms\n * @param {Number} [options.wait] 设置动画延迟时间，在重复动画不会生效 默认 0ms\n * @param {Number} [options.delay] 设置动画延迟时间，在重复动画也会生效 默认 0ms\n * @param {Function} [options.onUpdate] 设置动画更新时的回调函数\n * @param {Function} [options.onComplete] 设置动画结束时的回调函数，如果infinite为true该事件将不会触发\n * @param {Boolean} clear 是否去掉之前的动画\n * @return {JC.Animate}\n */\nDisplayObject.prototype.animate = function(options, clear) {\n  return this.animation.animate(options, clear);\n};\n\n/**\n * motion动画，让物体按照设定好的曲线运动\n *\n * ```js\n * display.motion({\n *   path: new JC.SvgCurve('M10 10 H 90 V 90 H 10 L 10 10), // path路径，需要继承自Curve\n *   attachTangent: true, // 物体是否捕获切线方向\n *   ease: JC.Tween.Ease.bezier(0.25,0.1,0.25,1), // 执行动画使用的缓动函数 默认值为 JC.Tween.Ease.InOut\n *   repeats: 10, // 动画运动完后再重复10次\n *   infinite: true, // 无限循环动画\n *   alternate: true, // 偶数次的时候动画回放\n *   duration: 1000, // 动画时长 ms单位 默认 300ms\n *   onUpdate: function(state,rate){}, // 动画更新回调\n *   onComplete: function(){ console.log('end'); } // 动画执行结束回调\n * });\n * ```\n * @param {Object} options 动画配置参数\n * @param {Curve} options.path path路径，需要继承自Curve，可以传入BezierCurve实例、NURBSCurve实例、SvgCurve实例\n * @param {Boolean} [options.attachTangent] 物体是否捕获切线方向\n * @param {String} [options.ease] 执行动画使用的缓动函数 默认值为 JC.Tween.Ease.InOut\n * @param {Number} [options.repeats] 设置动画执行完成后再重复多少次，优先级没有infinite高\n * @param {Boolean} [options.infinite] 设置动画无限次执行，优先级高于repeats\n * @param {Boolean} [options.alternate] 设置动画是否偶数次回返\n * @param {Number} [options.duration] 设置动画执行时间 默认 300ms\n * @param {Number} [options.wait] 设置动画延迟时间，在重复动画不会生效 默认 0ms\n * @param {Number} [options.delay] 设置动画延迟时间，在重复动画也会生效 默认 0ms\n * @param {Function} [options.onUpdate] 设置动画更新时的回调函数\n * @param {Function} [options.onComplete] 设置动画结束时的回调函数，如果infinite为true该事件将不会触发\n * @param {Boolean} clear 是否去掉之前的动画\n * @return {JC.Animate}\n */\nDisplayObject.prototype.motion = function(options, clear) {\n  return this.animation.motion(options, clear);\n};\n\n/**\n * keyFrames动画，设置物体动画的keyframe，可以为相邻的两个keyFrames之前配置差值时间及时间函数\n *\n * ```js\n * display.keyFrames({\n *   ks: data.layers[0], // ae导出的动画数据\n *   fr: 30, // 动画的帧率，默认：30fps\n *   repeats: 10, // 动画运动完后再重复10次\n *   infinite: true, // 无限循环动画\n *   alternate: true, // 偶数次的时候动画回放\n *   onUpdate: function(state,rate){},\n *   onComplete: function(){ console.log('end'); } // 动画执行结束回调\n * });\n * ```\n *\n * @param {Object} options 动画配置参数\n * @param {Object} options.ks 配置关键帧的位置、姿态，ae导出的动画数据\n * @param {Number} [options.fr] 配置关键帧的位置、姿态，ae导出的动画数据\n * @param {Number} [options.repeats] 设置动画执行完成后再重复多少次，优先级没有infinite高\n * @param {Boolean} [options.infinite] 设置动画无限次执行，优先级高于repeats\n * @param {Boolean} [options.alternate] 设置动画是否偶数次回返\n * @param {Number} [options.wait] 设置动画延迟时间，在重复动画不会生效 默认 0ms\n * @param {Number} [options.delay] 设置动画延迟时间，在重复动画也会生效 默认 0ms\n * @param {Function} [options.onUpdate] 设置动画更新时的回调函数\n * @param {Function} [options.onComplete] 设置动画结束时的回调函数，如果infinite为true该事件将不会触发\n * @param {Boolean} clear 是否去掉之前的动画\n * @return {JC.Animate}\n */\nDisplayObject.prototype.keyFrames = function(options, clear) {\n  return this.animation.keyFrames(options, clear);\n};\n\n/**\n * 播放一个bodymovin动画\n *\n * ```js\n * import data from './animations/data.js';\n * display.bodymovin({\n *   keyframes: data.layers[3],\n *   frameRate: data.fr,\n *   ignoreProps: [ 'position', 'scaleX ],\n * }, clear).on('complete', function() {\n *   console.log('end queues');\n * });\n * ```\n *\n * @memberof JC.DisplayObject\n * @param {Object} options 动画配置参数\n * @param {Object} options.keyframes lottie 动画数据\n * @param {Number} [options.frameRate] lottie 动画帧率，对应 json 里面的 fr\n * @param {Array} [options.ignoreProps] 忽略 keyframes 动画数据中的哪些属性的动画描述 position|x|y|pivot|pivotX|pivotY|scale|scaleX|scaleY|rotation|alpha\n * @param {Number} [options.repeats] 设置动画执行完成后再重复多少次，优先级没有infinite高\n * @param {Boolean} [options.infinite] 设置动画无限循环，优先级高于repeats\n * @param {Boolean} [options.alternate] 设置动画是否偶数次回返\n * @param {Number} [options.duration] 设置动画执行时间 默认 300ms\n * @param {Number} [options.wait] 设置动画延迟时间，在重复动画不会生效 默认 0ms\n * @param {Number} [options.delay] 设置动画延迟时间，在重复动画也会生效 默认 0ms\n * @param {Function} [options.onUpdate] 设置动画更新时的回调函数\n * @param {Function} [options.onComplete] 设置动画结束时的回调函数，如果infinite为true该事件将不会触发\n * @param {Boolean} clear 是否清除该对象上之前所有的动画\n * @return {Bodymovin}\n */\nDisplayObject.prototype.bodymovin = function(options, clear) {\n  return this.animation.bodymovin(options, clear);\n};\n\n/**\n * 不推荐使用，建议使用`queues`方法达到同样效果\n * runners动画，多个复合动画的组合形式，不支持`alternate`\n *\n * ```js\n * display.runners({\n *   runners: [\n *     { from: {}, to: {} },\n *     { path: JC.BezierCurve([ point1, point2, point3, point4 ]) },\n *   ], // 组合动画，支持组合 animate、motion\n *   delay: 1000, // ae导出的动画数据\n *   wait: 100, // ae导出的动画数据\n *   repeats: 10, // 动画运动完后再重复10次\n *   infinite: true, // 无限循环动画\n *   onUpdate: function(state,rate){},\n *   onComplete: function(){ console.log('end'); } // 动画执行结束回调\n * });\n * ```\n *\n * @param {Object} options 动画配置参数\n * @param {Object} options.runners 组合动画，支持 animate、motion 这些的自定义组合\n * @param {Number} [options.repeats=0] 设置动画执行完成后再重复多少次，优先级没有infinite高\n * @param {Boolean} [options.infinite=false] 设置动画无限次执行，优先级高于repeats\n * @param {Number} [options.wait=0] 设置动画延迟时间，在重复动画不会生效 默认 0ms\n * @param {Number} [options.delay=0] 设置动画延迟时间，在重复动画也会生效 默认 0ms\n * @param {Function} [options.onUpdate] 设置动画更新时的回调函数\n * @param {Function} [options.onComplete] 设置动画结束时的回调函数，如果infinite为true该事件将不会触发\n * @param {Boolean} clear 是否去掉之前的动画\n * @return {JC.Animate}\n */\nDisplayObject.prototype.runners = function(options, clear) {\n  return this.animation.runners(options, clear);\n};\n\n/**\n * 以链式调用的方式触发一串动画 （不支持`alternate`）\n *\n * ```js\n * display.queues({ from: { x: 1 }, to: { x: 2 } })\n *   .then({ path: JC.BezierCurve([ point1, point2, point3, point4 ]) })\n *   .then({ from: { x: 2 }, to: { x: 1 } })\n *   .then({ from: { scale: 1 }, to: { scale: 0 } })\n *   .on('complete', function() {\n *     console.log('end queues');\n *   });\n * ```\n *\n * @param {Object} [runner] 添加动画，可以是 animate 或者 motion 动画配置\n * @param {Object} [options={}] 整个动画的循环等配置\n * @param {Object} [options.repeats=0] 设置动画执行完成后再重复多少次，优先级没有infinite高\n * @param {Object} [options.infinite=false] 设置动画无限次执行，优先级高于repeats\n * @param {Number} [options.wait] 设置动画延迟时间，在重复动画不会生效 默认 0ms\n * @param {Number} [options.delay] 设置动画延迟时间，在重复动画也会生效 默认 0ms\n * @param {Boolean} [clear=false] 是否去掉之前的动画\n * @return {JC.Queues}\n */\nDisplayObject.prototype.queues = function(runner, options = {}, clear) {\n  return this.animation.queues(runner, options, clear);\n};\n\n/**\n * 检查对象是否可见\n *\n * @return {Boolean} 对象是否可见\n */\nDisplayObject.prototype.isVisible = function() {\n  return !!(this.visible && this.alpha > 0 && this.scaleX * this.scaleY !== 0);\n};\n\n/**\n * 移除对象上的遮罩\n */\nDisplayObject.prototype.removeMask = function() {\n  this.mask = null;\n};\n\n/**\n * 设置对象上的属性值\n *\n * @private\n * @param {Object} props\n */\nDisplayObject.prototype.setProps = function(props) {\n  if (props === undefined) return;\n  for (let key in props) {\n    if (this[key] === undefined) {\n      continue;\n    } else {\n      this[key] = props[key];\n    }\n  }\n};\n\n/**\n * 更新对象本身的矩阵姿态以及透明度\n *\n * @private\n * @param {Matrix} rootMatrix\n * @method updateTransform\n */\nDisplayObject.prototype.updateTransform = function(rootMatrix) {\n  const pt = rootMatrix || (this.hierarchy && this.hierarchy.worldTransform) || (this.parent && this.parent.worldTransform) || IDENTITY;\n  const wt = this.worldTransform;\n  const worldAlpha = (this.parent && this.parent.worldAlpha) || 1;\n\n  let a;\n  let b;\n  let c;\n  let d;\n  let tx;\n  let ty;\n\n  const pox = this.pivotX + this.originX;\n  const poy = this.pivotY + this.originY;\n\n  if (this.skewX || this.skewY) {\n    TEMP_MATRIX.setTransform(\n      this.x,\n      this.y,\n      this.pivotX,\n      this.pivotY,\n      this.scaleX,\n      this.scaleY,\n      this.rotation,\n      this.skewX,\n      this.skewY,\n      this.originX,\n      this.originY\n    );\n\n    wt.a = TEMP_MATRIX.a * pt.a + TEMP_MATRIX.b * pt.c;\n    wt.b = TEMP_MATRIX.a * pt.b + TEMP_MATRIX.b * pt.d;\n    wt.c = TEMP_MATRIX.c * pt.a + TEMP_MATRIX.d * pt.c;\n    wt.d = TEMP_MATRIX.c * pt.b + TEMP_MATRIX.d * pt.d;\n    wt.tx = TEMP_MATRIX.tx * pt.a + TEMP_MATRIX.ty * pt.c + pt.tx;\n    wt.ty = TEMP_MATRIX.tx * pt.b + TEMP_MATRIX.ty * pt.d + pt.ty;\n  } else {\n    if (this.rotation % 360) {\n      if (this.rotation !== this.rotationCache) {\n        this.rotationCache = this.rotation;\n        this._sr = Math.sin(this.rotation);\n        this._cr = Math.cos(this.rotation);\n      }\n\n      a = this._cr * this.scaleX;\n      b = this._sr * this.scaleX;\n      c = -this._sr * this.scaleY;\n      d = this._cr * this.scaleY;\n      tx = this.x;\n      ty = this.y;\n\n      if (this.pivotX || this.pivotY || this.originX || this.originY) {\n        tx -= pox * a + poy * c - this.originX;\n        ty -= pox * b + poy * d - this.originY;\n      }\n      wt.a = a * pt.a + b * pt.c;\n      wt.b = a * pt.b + b * pt.d;\n      wt.c = c * pt.a + d * pt.c;\n      wt.d = c * pt.b + d * pt.d;\n      wt.tx = tx * pt.a + ty * pt.c + pt.tx;\n      wt.ty = tx * pt.b + ty * pt.d + pt.ty;\n    } else {\n      a = this.scaleX;\n      d = this.scaleY;\n\n      tx = this.x - pox * a + this.originX;\n      ty = this.y - poy * d + this.originY;\n\n      wt.a = a * pt.a;\n      wt.b = a * pt.b;\n      wt.c = d * pt.c;\n      wt.d = d * pt.d;\n      wt.tx = tx * pt.a + ty * pt.c + pt.tx;\n      wt.ty = tx * pt.b + ty * pt.d + pt.ty;\n    }\n  }\n  this.worldAlpha = this.alpha * worldAlpha;\n};\n\n/**\n * 更新对象本身的动画\n *\n * @private\n * @param {Number} snippet\n */\nDisplayObject.prototype.updateAnimation = function(snippet) {\n  this.animation.update(snippet);\n};\n\n/**\n * 设置矩阵和透明度到当前绘图上下文\n *\n * @private\n * @param {context} ctx\n */\nDisplayObject.prototype.setTransform = function(ctx) {\n  const matrix = this.worldTransform;\n  ctx.globalAlpha = this.worldAlpha;\n  ctx.setTransform(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\n};\n\n/**\n * 获取物体相对于canvas世界坐标系的坐标位置\n *\n * @return {Object}\n */\nDisplayObject.prototype.getGlobalPos = function() {\n  return {x: this.worldTransform.tx, y: this.worldTransform.ty};\n};\n\n/**\n * 设置显示对象的事件检测区域\n *\n * @param {JC.Polygon|JC.Rectangle} shape JC内置形状类型的实例\n * @param {Boolean} clock 是否锁住当前设置的监测区域不会被内部更新修改。\n */\nDisplayObject.prototype.setArea = function(shape, clock) {\n  if (this.eventArea !== null && this.eventArea.clocked && !clock) return;\n  this.eventArea = shape;\n  if (clock) this.eventArea.clocked = true;\n};\n\n/**\n * 检测坐标点是否在多变性内\n *\n * @param {JC.Point} global\n * @return {Boolean} 是否包含该点\n */\nDisplayObject.prototype.contains = function(global) {\n  if (this.eventArea === null) return false;\n  const point = new Point();\n  this.worldTransform.applyInverse(global, point);\n  return this.eventArea && this.eventArea.contains(point.x, point.y);\n};\n\nexport {DisplayObject};\n","\n/* eslint prefer-rest-params: 0 */\n\nimport {DisplayObject} from './DisplayObject';\nimport {Bounds} from '../math/Bounds';\n\n/**\n * 显示对象容器，继承至DisplayObject\n *\n * ```js\n * var container = new JC.Container();\n * container.adds(sprite);\n * ```\n *\n * @class\n * @memberof JC\n * @extends JC.DisplayObject\n */\nfunction Container() {\n  DisplayObject.call(this);\n\n  /**\n   * 渲染对象的列表\n   *\n   * @member {Array}\n   */\n  this.childs = [];\n\n  /**\n   * 自身及后代动画的缩放比例\n   *\n   * @member {Number}\n   */\n  this.timeScale = 1;\n\n  /**\n   * 是否暂停自身的动画\n   *\n   * @member {Boolean}\n   */\n  this.paused = false;\n\n  /**\n   * 当前对象的z-index层级，z-index的值只会影响该对象在其所在的渲染列表内产生影响\n   *\n   * @private\n   * @member {Number}\n   */\n  this._zIndex = 0;\n\n  /**\n   * 强制该对象在渲染子集之前为他们排序\n   *\n   * @member {Boolean}\n   */\n  this.souldSort = false;\n\n  /**\n   * 显示对象的包围盒\n   *\n   * @member {JC.Bounds}\n   */\n  this.bounds = new Bounds();\n\n  /**\n   * 显示对象内部表示的边界\n   *\n   * @private\n   * @member {JC.Bounds}\n   */\n  this._bounds = new Bounds();\n\n  this.vertexData = new Float32Array(8);\n}\nContainer.prototype = Object.create(DisplayObject.prototype);\n\n/**\n * 当前对象的z-index层级，z-index的值只会影响该对象在其所在的渲染列表内产生影响\n *\n * @name zIndex\n * @member {Number}\n * @memberof JC.Container#\n */\nObject.defineProperty(Container.prototype, 'zIndex', {\n  get: function() {\n    return this._zIndex;\n  },\n  set: function(zIndex) {\n    if (this._zIndex !== zIndex) {\n      this._zIndex = zIndex;\n      if (this.parent) {\n        this.parent.souldSort = true;\n      }\n    }\n  },\n});\n\n/**\n * 对自身子集进行zIndex排序\n *\n * @private\n * @method _sortList\n */\nContainer.prototype._sortList = function() {\n  /**\n   * 因为数组sort排序的不稳定性，顾采用冒泡排序方式\n   */\n  const childs = this.childs;\n  const length = childs.length;\n  let i;\n  let j;\n  let temp;\n  for (i = 0; i < length - 1; i++) {\n    for (j = 0; j < length - 1 - i; j++) {\n      if (childs[j].zIndex > childs[j + 1].zIndex) {\n        temp = childs[j];\n        childs[j] = childs[j + 1];\n        childs[j + 1] = temp;\n      }\n    }\n  }\n  this.souldSort = false;\n};\n\n/**\n * 更新bodymovin动画\n * @param {number} progress progress\n * @param {object} session\n */\nContainer.prototype.updateMovin = function(progress, session) {\n  const length = this.childs.length;\n  for (let i = 0; i < length; i++) {\n    const doc = this.childs[i];\n    if (doc && !doc._aniRoot && doc.updateMovin) {\n      doc.updateMovin(progress, session);\n    }\n  }\n  this.updateKeyframes && this.updateKeyframes(progress, session);\n};\n\n/**\n * 向容器添加一个物体\n *\n * ```js\n * container.adds(sprite,sprite2,text3,graphice);\n * ```\n *\n * @param {JC.Container} object\n * @return {JC.Container}\n */\nContainer.prototype.adds = function(object) {\n  if (arguments.length > 1) {\n    for (let i = 0; i < arguments.length; i++) {\n      this.adds(arguments[i]);\n    }\n    return this;\n  }\n  if (object === this) {\n    console.error('adds: object can\\'t be added as a child of itself.', object);\n  }\n  if ((object && object instanceof Container)) {\n    if (object.parent !== null) {\n      object.parent.remove(object);\n    }\n    object.parent = this;\n    this.childs.push(object);\n    this.souldSort = true;\n  } else {\n    console.error('adds: object not an instance of Container', object);\n  }\n  return this;\n};\n\n/**\n * 从容器移除一个物体\n *\n * ```js\n * container.remove(sprite,sprite2,text3,graphice);\n * ```\n *\n * @param {JC.Container} object\n */\nContainer.prototype.remove = function(object) {\n  if (arguments.length > 1) {\n    for (let i = 0; i < arguments.length; i++) {\n      this.remove(arguments[i]);\n    }\n  }\n  const index = this.childs.indexOf(object);\n  if (index !== -1) {\n    object.parent = null;\n    this.childs.splice(index, 1);\n  }\n};\n\n/**\n * 更新自身的透明度可矩阵姿态更新，并触发后代同步更新\n *\n * @private\n * @param {Number} snippet\n */\nContainer.prototype.updateTimeline = function(snippet) {\n  this.emit('pretimeline', snippet);\n  if (this.paused) return;\n  snippet = this.timeScale * snippet;\n  this.updateAnimation(snippet);\n\n  let i = 0;\n  const l = this.childs.length;\n  while (i < l) {\n    const child = this.childs[i];\n    child.updateTimeline(snippet);\n    i++;\n  }\n  this.emit('posttimeline', snippet);\n};\n\n/**\n * 更新自身的透明度可矩阵姿态更新，并触发后代同步更新\n *\n * @private\n */\nContainer.prototype.updatePosture = function() {\n  this.emit('preposture');\n  if (this.souldSort) this._sortList();\n  this.updateTransform();\n\n  let i = 0;\n  const l = this.childs.length;\n  while (i < l) {\n    const child = this.childs[i];\n    child.updatePosture();\n    i++;\n  }\n  this.emit('postposture');\n};\n\n/**\n * 渲染自己并触发后代渲染\n * @param {context} ctx\n * @private\n */\nContainer.prototype.render = function(ctx) {\n  this.emit('prerender');\n  ctx.save();\n  this.setTransform(ctx);\n  if (this.mask) this.mask.render(ctx);\n  this.renderMe(ctx);\n\n  let i = 0;\n  const l = this.childs.length;\n  while (i < l) {\n    const child = this.childs[i];\n    i++;\n    if (!child.isVisible()) continue;\n    child.render(ctx);\n  }\n  ctx.restore();\n  this.emit('postrender');\n};\n\n/**\n * 渲染自己\n * @private\n * @return {Boolean} 是否渲染\n */\nContainer.prototype.renderMe = function() {\n  return true;\n};\n\n/**\n * 计算自己的包围盒\n * @private\n */\nContainer.prototype.calculateVertices = function() {\n  const wt = this.worldTransform;\n  const a = wt.a;\n  const b = wt.b;\n  const c = wt.c;\n  const d = wt.d;\n  const tx = wt.tx;\n  const ty = wt.ty;\n  const vertexData = this.vertexData;\n  let w0;\n  let w1;\n  let h0;\n  let h1;\n\n  w0 = this._bounds.minX;\n  w1 = this._bounds.maxX;\n\n  h0 = this._bounds.minY;\n  h1 = this._bounds.maxY;\n\n  // xy\n  vertexData[0] = a * w1 + c * h1 + tx;\n  vertexData[1] = d * h1 + b * w1 + ty;\n\n  // xy\n  vertexData[2] = a * w0 + c * h1 + tx;\n  vertexData[3] = d * h1 + b * w0 + ty;\n\n  // xy\n  vertexData[4] = a * w0 + c * h0 + tx;\n  vertexData[5] = d * h0 + b * w0 + ty;\n\n  // xy\n  vertexData[6] = a * w1 + c * h0 + tx;\n  vertexData[7] = d * h0 + b * w1 + ty;\n};\n\n\n/**\n * 计算包围盒子\n *\n * @method calculateBounds\n */\nContainer.prototype.calculateBounds = function() {\n  this.bounds.clear();\n  if (!this.visible) {\n    return;\n  }\n  this._calculateBounds();\n\n  for (let i = 0; i < this.childs.length; i++) {\n    const child = this.childs[i];\n\n    child.calculateBounds();\n\n    this.bounds.addBounds(child.bounds);\n  }\n};\n\nContainer.prototype._calculateBounds = function() {\n  this.calculateVertices();\n  this.bounds.addVert(this.vertexData);\n};\n\n\n/**\n * 设置渲染物体的包围盒\n * @param {JC.Bounds} bounds\n */\nContainer.prototype.setBounds = function(bounds) {\n  if (bounds instanceof Bounds) {\n    this._bounds = bounds;\n  }\n};\n\n/**\n * 暂停自身和子级的所有动画进度\n */\nContainer.prototype.pause = function() {\n  this.paused = true;\n};\n\n/**\n * 恢复自身和子级的所有动画进度\n */\nContainer.prototype.restart = function() {\n  this.paused = false;\n};\n\n/**\n * 设置自身及子级的动画速度\n * @param {Number} speed 设置的速率值\n */\nContainer.prototype.setSpeed = function(speed) {\n  this.timeScale = speed;\n};\n\nexport {Container};\n","\nimport {Eventer} from '../eventer/Eventer';\nimport {Utils} from '../utils/Utils';\n\n/* eslint max-len: \"off\" */\n\n/**\n * MovieClip类型动画对象\n *\n * @class\n * @memberof JC\n * @extends JC.Eventer\n * @param {object} [element] 动画对象 内部传入\n * @param {object} [options] 动画配置信息 内部传入\n */\nfunction MovieClip(element, options) {\n  Eventer.call(this);\n\n  this.element = element;\n  this.living = false;\n\n  // this.onComplete = null;\n  // this.onUpdate = null;\n\n  this.infinite = false;\n  this.alternate = false;\n  this.repeats = 0;\n\n  this.animations = options.animations || {};\n\n  this.index = 0;\n  this.preIndex = -1;\n  this.direction = 1;\n  this.frames = [];\n  this.preFrame = null;\n\n  this.fillMode = 0;\n  this.fps = 16;\n\n  this.paused = false;\n\n  this.pt = 0;\n  this.nt = 0;\n}\n\nMovieClip.prototype = Object.create(Eventer.prototype);\n\n/**\n * 更新动画\n * @private\n * @param {number} snippet 时间片段\n */\nMovieClip.prototype.update = function(snippet) {\n  if (this.paused || !this.living) return;\n  this.nt += snippet;\n  if (this.nt - this.pt < this.interval) return;\n  this.pt = this.nt;\n  const i = this.index + this.direction;\n  if (i < this.frames.length && i >= 0) {\n    this.index = i;\n    // Do you need this handler???\n    // this.onUpdate&&this.onUpdate(this.index);\n  } else {\n    if (this.repeats > 0 || this.infinite) {\n      if (this.repeats > 0) --this.repeats;\n      if (this.alternate) {\n        this.direction *= -1;\n        this.index += this.direction;\n      } else {\n        this.direction = 1;\n        this.index = 0;\n      }\n      // Do you need this handler???\n      // this.onUpdate && this.onUpdate(this.index);\n    } else {\n      this.living = false;\n      this.index = this.fillMode;\n      this.emit('complete');\n    }\n  }\n};\n\n/**\n * 获取帧位置\n * @private\n * @return {JC.Rectangle}\n */\nMovieClip.prototype.getFrame = function() {\n  if (\n    this.index === this.preIndex\n    &&\n    this.preFrame !== null\n  ) return this.preFrame;\n  const frame = this.element.frame.clone();\n  const cf = this.frames[this.index];\n  if (cf > 0) {\n    const row = this.element.naturalWidth / this.element.frame.width >> 0;\n    const lintRow = this.element.frame.x / this.element.frame.width >> 0;\n\n    const mCol = (lintRow + cf) / row >> 0;\n    const mRow = (lintRow + cf) % row;\n    frame.x = mRow * this.element.frame.width;\n    frame.y += mCol * this.element.frame.height;\n  }\n  this.preIndex = this.index;\n  this.preFrame = frame;\n  return frame;\n};\n\n/**\n * 播放逐帧\n * @param {object} options 播放配置\n * @return {this}\n */\nMovieClip.prototype.playMovie = function(options) {\n  // 避免多次调用时前面调用所绑定的监听事件还在监听列表里\n  this.off('complete');\n  const movie = this.format(options.movie);\n  if (!Utils.isArray(movie)) return;\n  this.frames = movie;\n  this.index = 0;\n  this.direction = 1;\n  this.fillMode = options.fillMode || 0;\n  this.fps = options.fps || this.fps;\n  this.infinite = options.infinite || false;\n  this.alternate = options.alternate || false;\n  this.repeats = options.repeats || 0;\n  this.living = true;\n  if (options.onComplete) {\n    const This = this;\n    this.once('complete', function() {\n      options.onComplete.call(This);\n    });\n  }\n  return this;\n};\n\n/**\n * 格式化逐帧信息\n * @private\n * @param {string|array|object} movie 逐帧信息\n * @return {array}\n */\nMovieClip.prototype.format = function(movie) {\n  if (Utils.isString(movie)) {\n    const config = this.animations[movie];\n    if (config) {\n      return this.format(config);\n    } else {\n      console.warn('you havn\\'t config ' + movie + ' in animations ');\n      return false;\n    }\n  } else if (Utils.isArray(movie)) {\n    return movie;\n  } else if (Utils.isObject(movie)) {\n    const arr = [];\n    for (let i = movie.start; i <= movie.end; i++) {\n      arr.push(i);\n    }\n    if (movie.next && this.animations[movie.next]) {\n      const This = this;\n      let conf = {};\n      if (Utils.isString(movie.next) && this.animations[movie.next]) {\n        conf.movie = movie.next;\n        conf.infinite = true;\n      } else if (Utils.isObject(movie.next)) {\n        conf = movie.next;\n      }\n      if (Utils.isString(conf.movie)) {\n        this.once('complete', function() {\n          This.playMovie(conf);\n        });\n      }\n    }\n    return arr;\n  }\n};\n\n/**\n * 暂停逐帧\n */\nMovieClip.prototype.pause = function() {\n  this.paused = true;\n};\n\n/**\n * 恢复播放逐帧\n */\nMovieClip.prototype.restart = function() {\n  this.paused = false;\n};\n\n/**\n * 取消逐帧\n */\nMovieClip.prototype.cancle = function() {\n  this.living = false;\n};\n\n/**\n * 帧间隔\n * @private\n */\nObject.defineProperty(MovieClip.prototype, 'interval', {\n  get: function() {\n    return this.fps > 0 ? 1000 / this.fps >> 0 : 16;\n  },\n});\n\nexport {MovieClip};\n","import {Container} from './Container';\nimport {MovieClip} from '../animation/MovieClip';\nimport {Rectangle} from '../math/Rectangle';\n\n/**\n * 位图精灵图，继承至Container\n *\n * ```js\n * var loadBox = JC.loaderUtil({\n *    frames: './images/frames.png'\n * });\n * var sprite = new JC.Sprite({\n *      texture: loadBox.getById('frames'),\n *      frame: new JC.Rectangle(0, 0, w, h),\n *      width: 100,\n *      height: 100,\n *      animations: {\n *          fall: {start: 0,end: 4,next: 'stand'},\n *          fly: {start: 5,end: 9,next: {movie: 'stand', repeats: 2}},\n *          stand: {start: 10,end: 39},\n *          walk: {start: 40,end: 59,next: 'stand'},\n *          other: [ 0, 1, 2, 1, 3, 4 ], // 同样接受数组形势\n *      }\n * });\n * ```\n *\n * @class\n * @memberof JC\n * @extends JC.Container\n * @param {Object} options\n * @param {JC.Texture} options.texture 图片纹理\n * @param {JC.Rectangle} [options.frame] 当是逐帧或者是裁切显示时需要配置，显示的矩形区域\n * @param {Number} [options.width] 实际显示的宽，可能会缩放图像\n * @param {Number} [options.height] 实际显示的高，可能会缩放图像\n * @param {Object} [options.animations] 逐帧的预置帧动画配置\n */\nfunction Sprite(options = {}) {\n  Container.call(this);\n\n  this._width = 0;\n\n  this._height = 0;\n\n  this.ready = false;\n\n  this.upTexture(options);\n\n  this.movieClip = new MovieClip(this, options);\n}\nSprite.prototype = Object.create(Container.prototype);\n\n/**\n * 更新纹理对象\n *\n * @private\n * @param {json} options\n */\nSprite.prototype.upTexture = function(options) {\n  if (!options.texture) return;\n  if (!options.texture.loaded) {\n    this.ready = false;\n    options.texture.on('load', () => {\n      this.upTexture(options);\n      this.ready = true;\n    });\n    return;\n  }\n\n  this.ready = true;\n  this.texture = options.texture;\n  this.naturalWidth = options.texture.naturalWidth;\n  this.naturalHeight = options.texture.naturalHeight;\n  this.frame = options.frame ||\n  new Rectangle(\n    0,\n    0,\n    this.naturalWidth,\n    this.naturalHeight\n  );\n\n  this.width = options.width || this.frame.width;\n  this.height = options.height || this.frame.height;\n  if (this.movieClip) {\n    this.movieClip.preFrame = null;\n  }\n};\n\n/**\n * 当前图片对象的width\n *\n * @name width\n * @member {Number}\n * @memberof JC.Sprite#\n */\nObject.defineProperty(Sprite.prototype, 'width', {\n  get: function() {\n    return this._width;\n  },\n  set: function(width) {\n    if (this._width !== width) {\n      this._width = width;\n      this.updateGeometry();\n    }\n  },\n});\n\n/**\n * 当前图片对象的height\n *\n * @name height\n * @member {Number}\n * @memberof JC.Sprite#\n */\nObject.defineProperty(Sprite.prototype, 'height', {\n  get: function() {\n    return this._height;\n  },\n  set: function(height) {\n    if (this._height !== height) {\n      this._height = height;\n      this.updateGeometry();\n    }\n  },\n});\n\n/**\n * 更新对象的事件几何形态\n * note: 此处的setArea是懒更新，如果需要\n *\n * @private\n */\nSprite.prototype.updateGeometry = function() {\n  const rect = new Rectangle(0, 0, this.width, this.height);\n  this._bounds.clear().addRect(rect);\n  this.setArea(rect);\n};\n\n/**\n * 更新对象的动画姿态\n *\n * @private\n * @param {number} snippet\n */\nSprite.prototype.updateAnimation = function(snippet) {\n  this.animation.update(snippet);\n  this.movieClip.update(snippet);\n};\n\n/**\n * 播放逐帧动画\n * @param {Object} options 可以是播放配置对象\n * @param {String|Array} options.movie 预置的动画名，或者是帧索引数组\n * @param {Number} [options.fillMode] 结束时停留在哪一帧\n * @param {Boolean} [options.repeats] 重复播放次数\n * @param {Boolean} [options.infinite] 无限循环，优先级比 repeats 高\n * @param {Boolean} [options.alternate] 循环时交替播放\n * @param {Number} [options.fps] 当前动画将使用的帧率\n * @return {MovieClip}\n */\nSprite.prototype.playMovie = function(options) {\n  return this.movieClip.playMovie(options);\n};\n\n/**\n * 更新对象本身的矩阵姿态以及透明度\n *\n * @private\n * @param {context} ctx\n */\nSprite.prototype.renderMe = function(ctx) {\n  if (!this.ready) return;\n  const frame = this.movieClip.getFrame();\n  ctx.drawImage(\n    this.texture.texture,\n    frame.x,\n    frame.y,\n    frame.width,\n    frame.height,\n    0,\n    0,\n    this.width,\n    this.height\n  );\n};\n\nexport {Sprite};\n","/**\n * 帧缓冲区\n * @class\n * @memberof JC\n */\nfunction FrameBuffer() {\n  this.canvas = document.createElement('canvas');\n  this.ctx = this.canvas.getContext('2d');\n}\n\n/**\n * 设置缓冲区大小\n * @param {JC.Rectangle} rect 获取到的尺寸\n */\nFrameBuffer.prototype.setSize = function(rect) {\n  this.width = this.canvas.width = rect.width + rect.px * 2;\n  this.height = this.canvas.height = rect.height + rect.py * 2;\n};\n\n/**\n * 清除缓冲区\n */\nFrameBuffer.prototype.clear = function() {\n  this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n  this.ctx.clearRect(0, 0, this.width, this.height);\n};\n\n/**\n * 设置绘图上下文的变换矩阵\n * @param {number} a\n * @param {number} b\n * @param {number} c\n * @param {number} d\n * @param {number} e\n * @param {number} f\n */\nFrameBuffer.prototype.setTransform = function(a, b, c, d, e, f) {\n  this.ctx.setTransform(a, b, c, d, e, f);\n};\n\n/**\n * 获取缓冲区的像素\n * @return {ImageData}\n */\nFrameBuffer.prototype.getBuffer = function() {\n  this.buffer = this.ctx.getImageData(0, 0, this.width, this.height);\n  return this.buffer;\n};\n\n/**\n * 放置像素到缓冲区\n * @return {canvas}\n */\nFrameBuffer.prototype.putBuffer = function() {\n  this.ctx.putImageData(this.buffer, 0, 0);\n  return this.canvas;\n};\n\nexport {FrameBuffer};\n","import {Container} from './Container';\nimport {FrameBuffer} from '../filters/FrameBuffer';\nimport {Utils} from '../utils/Utils';\n\nconst FUNCTION = 'fn';\nconst INSTANCE = 'in';\n\n/* eslint max-len: 0 */\n\n/**\n * 形状对象，继承至Container\n *\n *\n * ```js\n * const options = {\n *   cache: true,\n *   bounds: new JC.Bounds(-50, -50, 50, 50)\n * };\n * function drawRect(ctx) {\n *  ctx.fillStyle = 'red';\n *  ctx.fillRect(-10, -10, 10, 10);\n * }\n *\n * function Cricle(options) {\n *   this.radius = options.radius || 0;\n *   this.color = options.color || '#3a3cfd';\n * }\n * Cricle.prototype.render = function(ctx) {\n *   ctx.beginPath();\n *   ctx.fillStyle = this.color;\n *   ctx.arc(0, 0, this.radius, 0, Math.PI * 2, true);\n *   ctx.closePath();\n *   ctx.fill();\n * }\n *\n * const rect = new JC.Graphics(drawRect);\n * const cricle = new JC.Graphics(new Cricle());\n *\n * ```\n *\n * @class\n * @memberof JC\n * @extends JC.Container\n * @param {function|object} mesh 绘制对象，可以是函数，也可以是带有render方法的对象，绘制时会将当前绘图环境传递给它\n * @param {object} options 绘制对象\n * @param {boolean} [options.cache] 是否缓存改绘制对象，加入绘制对象非常复杂并后续无需更新时设置为 true 可以优化性能\n * @param {JC.Bounds} [options.bounds] 绘制对象的包围盒，在需要缓存时需要手动设置\n */\nfunction Graphics(mesh, options) {\n  Container.call(this);\n  options = options || {};\n  this.mesh = mesh;\n  this.meshType = Utils.isFunction(mesh) ? FUNCTION :\n    Utils.isObject(mesh) && Utils.isFunction(mesh.render) ? INSTANCE : '';\n  if (this.meshType === '') console.error('不支持的绘制对象');\n\n  this.cache = options.cache || false;\n  this.cached = false;\n  this.setBounds(options.bounds);\n\n  this.frameBuffer = null;\n}\nGraphics.prototype = Object.create(Container.prototype);\n\n/**\n * 更新对象本身的矩阵姿态以及透明度\n *\n * @private\n * @param {context} ctx\n */\nGraphics.prototype.renderMe = function(ctx) {\n  if (!this.meshType) return;\n  if (this.cached || this.cache) {\n    if (this.cache) {\n      if (this.frameBuffer === null) this.frameBuffer = new FrameBuffer();\n\n      this.frameBuffer.clear();\n      this.__co = this._bounds.getRectangle();\n      this.__co.px = this.__co.py = 0;\n      this.frameBuffer.setSize(this.__co);\n      this.frameBuffer.setTransform(1, 0, 0, 1, -this.__co.x, -this.__co.y);\n\n      this._drawBack(this.frameBuffer.ctx);\n\n      this.cached = true;\n      this.cache = false;\n    }\n    this.frameBuffer &&\n    ctx.drawImage(\n      this.frameBuffer.canvas,\n      this.__co.x - this.__co.px,\n      this.__co.y - this.__co.py,\n      this.frameBuffer.width,\n      this.frameBuffer.height\n    );\n  } else {\n    this._drawBack(ctx);\n  }\n};\n\n/**\n * 调用绘制函数\n *\n * @private\n * @param {context} ctx\n */\nGraphics.prototype._drawBack = function(ctx) {\n  if (this.meshType === FUNCTION) {\n    this.mesh(ctx);\n  } else if (this.meshType === INSTANCE) {\n    this.mesh.render(ctx);\n  }\n};\n\nexport {Graphics};\n","\nimport {Container} from './Container';\nimport {Utils} from '../utils/Utils';\n\n/* eslint max-len: 0 */\n\n/**\n * 文本，继承至Container\n *\n *\n * ```js\n * var text = new JC.TextFace(\n *   'JC jcc2d canvas renderer',\n *   {\n *     fontSize: '16px',\n *     ...\n *   }\n * );\n * ```\n *\n * @class\n * @extends JC.Container\n * @memberof JC\n * @param {string} text\n * @param {object} style\n * @param {string} [style.fontSize] 文字的字号\n * @param {string} [style.fontFamily] 文字的字体\n * @param {string} [style.fontStyle] 文字的 style ('normal', 'italic' or 'oblique')\n * @param {string} [style.fontWeight] 文字的 weight ('normal', 'bold', 'bolder', 'lighter' and '100', '200', '300', '400', '500', '600', '700', 800' or '900')\n * @param {boolean} [style.fill] 文字填充模式 默认为: ture\n * @param {string} [style.fillColor] 文字填充的颜色\n * @param {boolean} [style.stroke] 文字描边模式 默认为: false\n * @param {string} [style.strokeColor] 文字描边的颜色\n * @param {number} [style.lineWidth] 文字描边的宽度\n * @param {string} [style.textAlign] 文字的水平对齐方式 默认值: 'center' (top|bottom|middle|alphabetic|hanging)\n * @param {string} [style.textBaseline] 文字的垂直对齐方式 默认值: 'middle' (top|bottom|middle|alphabetic|hanging)\n */\nfunction TextFace(text, style) {\n  Container.call( this );\n  this.text = text.toString();\n\n  // ctx.font 缩写的顺序 fontStyle + fontVariant + fontWeight + fontSizeString + fontFamily\n  this.fontStyle = style.fontStyle || 'normal';\n  this.fontWeight = style.fontWeight || 'normal';\n  this.fontSize = style.fontSize || '12px';\n  this.fontFamily = style.fontFamily || 'Arial';\n\n  this.fillColor = style.fillColor || 'black';\n  this.strokeColor = style.strokeColor || 'red';\n\n  // 对齐方式\n  this.textAlign = style.textAlign || 'center';\n  this.textBaseline = style.textBaseline || 'middle';\n\n  this.lineWidth = Utils.isNumber(style.lineWidth) ?\n    style.lineWidth :\n    1;\n\n  this.stroke = Utils.isBoolean(style.stroke) ?\n    style.stroke :\n    false;\n\n  this.fill = Utils.isBoolean(style.fill) ?\n    style.fill :\n    true;\n\n  // ctx.measureText(str); // 返回指定文本的宽度\n}\nTextFace.prototype = Object.create( Container.prototype );\n\n/**\n * 更新对象本身的矩阵姿态以及透明度\n *\n * @method updateMe\n * @private\n * @param {context} ctx\n */\nTextFace.prototype.renderMe = function(ctx) {\n  ctx.font = this.fontStyle + ' ' + this.fontWeight + ' ' + this.fontSize + ' ' + this.fontFamily;\n  ctx.textAlign = this.textAlign;\n  ctx.textBaseline = this.textBaseline;\n  if (this.fill) {\n    ctx.fillStyle = this.fillColor;\n    ctx.fillText(this.text, 0, 0);\n  }\n  if (this.stroke) {\n    ctx.lineWidth = this.lineWidth;\n    ctx.strokeStyle = this.strokeColor;\n    ctx.strokeText(this.text, 0, 0);\n  }\n};\n\nexport {TextFace};\n","\nimport {Container} from './Container';\n// import {Utils} from '../utils/Utils';\n\n/**\n * 舞台对象，继承至 Container\n * @class\n * @extends JC.Container\n * @memberof JC\n */\nfunction Scene() {\n  Container.call(this);\n}\n\nScene.prototype = Object.create(Container.prototype);\n\n/**\n * 更新自身的透明度可矩阵姿态更新，并触发后代同步更新。\n * Scene 的 updatePosture 会接收一个来自 Renderer 的 rootMatrix。\n *\n * @private\n * @param {Matrix} [rootMatrix] 初始矩阵，由 Renderer 直接传入。\n */\nScene.prototype.updatePosture = function(rootMatrix) {\n  this.emit('preposture');\n  if (this.souldSort) this._sortList();\n  this.updateTransform(rootMatrix);\n\n  let i = 0;\n  const l = this.childs.length;\n  while (i < l) {\n    this.childs[i].updatePosture();\n    i++;\n  }\n  this.emit('postposture');\n};\n\nexport {Scene};\n","// import {Vector2} from 'three';\nimport {Point} from '../math/Point';\n\n/**\n * Holds all information related to an Interaction event\n *\n * @class\n */\nclass InteractionData {\n  /**\n   * InteractionData constructor\n   */\n  constructor() {\n    /**\n     * This point stores the global coords of where the touch/mouse event happened\n     *\n     * @member {Point}\n     */\n    this.global = new Point(-100000, -100000);\n\n    /**\n     * This resolution\n     *\n     * @member {Point}\n     */\n    this.resolution = new Point(1, 1);\n\n    /**\n     * The target DisplayObject that was interacted with\n     *\n     * @member {Object3D}\n     */\n    this.target = null;\n\n    /**\n     * When passed to an event handler, this will be the original DOM Event that was captured\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/TouchEvent\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent\n     * @member {MouseEvent|TouchEvent|PointerEvent}\n     */\n    this.originalEvent = null;\n\n    /**\n     * Unique identifier for this interaction\n     *\n     * @member {number}\n     */\n    this.identifier = null;\n\n    /**\n     * Indicates whether or not the pointer device that created the event is the primary pointer.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/isPrimary\n     * @type {Boolean}\n     */\n    this.isPrimary = false;\n\n    /**\n     * Indicates which button was pressed on the mouse or pointer device to trigger the event.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n     * @type {number}\n     */\n    this.button = 0;\n\n    /**\n     * Indicates which buttons are pressed on the mouse or pointer device when the event is triggered.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons\n     * @type {number}\n     */\n    this.buttons = 0;\n\n    /**\n     * The width of the pointer's contact along the x-axis, measured in CSS pixels.\n     * radiusX of TouchEvents will be represented by this value.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/width\n     * @type {number}\n     */\n    this.width = 0;\n\n    /**\n     * The height of the pointer's contact along the y-axis, measured in CSS pixels.\n     * radiusY of TouchEvents will be represented by this value.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/height\n     * @type {number}\n     */\n    this.height = 0;\n\n    /**\n     * The angle, in degrees, between the pointer device and the screen.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/tiltX\n     * @type {number}\n     */\n    this.tiltX = 0;\n\n    /**\n     * The angle, in degrees, between the pointer device and the screen.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/tiltY\n     * @type {number}\n     */\n    this.tiltY = 0;\n\n    /**\n     * The type of pointer that triggered the event.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/pointerType\n     * @type {string}\n     */\n    this.pointerType = null;\n\n    /**\n     * Pressure applied by the pointing device during the event. A Touch's force property\n     * will be represented by this value.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/pressure\n     * @type {number}\n     */\n    this.pressure = 0;\n\n    /**\n     * From TouchEvents (not PointerEvents triggered by touches), the rotationAngle of the Touch.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Touch/rotationAngle\n     * @type {number}\n     */\n    this.rotationAngle = 0;\n\n    /**\n     * Twist of a stylus pointer.\n     * @see https://w3c.github.io/pointerevents/#pointerevent-interface\n     * @type {number}\n     */\n    this.twist = 0;\n\n    /**\n     * Barrel pressure on a stylus pointer.\n     * @see https://w3c.github.io/pointerevents/#pointerevent-interface\n     * @type {number}\n     */\n    this.tangentialPressure = 0;\n  }\n\n  /**\n   * The unique identifier of the pointer. It will be the same as `identifier`.\n   * @readonly\n   * @member {number}\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/pointerId\n   */\n  get pointerId() {\n    return this.identifier;\n  }\n\n  /**\n   * Copies properties from normalized event data.\n   *\n   * @param {Touch|MouseEvent|PointerEvent} event The normalized event data\n   * @private\n   */\n  _copyEvent(event) {\n    // isPrimary should only change on touchstart/pointerdown, so we don't want to overwrite\n    // it with \"false\" on later events when our shim for it on touch events might not be\n    // accurate\n    if (event.isPrimary) {\n      this.isPrimary = true;\n    }\n    this.button = event.button;\n    this.buttons = event.buttons;\n    this.width = event.width;\n    this.height = event.height;\n    this.tiltX = event.tiltX;\n    this.tiltY = event.tiltY;\n    this.pointerType = event.pointerType;\n    this.pressure = event.pressure;\n    this.rotationAngle = event.rotationAngle;\n    this.twist = event.twist || 0;\n    this.tangentialPressure = event.tangentialPressure || 0;\n  }\n\n  /**\n   * Resets the data for pooling.\n   *\n   * @private\n   */\n  _reset() {\n    // isPrimary is the only property that we really need to reset - everything else is\n    // guaranteed to be overwritten\n    this.isPrimary = false;\n  }\n}\n\nexport default InteractionData;\n","/**\n * Event class that mimics native DOM events.\n *\n * @class\n */\nclass InteractionEvent {\n  /**\n   * InteractionEvent constructor\n   */\n  constructor() {\n    /**\n     * Whether this event will continue propagating in the tree\n     *\n     * @member {boolean}\n     */\n    this.stopped = false;\n\n    /**\n     * The object which caused this event to be dispatched.\n     *\n     * @member {Object3D}\n     */\n    this.target = null;\n\n    /**\n     * The object whose event listener’s callback is currently being invoked.\n     *\n     * @member {Object3D}\n     */\n    this.currentTarget = null;\n\n    /**\n     * Type of the event\n     *\n     * @member {string}\n     */\n    this.type = null;\n\n    /**\n     * InteractionData related to this event\n     *\n     * @member {InteractionData}\n     */\n    this.data = null;\n  }\n\n  /**\n   * Prevents event from reaching any objects other than the current object.\n   *\n   */\n  stopPropagation() {\n    this.stopped = true;\n  }\n\n  /**\n   * Resets the event.\n   *\n   * @private\n   */\n  _reset() {\n    this.stopped = false;\n    this.currentTarget = null;\n    this.target = null;\n  }\n}\n\nexport default InteractionEvent;\n","/**\n * DisplayObjects with the `trackedPointers` property use this class to track interactions\n *\n * @class\n * @private\n */\nexport default class InteractionTrackingData {\n  /**\n   * @param {number} pointerId - Unique pointer id of the event\n   */\n  constructor(pointerId) {\n    this._pointerId = pointerId;\n    this._flags = InteractionTrackingData.FLAGS.NONE;\n  }\n\n  /**\n   *\n   * @private\n   * @param {number} flag - The interaction flag to set\n   * @param {boolean} yn - Should the flag be set or unset\n   */\n  _doSet(flag, yn) {\n    if (yn) {\n      this._flags = this._flags | flag;\n    } else {\n      this._flags = this._flags & (~flag);\n    }\n  }\n\n  /**\n   * Unique pointer id of the event\n   *\n   * @readonly\n   * @member {number}\n   */\n  get pointerId() {\n    return this._pointerId;\n  }\n\n  /**\n   * State of the tracking data, expressed as bit flags\n   *\n   * @member {number}\n   */\n  get flags() {\n    return this._flags;\n  }\n\n  /**\n   * Set the flags for the tracking data\n   *\n   * @param {number} flags - Flags to set\n   */\n  set flags(flags) {\n    this._flags = flags;\n  }\n\n  /**\n   * Is the tracked event inactive (not over or down)?\n   *\n   * @member {number}\n   */\n  get none() {\n    return this._flags === this.constructor.FLAGS.NONE;\n  }\n\n  /**\n   * Is the tracked event over the DisplayObject?\n   *\n   * @member {boolean}\n   */\n  get over() {\n    return (this._flags & this.constructor.FLAGS.OVER) !== 0;\n  }\n\n  /**\n   * Set the over flag\n   *\n   * @param {boolean} yn - Is the event over?\n   */\n  set over(yn) {\n    this._doSet(this.constructor.FLAGS.OVER, yn);\n  }\n\n  /**\n   * Did the right mouse button come down in the DisplayObject?\n   *\n   * @member {boolean}\n   */\n  get rightDown() {\n    return (this._flags & this.constructor.FLAGS.RIGHT_DOWN) !== 0;\n  }\n\n  /**\n   * Set the right down flag\n   *\n   * @param {boolean} yn - Is the right mouse button down?\n   */\n  set rightDown(yn) {\n    this._doSet(this.constructor.FLAGS.RIGHT_DOWN, yn);\n  }\n\n  /**\n   * Did the left mouse button come down in the DisplayObject?\n   *\n   * @member {boolean}\n   */\n  get leftDown() {\n    return (this._flags & this.constructor.FLAGS.LEFT_DOWN) !== 0;\n  }\n\n  /**\n   * Set the left down flag\n   *\n   * @param {boolean} yn - Is the left mouse button down?\n   */\n  set leftDown(yn) {\n    this._doSet(this.constructor.FLAGS.LEFT_DOWN, yn);\n  }\n}\n\nInteractionTrackingData.FLAGS = Object.freeze({\n  NONE: 0,\n  OVER: 1 << 0,\n  LEFT_DOWN: 1 << 1,\n  RIGHT_DOWN: 1 << 2,\n});\n","import {Eventer} from './Eventer';\nimport InteractionData from './InteractionData';\nimport InteractionEvent from './InteractionEvent';\nimport InteractionTrackingData from './InteractionTrackingData';\n\nconst MOUSE_POINTER_ID = 'MOUSE';\n\n/* eslint max-len: 0 */\n\n// helpers for hitTest() - only used inside hitTest()\nconst hitTestEvent = {\n  target: null,\n  data: {\n    global: null,\n  },\n};\n\n/**\n * The interaction manager deals with mouse, touch and pointer events. Any DisplayObject can be interactive\n * if its interactive parameter is set to true\n * This manager also supports multitouch.\n *\n * reference to [pixi.js](http://www.pixijs.com/) impl\n *\n * @private\n * @class\n * @extends Eventer\n */\nclass InteractionManager extends Eventer {\n  /**\n   * @param {Renderer} renderer - A reference to the current renderer\n   * @param {Object} [options] - The options for the manager.\n   * @param {Boolean} [options.autoPreventDefault=false] - Should the manager automatically prevent default browser actions.\n   * @param {Boolean} [options.autoAttach=true] - Should the manager automatically attach target element.\n   * @param {Number} [options.interactionFrequency=10] - Frequency increases the interaction events will be checked.\n   */\n  constructor(renderer, options) {\n    super();\n\n    options = options || {};\n\n    /**\n     * The renderer this interaction manager works for.\n     *\n     * @member {Renderer}\n     */\n    this.renderer = renderer;\n\n    /**\n     * Should default browser actions automatically be prevented.\n     * Does not apply to pointer events for backwards compatibility\n     * preventDefault on pointer events stops mouse events from firing\n     * Thus, for every pointer event, there will always be either a mouse of touch event alongside it.\n     *\n     * @member {boolean}\n     * @default false\n     */\n    this.autoPreventDefault = options.autoPreventDefault || false;\n\n    /**\n     * Frequency in milliseconds that the mousemove, moveover & mouseout interaction events will be checked.\n     *\n     * @member {number}\n     * @default 10\n     */\n    this.interactionFrequency = options.interactionFrequency || 10;\n\n    /**\n     * The mouse data\n     *\n     * @member {InteractionData}\n     */\n    this.mouse = new InteractionData();\n    this.mouse.identifier = MOUSE_POINTER_ID;\n\n    // setting the mouse to start off far off screen will mean that mouse over does\n    //  not get called before we even move the mouse.\n    this.mouse.global.set(-999999);\n\n    /**\n     * Actively tracked InteractionData\n     *\n     * @private\n     * @member {Object.<number,InteractionData>}\n     */\n    this.activeInteractionData = {};\n    this.activeInteractionData[MOUSE_POINTER_ID] = this.mouse;\n\n    /**\n     * Pool of unused InteractionData\n     *\n     * @private\n     * @member {InteractionData[]}\n     */\n    this.interactionDataPool = [];\n\n    /**\n     * An event data object to handle all the event tracking/dispatching\n     *\n     * @member {object}\n     */\n    this.eventData = new InteractionEvent();\n\n    /**\n     * The DOM element to bind to.\n     *\n     * @private\n     * @member {HTMLElement}\n     */\n    this.interactionDOMElement = null;\n\n    /**\n     * This property determines if mousemove and touchmove events are fired only when the cursor\n     * is over the object.\n     * Setting to true will make things work more in line with how the DOM verison works.\n     * Setting to false can make things easier for things like dragging\n     * It is currently set to false as this is how three.js used to work.\n     *\n     * @member {boolean}\n     * @default true\n     */\n    this.moveWhenInside = true;\n\n    /**\n     * Have events been attached to the dom element?\n     *\n     * @private\n     * @member {boolean}\n     */\n    this.eventsAdded = false;\n\n    /**\n     * Is the mouse hovering over the renderer?\n     *\n     * @private\n     * @member {boolean}\n     */\n    this.mouseOverRenderer = false;\n\n    /**\n     * Does the device support touch events\n     * https://www.w3.org/TR/touch-events/\n     *\n     * @readonly\n     * @member {boolean}\n     */\n    this.supportsTouchEvents = 'ontouchstart' in window;\n\n    /**\n     * Does the device support pointer events\n     * https://www.w3.org/Submission/pointer-events/\n     *\n     * @readonly\n     * @member {boolean}\n     */\n    this.supportsPointerEvents = !!window.PointerEvent;\n\n    // this will make it so that you don't have to call bind all the time\n\n    /**\n     * @private\n     * @member {Function}\n     */\n    this.onClick = this.onClick.bind(this);\n    this.processClick = this.processClick.bind(this);\n\n    /**\n     * @private\n     * @member {Function}\n     */\n    this.onPointerUp = this.onPointerUp.bind(this);\n    this.processPointerUp = this.processPointerUp.bind(this);\n\n    /**\n     * @private\n     * @member {Function}\n     */\n    this.onPointerCancel = this.onPointerCancel.bind(this);\n    this.processPointerCancel = this.processPointerCancel.bind(this);\n\n    /**\n     * @private\n     * @member {Function}\n     */\n    this.onPointerDown = this.onPointerDown.bind(this);\n    this.processPointerDown = this.processPointerDown.bind(this);\n\n    /**\n     * @private\n     * @member {Function}\n     */\n    this.onPointerMove = this.onPointerMove.bind(this);\n    this.processPointerMove = this.processPointerMove.bind(this);\n\n    /**\n     * @private\n     * @member {Function}\n     */\n    this.onPointerOut = this.onPointerOut.bind(this);\n    this.processPointerOverOut = this.processPointerOverOut.bind(this);\n\n    /**\n     * @private\n     * @member {Function}\n     */\n    this.onPointerOver = this.onPointerOver.bind(this);\n\n    /**\n     * Dictionary of how different cursor modes are handled. Strings are handled as CSS cursor\n     * values, objects are handled as dictionaries of CSS values for interactionDOMElement,\n     * and functions are called instead of changing the CSS.\n     * Default CSS cursor values are provided for 'default' and 'pointer' modes.\n     * @member {Object.<string, (string|Function|Object.<string, string>)>}\n     */\n    this.cursorStyles = {\n      default: 'inherit',\n      pointer: 'pointer',\n    };\n\n    /**\n     * The mode of the cursor that is being used.\n     * The value of this is a key from the cursorStyles dictionary.\n     *\n     * @member {string}\n     */\n    this.currentCursorMode = null;\n\n    /**\n     * Internal cached let.\n     *\n     * @private\n     * @member {string}\n     */\n    this.cursor = null;\n\n    /**\n     * ray caster, for survey intersects from 3d-scene\n     *\n     * @private\n     * @member {Raycaster}\n     */\n    // this.raycaster = new Raycaster();\n\n    /**\n     * snippet time\n     *\n     * @private\n     * @member {Number}\n     */\n    this._deltaTime = 0;\n\n    this.setTargetElement(this.renderer.canvas);\n\n    /**\n     * Fired when a pointer device button (usually a mouse left-button) is pressed on the display\n     * object.\n     *\n     * @event InteractionManager#mousedown\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device secondary button (usually a mouse right-button) is pressed\n     * on the display object.\n     *\n     * @event InteractionManager#rightdown\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device button (usually a mouse left-button) is released over the display\n     * object.\n     *\n     * @event InteractionManager#mouseup\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device secondary button (usually a mouse right-button) is released\n     * over the display object.\n     *\n     * @event InteractionManager#rightup\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device button (usually a mouse left-button) is pressed and released on\n     * the display object.\n     *\n     * @event InteractionManager#click\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device secondary button (usually a mouse right-button) is pressed\n     * and released on the display object.\n     *\n     * @event InteractionManager#rightclick\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device button (usually a mouse left-button) is released outside the\n     * display object that initially registered a\n     * [mousedown]{@link InteractionManager#event:mousedown}.\n     *\n     * @event InteractionManager#mouseupoutside\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device secondary button (usually a mouse right-button) is released\n     * outside the display object that initially registered a\n     * [rightdown]{@link InteractionManager#event:rightdown}.\n     *\n     * @event InteractionManager#rightupoutside\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device (usually a mouse) is moved while over the display object\n     *\n     * @event InteractionManager#mousemove\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device (usually a mouse) is moved onto the display object\n     *\n     * @event InteractionManager#mouseover\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device (usually a mouse) is moved off the display object\n     *\n     * @event InteractionManager#mouseout\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device button is pressed on the display object.\n     *\n     * @event InteractionManager#pointerdown\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device button is released over the display object.\n     *\n     * @event InteractionManager#pointerup\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when the operating system cancels a pointer event\n     *\n     * @event InteractionManager#pointercancel\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device button is pressed and released on the display object.\n     *\n     * @event InteractionManager#pointertap\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device button is released outside the display object that initially\n     * registered a [pointerdown]{@link InteractionManager#event:pointerdown}.\n     *\n     * @event InteractionManager#pointerupoutside\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device is moved while over the display object\n     *\n     * @event InteractionManager#pointermove\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device is moved onto the display object\n     *\n     * @event InteractionManager#pointerover\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device is moved off the display object\n     *\n     * @event InteractionManager#pointerout\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a touch point is placed on the display object.\n     *\n     * @event InteractionManager#touchstart\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a touch point is removed from the display object.\n     *\n     * @event InteractionManager#touchend\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when the operating system cancels a touch\n     *\n     * @event InteractionManager#touchcancel\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a touch point is placed and removed from the display object.\n     *\n     * @event InteractionManager#tap\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a touch point is removed outside of the display object that initially\n     * registered a [touchstart]{@link InteractionManager#event:touchstart}.\n     *\n     * @event InteractionManager#touchendoutside\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a touch point is moved along the display object.\n     *\n     * @event InteractionManager#touchmove\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device button (usually a mouse left-button) is pressed on the display.\n     * object. DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#mousedown\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device secondary button (usually a mouse right-button) is pressed\n     * on the display object. DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#rightdown\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device button (usually a mouse left-button) is released over the display\n     * object. DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#mouseup\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device secondary button (usually a mouse right-button) is released\n     * over the display object. DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#rightup\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device button (usually a mouse left-button) is pressed and released on\n     * the display object. DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#click\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device secondary button (usually a mouse right-button) is pressed\n     * and released on the display object. DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#rightclick\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device button (usually a mouse left-button) is released outside the\n     * display object that initially registered a\n     * [mousedown]{@link Object3D#event:mousedown}.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#mouseupoutside\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device secondary button (usually a mouse right-button) is released\n     * outside the display object that initially registered a\n     * [rightdown]{@link Object3D#event:rightdown}.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#rightupoutside\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device (usually a mouse) is moved while over the display object.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#mousemove\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device (usually a mouse) is moved onto the display object.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#mouseover\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device (usually a mouse) is moved off the display object.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#mouseout\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device button is pressed on the display object.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#pointerdown\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device button is released over the display object.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#pointerup\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when the operating system cancels a pointer event.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#pointercancel\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device button is pressed and released on the display object.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#pointertap\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device button is released outside the display object that initially\n     * registered a [pointerdown]{@link Object3D#event:pointerdown}.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#pointerupoutside\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device is moved while over the display object.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#pointermove\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device is moved onto the display object.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#pointerover\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a pointer device is moved off the display object.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#pointerout\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a touch point is placed on the display object.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#touchstart\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a touch point is removed from the display object.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#touchend\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when the operating system cancels a touch.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#touchcancel\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a touch point is placed and removed from the display object.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#tap\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a touch point is removed outside of the display object that initially\n     * registered a [touchstart]{@link Object3D#event:touchstart}.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#touchendoutside\n     * @param {InteractionEvent} event - Interaction event\n     */\n\n    /**\n     * Fired when a touch point is moved along the display object.\n     * DisplayObject's `interactive` property must be set to `true` to fire event.\n     *\n     * @event Object3D#touchmove\n     * @param {InteractionEvent} event - Interaction event\n     */\n  }\n\n  /**\n   * Hit tests a point against the display tree, returning the first interactive object that is hit.\n   *\n   * @param {Point} globalPoint - A point to hit test with, in global space.\n   * @param {Object3D} [root] - The root display object to start from. If omitted, defaults\n   * to the last rendered root of the associated renderer.\n   * @return {Object3D} The hit display object, if any.\n   */\n  hitTest(globalPoint, root) {\n    // clear the target for our hit test\n    hitTestEvent.target = null;\n    // assign the global point\n    hitTestEvent.data.global = globalPoint;\n    // ensure safety of the root\n    if (!root) {\n      root = this.renderer;\n    }\n    // run the hit test\n    this.processInteractive(\n      hitTestEvent,\n      root,\n      null,\n      true\n    );\n    // return our found object - it'll be null if we didn't hit anything\n\n    return hitTestEvent.target;\n  }\n\n  /**\n   * Sets the DOM element which will receive mouse/touch events. This is useful for when you have\n   * other DOM elements on top of the renderers Canvas element. With this you'll be bale to deletegate\n   * another DOM element to receive those events.\n   *\n   * @param {HTMLCanvasElement} element - the DOM element which will receive mouse and touch events.\n   */\n  setTargetElement(element) {\n    this.removeEvents();\n\n    this.interactionDOMElement = element;\n\n    this.addEvents();\n  }\n\n  /**\n   * Registers all the DOM events\n   *\n   * @private\n   */\n  addEvents() {\n    if (!this.interactionDOMElement || this.eventsAdded) {\n      return;\n    }\n\n    this.emit('addevents');\n\n    this.interactionDOMElement.addEventListener('click', this.onClick, true);\n\n    if (window.navigator.msPointerEnabled) {\n      this.interactionDOMElement.style['-ms-content-zooming'] = 'none';\n      this.interactionDOMElement.style['-ms-touch-action'] = 'none';\n    } else if (this.supportsPointerEvents) {\n      this.interactionDOMElement.style['touch-action'] = 'none';\n    }\n\n    /**\n     * These events are added first, so that if pointer events are normalised, they are fired\n     * in the same order as non-normalised events. ie. pointer event 1st, mouse / touch 2nd\n     */\n    if (this.supportsPointerEvents) {\n      window.document.addEventListener('pointermove', this.onPointerMove, true);\n      this.interactionDOMElement.addEventListener('pointerdown', this.onPointerDown, true);\n      // pointerout is fired in addition to pointerup (for touch events) and pointercancel\n      // we already handle those, so for the purposes of what we do in onPointerOut, we only\n      // care about the pointerleave event\n      this.interactionDOMElement.addEventListener('pointerleave', this.onPointerOut, true);\n      this.interactionDOMElement.addEventListener('pointerover', this.onPointerOver, true);\n      window.addEventListener('pointercancel', this.onPointerCancel, true);\n      window.addEventListener('pointerup', this.onPointerUp, true);\n    } else {\n      window.document.addEventListener('mousemove', this.onPointerMove, true);\n      this.interactionDOMElement.addEventListener('mousedown', this.onPointerDown, true);\n      this.interactionDOMElement.addEventListener('mouseout', this.onPointerOut, true);\n      this.interactionDOMElement.addEventListener('mouseover', this.onPointerOver, true);\n      window.addEventListener('mouseup', this.onPointerUp, true);\n    }\n\n    // always look directly for touch events so that we can provide original data\n    // In a future version we should change this to being just a fallback and rely solely on\n    // PointerEvents whenever available\n    if (this.supportsTouchEvents) {\n      this.interactionDOMElement.addEventListener('touchstart', this.onPointerDown, true);\n      this.interactionDOMElement.addEventListener('touchcancel', this.onPointerCancel, true);\n      this.interactionDOMElement.addEventListener('touchend', this.onPointerUp, true);\n      this.interactionDOMElement.addEventListener('touchmove', this.onPointerMove, true);\n    }\n\n    this.eventsAdded = true;\n  }\n\n  /**\n   * Removes all the DOM events that were previously registered\n   *\n   * @private\n   */\n  removeEvents() {\n    if (!this.interactionDOMElement) {\n      return;\n    }\n\n    this.emit('removeevents');\n\n    this.interactionDOMElement.removeEventListener('click', this.onClick, true);\n\n    if (window.navigator.msPointerEnabled) {\n      this.interactionDOMElement.style['-ms-content-zooming'] = '';\n      this.interactionDOMElement.style['-ms-touch-action'] = '';\n    } else if (this.supportsPointerEvents) {\n      this.interactionDOMElement.style['touch-action'] = '';\n    }\n\n    if (this.supportsPointerEvents) {\n      window.document.removeEventListener('pointermove', this.onPointerMove, true);\n      this.interactionDOMElement.removeEventListener('pointerdown', this.onPointerDown, true);\n      this.interactionDOMElement.removeEventListener('pointerleave', this.onPointerOut, true);\n      this.interactionDOMElement.removeEventListener('pointerover', this.onPointerOver, true);\n      window.removeEventListener('pointercancel', this.onPointerCancel, true);\n      window.removeEventListener('pointerup', this.onPointerUp, true);\n    } else {\n      window.document.removeEventListener('mousemove', this.onPointerMove, true);\n      this.interactionDOMElement.removeEventListener('mousedown', this.onPointerDown, true);\n      this.interactionDOMElement.removeEventListener('mouseout', this.onPointerOut, true);\n      this.interactionDOMElement.removeEventListener('mouseover', this.onPointerOver, true);\n      window.removeEventListener('mouseup', this.onPointerUp, true);\n    }\n\n    if (this.supportsTouchEvents) {\n      this.interactionDOMElement.removeEventListener('touchstart', this.onPointerDown, true);\n      this.interactionDOMElement.removeEventListener('touchcancel', this.onPointerCancel, true);\n      this.interactionDOMElement.removeEventListener('touchend', this.onPointerUp, true);\n      this.interactionDOMElement.removeEventListener('touchmove', this.onPointerMove, true);\n    }\n\n    this.interactionDOMElement = null;\n\n    this.eventsAdded = false;\n  }\n\n  /**\n   * Updates the state of interactive objects.\n   * Invoked by a throttled ticker.\n   *\n   * @param {number} deltaTime - time delta since last tick\n   */\n  update({snippet}) {\n    this._deltaTime += snippet;\n\n    if (this._deltaTime < this.interactionFrequency) {\n      return;\n    }\n\n    this._deltaTime = 0;\n\n    if (!this.interactionDOMElement) {\n      return;\n    }\n\n    // if the user move the mouse this check has already been done using the mouse move!\n    if (this.didMove) {\n      this.didMove = false;\n\n      return;\n    }\n\n    this.cursor = null;\n\n    // Resets the flag as set by a stopPropagation call. This flag is usually reset by a user interaction of any kind,\n    // but there was a scenario of a display object moving under a static mouse cursor.\n    // In this case, mouseover and mouseevents would not pass the flag test in triggerEvent function\n    for (const k in this.activeInteractionData) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (this.activeInteractionData.hasOwnProperty(k)) {\n        const interactionData = this.activeInteractionData[k];\n\n        if (interactionData.originalEvent && interactionData.pointerType !== 'touch') {\n          const interactionEvent = this.configureInteractionEventForDOMEvent(\n            this.eventData,\n            interactionData.originalEvent,\n            interactionData\n          );\n\n          this.processInteractive(\n            interactionEvent,\n            this.renderer.currentScene,\n            this.processPointerOverOut,\n            true\n          );\n        }\n      }\n    }\n\n    this.setCursorMode(this.cursor);\n\n    // TODO\n  }\n\n  /**\n   * Sets the current cursor mode, handling any callbacks or CSS style changes.\n   *\n   * @param {string} mode - cursor mode, a key from the cursorStyles dictionary\n   */\n  setCursorMode(mode) {\n    mode = mode || 'default';\n    // if the mode didn't actually change, bail early\n    if (this.currentCursorMode === mode) {\n      return;\n    }\n    this.currentCursorMode = mode;\n    const style = this.cursorStyles[mode];\n\n    // only do things if there is a cursor style for it\n    if (style) {\n      switch (typeof style) {\n      case 'string':\n        // string styles are handled as cursor CSS\n        this.interactionDOMElement.style.cursor = style;\n        break;\n      case 'function':\n        // functions are just called, and passed the cursor mode\n        style(mode);\n        break;\n      case 'object':\n        // if it is an object, assume that it is a dictionary of CSS styles,\n        // apply it to the interactionDOMElement\n        Object.assign(this.interactionDOMElement.style, style);\n        break;\n      default:\n        break;\n      }\n    } else if (typeof mode === 'string' && !Object.prototype.hasOwnProperty.call(this.cursorStyles, mode)) {\n      // if it mode is a string (not a Symbol) and cursorStyles doesn't have any entry\n      // for the mode, then assume that the dev wants it to be CSS for the cursor.\n      this.interactionDOMElement.style.cursor = mode;\n    }\n  }\n\n  /**\n   * Dispatches an event on the display object that was interacted with\n   *\n   * @param {Object3D} displayObject - the display object in question\n   * @param {string} eventString - the name of the event (e.g, mousedown)\n   * @param {object} eventData - the event data object\n   * @private\n   */\n  triggerEvent(displayObject, eventString, eventData) {\n    if (!eventData.stopped) {\n      eventData.currentTarget = displayObject;\n      eventData.type = eventString;\n\n      displayObject.emit(eventString, eventData);\n\n      if (displayObject[eventString]) {\n        displayObject[eventString](eventData);\n      }\n    }\n  }\n\n  /**\n   * Maps x and y coords from a DOM object and maps them correctly to the three.js view. The\n   * resulting value is stored in the point. This takes into account the fact that the DOM\n   * element could be scaled and positioned anywhere on the screen.\n   *\n   * @param  {InteractionData} interactionData - the point that the result will be stored in\n   * @param  {number} x - the x coord of the position to map\n   * @param  {number} y - the y coord of the position to map\n   */\n  mapPositionToPoint(interactionData, x, y) {\n    const {resolution, global} = interactionData;\n    let rect;\n\n    // IE 11 fix\n    if (!this.interactionDOMElement.parentElement) {\n      rect = {\n        x: 0,\n        y: 0,\n        left: 0,\n        top: 0,\n        width: 0,\n        height: 0,\n      };\n    } else {\n      rect = this.interactionDOMElement.getBoundingClientRect();\n    }\n\n    resolution.x = this.interactionDOMElement.width / rect.width;\n    resolution.y = this.interactionDOMElement.height / rect.height;\n\n    global.x = (x - rect.left) * resolution.x;\n    global.y = (y - rect.top) * resolution.y;\n  }\n\n  /**\n   * This function is provides a neat way of crawling through the scene graph and running a\n   * specified function on all interactive objects it finds. It will also take care of hit\n   * testing the interactive objects and passes the hit across in the function.\n   *\n   * @private\n   * @param {InteractionEvent} interactionEvent - event containing the point that\n   *  is tested for collision\n   * @param {Object3D} displayObject - the displayObject\n   *  that will be hit test (recursively crawls its children)\n   * @param {Function} [func] - the function that will be called on each interactive object. The\n   *  interactionEvent, displayObject and hit will be passed to the function\n   * @param {boolean} [hitTest] - this indicates if the objects inside should be hit test against the point\n   * @param {boolean} [interactive] - Whether the displayObject is interactive\n   * @return {boolean} returns true if the displayObject hit the point\n   */\n  processInteractive(interactionEvent, displayObject, func, hitTest, interactive) {\n    if (!displayObject || !displayObject.visible) {\n      return false;\n    }\n\n    const point = interactionEvent.data.global;\n\n    // Took a little while to rework this function correctly! But now it is done and nice and optimised. ^_^\n    //\n    // This function will now loop through all objects and then only hit test the objects it HAS\n    // to, not all of them. MUCH faster..\n    // An object will be hit test if the following is true:\n    //\n    // 1: It is interactive.\n    // 2: It belongs to a parent that is interactive AND one of the parents children have not already been hit.\n    //\n    // As another little optimisation once an interactive object has been hit we can carry on\n    // through the scenegraph, but we know that there will be no more hits! So we can avoid extra hit tests\n    // A final optimisation is that an object is not hit test directly if a child has already been hit.\n\n    interactive = displayObject.interactive || interactive;\n\n    let hit = false;\n    let interactiveParent = interactive;\n\n    if (displayObject.interactiveChildren && displayObject.childs) {\n      const children = displayObject.childs;\n\n      for (let i = children.length - 1; i >= 0; i--) {\n        const child = children[i];\n\n        // time to get recursive.. if this function will return if something is hit..\n        const childHit = this.processInteractive(\n          interactionEvent,\n          child,\n          func,\n          hitTest,\n          interactiveParent\n        );\n\n        if (childHit) {\n          // its a good idea to check if a child has lost its parent.\n          // this means it has been removed whilst looping so its best\n          if (!child.parent) {\n            continue;\n          }\n\n          // we no longer need to hit test any more objects in this container as we we\n          // now know the parent has been hit\n          interactiveParent = false;\n\n          // If the child is interactive , that means that the object hit was actually\n          // interactive and not just the child of an interactive object.\n          // This means we no longer need to hit test anything else. We still need to run\n          // through all objects, but we don't need to perform any hit tests.\n\n          if (childHit) {\n            if (interactionEvent.target) {\n              hitTest = false;\n            }\n            hit = true;\n          }\n        }\n      }\n    }\n\n    // no point running this if the item is not interactive or does not have an interactive parent.\n    if (interactive) {\n      // if we are hit testing (as in we have no hit any objects yet)\n      // We also don't need to worry about hit testing if once of the displayObjects children\n      // has already been hit - but only if it was interactive, otherwise we need to keep\n      // looking for an interactive child, just in case we hit one\n      if (hitTest && !interactionEvent.target) {\n        if (displayObject.contains(point)) {\n          hit = true;\n        }\n      }\n\n      if (displayObject.interactive) {\n        if (hit && !interactionEvent.target) {\n          interactionEvent.data.target = interactionEvent.target = displayObject;\n        }\n\n        if (func) {\n          func(interactionEvent, displayObject, !!hit);\n        }\n      }\n    }\n\n    return hit;\n  }\n\n\n  /**\n   * Is called when the click is pressed down on the renderer element\n   *\n   * @private\n   * @param {MouseEvent} originalEvent - The DOM event of a click being pressed down\n   */\n  onClick(originalEvent) {\n    if (originalEvent.type !== 'click') return;\n\n    const events = this.normalizeToPointerData(originalEvent);\n\n    if (this.autoPreventDefault && events[0].isNormalized) {\n      originalEvent.preventDefault();\n    }\n\n    const interactionData = this.getInteractionDataForPointerId(events[0]);\n\n    const interactionEvent = this.configureInteractionEventForDOMEvent(this.eventData, event, interactionData);\n\n    interactionEvent.data.originalEvent = originalEvent;\n\n    this.processInteractive(\n      interactionEvent,\n      this.renderer.currentScene,\n      this.processClick,\n      true\n    );\n\n    this.emit('click', interactionEvent);\n  }\n\n  /**\n   * Processes the result of the click check and dispatches the event if need be\n   *\n   * @private\n   * @param {InteractionEvent} interactionEvent - The interaction event wrapping the DOM event\n   * @param {Object3D} displayObject - The display object that was tested\n   * @param {boolean} hit - the result of the hit test on the display object\n   */\n  processClick(interactionEvent, displayObject, hit) {\n    if (hit) {\n      this.triggerEvent(displayObject, 'click', interactionEvent);\n    }\n  }\n\n  /**\n   * Is called when the pointer button is pressed down on the renderer element\n   *\n   * @private\n   * @param {PointerEvent} originalEvent - The DOM event of a pointer button being pressed down\n   */\n  onPointerDown(originalEvent) {\n    // if we support touch events, then only use those for touch events, not pointer events\n    if (this.supportsTouchEvents && originalEvent.pointerType === 'touch') return;\n\n    const events = this.normalizeToPointerData(originalEvent);\n\n    /**\n     * No need to prevent default on natural pointer events, as there are no side effects\n     * Normalized events, however, may have the double mousedown/touchstart issue on the native android browser,\n     * so still need to be prevented.\n     */\n\n    // Guaranteed that there will be at least one event in events, and all events must have the same pointer type\n\n    if (this.autoPreventDefault && events[0].isNormalized) {\n      originalEvent.preventDefault();\n    }\n\n    const eventLen = events.length;\n\n    for (let i = 0; i < eventLen; i++) {\n      const event = events[i];\n\n      const interactionData = this.getInteractionDataForPointerId(event);\n\n      const interactionEvent = this.configureInteractionEventForDOMEvent(this.eventData, event, interactionData);\n\n      interactionEvent.data.originalEvent = originalEvent;\n\n      this.processInteractive(\n        interactionEvent,\n        this.renderer.currentScene,\n        this.processPointerDown,\n        true\n      );\n\n      this.emit('pointerdown', interactionEvent);\n      if (event.pointerType === 'touch') {\n        this.emit('touchstart', interactionEvent);\n      } else if (event.pointerType === 'mouse' || event.pointerType === 'pen') {\n        const isRightButton = event.button === 2;\n\n        this.emit(isRightButton ? 'rightdown' : 'mousedown', this.eventData);\n      }\n    }\n  }\n\n  /**\n   * Processes the result of the pointer down check and dispatches the event if need be\n   *\n   * @private\n   * @param {InteractionEvent} interactionEvent - The interaction event wrapping the DOM event\n   * @param {Object3D} displayObject - The display object that was tested\n   * @param {boolean} hit - the result of the hit test on the display object\n   */\n  processPointerDown(interactionEvent, displayObject, hit) {\n    const data = interactionEvent.data;\n    const id = interactionEvent.data.identifier;\n\n    if (hit) {\n      if (!displayObject.trackedPointers[id]) {\n        displayObject.trackedPointers[id] = new InteractionTrackingData(id);\n      }\n      this.triggerEvent(displayObject, 'pointerdown', interactionEvent);\n\n      if (data.pointerType === 'touch') {\n        displayObject.started = true;\n        this.triggerEvent(displayObject, 'touchstart', interactionEvent);\n      } else if (data.pointerType === 'mouse' || data.pointerType === 'pen') {\n        const isRightButton = data.button === 2;\n\n        if (isRightButton) {\n          displayObject.trackedPointers[id].rightDown = true;\n        } else {\n          displayObject.trackedPointers[id].leftDown = true;\n        }\n\n        this.triggerEvent(displayObject, isRightButton ? 'rightdown' : 'mousedown', interactionEvent);\n      }\n    }\n  }\n\n  /**\n   * Is called when the pointer button is released on the renderer element\n   *\n   * @private\n   * @param {PointerEvent} originalEvent - The DOM event of a pointer button being released\n   * @param {boolean} cancelled - true if the pointer is cancelled\n   * @param {Function} func - Function passed to {@link processInteractive}\n   */\n  onPointerComplete(originalEvent, cancelled, func) {\n    const events = this.normalizeToPointerData(originalEvent);\n\n    const eventLen = events.length;\n\n    // if the event wasn't targeting our canvas, then consider it to be pointerupoutside\n    // in all cases (unless it was a pointercancel)\n    const eventAppend = originalEvent.target !== this.interactionDOMElement ? 'outside' : '';\n\n    for (let i = 0; i < eventLen; i++) {\n      const event = events[i];\n\n      const interactionData = this.getInteractionDataForPointerId(event);\n\n      const interactionEvent = this.configureInteractionEventForDOMEvent(this.eventData, event, interactionData);\n\n      interactionEvent.data.originalEvent = originalEvent;\n\n      // perform hit testing for events targeting our canvas or cancel events\n      this.processInteractive(\n        interactionEvent,\n        this.renderer.currentScene,\n        func,\n        cancelled || !eventAppend\n      );\n\n      this.emit(cancelled ? 'pointercancel' : `pointerup${eventAppend}`, interactionEvent);\n\n      if (event.pointerType === 'mouse' || event.pointerType === 'pen') {\n        const isRightButton = event.button === 2;\n\n        this.emit(isRightButton ? `rightup${eventAppend}` : `mouseup${eventAppend}`, interactionEvent);\n      } else if (event.pointerType === 'touch') {\n        this.emit(cancelled ? 'touchcancel' : `touchend${eventAppend}`, interactionEvent);\n        this.releaseInteractionDataForPointerId(event.pointerId, interactionData);\n      }\n    }\n  }\n\n  /**\n   * Is called when the pointer button is cancelled\n   *\n   * @private\n   * @param {PointerEvent} event - The DOM event of a pointer button being released\n   */\n  onPointerCancel(event) {\n    // if we support touch events, then only use those for touch events, not pointer events\n    if (this.supportsTouchEvents && event.pointerType === 'touch') return;\n\n    this.onPointerComplete(event, true, this.processPointerCancel);\n  }\n\n  /**\n   * Processes the result of the pointer cancel check and dispatches the event if need be\n   *\n   * @private\n   * @param {InteractionEvent} interactionEvent - The interaction event wrapping the DOM event\n   * @param {Object3D} displayObject - The display object that was tested\n   */\n  processPointerCancel(interactionEvent, displayObject) {\n    const data = interactionEvent.data;\n\n    const id = interactionEvent.data.identifier;\n\n    if (displayObject.trackedPointers[id] !== undefined) {\n      delete displayObject.trackedPointers[id];\n      this.triggerEvent(displayObject, 'pointercancel', interactionEvent);\n\n      if (data.pointerType === 'touch') {\n        this.triggerEvent(displayObject, 'touchcancel', interactionEvent);\n      }\n    }\n  }\n\n  /**\n   * Is called when the pointer button is released on the renderer element\n   *\n   * @private\n   * @param {PointerEvent} event - The DOM event of a pointer button being released\n   */\n  onPointerUp(event) {\n    // if we support touch events, then only use those for touch events, not pointer events\n    if (this.supportsTouchEvents && event.pointerType === 'touch') return;\n\n    this.onPointerComplete(event, false, this.processPointerUp);\n  }\n\n  /**\n   * Processes the result of the pointer up check and dispatches the event if need be\n   *\n   * @private\n   * @param {InteractionEvent} interactionEvent - The interaction event wrapping the DOM event\n   * @param {Object3D} displayObject - The display object that was tested\n   * @param {boolean} hit - the result of the hit test on the display object\n   */\n  processPointerUp(interactionEvent, displayObject, hit) {\n    const data = interactionEvent.data;\n\n    const id = interactionEvent.data.identifier;\n\n    const trackingData = displayObject.trackedPointers[id];\n\n    const isTouch = data.pointerType === 'touch';\n\n    const isMouse = (data.pointerType === 'mouse' || data.pointerType === 'pen');\n\n    // Mouse only\n    if (isMouse) {\n      const isRightButton = data.button === 2;\n\n      const flags = InteractionTrackingData.FLAGS;\n\n      const test = isRightButton ? flags.RIGHT_DOWN : flags.LEFT_DOWN;\n\n      const isDown = trackingData !== undefined && (trackingData.flags & test);\n\n      if (hit) {\n        this.triggerEvent(displayObject, isRightButton ? 'rightup' : 'mouseup', interactionEvent);\n\n        if (isDown) {\n          this.triggerEvent(displayObject, isRightButton ? 'rightclick' : 'leftclick', interactionEvent);\n        }\n      } else if (isDown) {\n        this.triggerEvent(displayObject, isRightButton ? 'rightupoutside' : 'mouseupoutside', interactionEvent);\n      }\n      // update the down state of the tracking data\n      if (trackingData) {\n        if (isRightButton) {\n          trackingData.rightDown = false;\n        } else {\n          trackingData.leftDown = false;\n        }\n      }\n    }\n\n    // Pointers and Touches, and Mouse\n    if (isTouch && displayObject.started) {\n      displayObject.started = false;\n      this.triggerEvent(displayObject, 'touchend', interactionEvent);\n    }\n    if (hit) {\n      this.triggerEvent(displayObject, 'pointerup', interactionEvent);\n\n      if (trackingData) {\n        this.triggerEvent(displayObject, 'pointertap', interactionEvent);\n        if (isTouch) {\n          this.triggerEvent(displayObject, 'tap', interactionEvent);\n          // touches are no longer over (if they ever were) when we get the touchend\n          // so we should ensure that we don't keep pretending that they are\n          trackingData.over = false;\n        }\n      }\n    } else if (trackingData) {\n      this.triggerEvent(displayObject, 'pointerupoutside', interactionEvent);\n      if (isTouch) this.triggerEvent(displayObject, 'touchendoutside', interactionEvent);\n    }\n    // Only remove the tracking data if there is no over/down state still associated with it\n    if (trackingData && trackingData.none) {\n      delete displayObject.trackedPointers[id];\n    }\n  }\n\n  /**\n   * Is called when the pointer moves across the renderer element\n   *\n   * @private\n   * @param {PointerEvent} originalEvent - The DOM event of a pointer moving\n   */\n  onPointerMove(originalEvent) {\n    // if we support touch events, then only use those for touch events, not pointer events\n    if (this.supportsTouchEvents && originalEvent.pointerType === 'touch') return;\n\n    const events = this.normalizeToPointerData(originalEvent);\n\n    if (events[0].pointerType === 'mouse') {\n      this.didMove = true;\n\n      this.cursor = null;\n    }\n\n    const timeId = Date.now();\n    const eventLen = events.length;\n\n    for (let i = 0; i < eventLen; i++) {\n      const event = events[i];\n\n      const interactionData = this.getInteractionDataForPointerId(event);\n\n      const interactionEvent = this.configureInteractionEventForDOMEvent(this.eventData, event, interactionData);\n\n      interactionEvent.timeId = timeId;\n      interactionEvent.data.originalEvent = originalEvent;\n\n      const interactive = event.pointerType === 'touch' ? this.moveWhenInside : true;\n\n      this.processInteractive(\n        interactionEvent,\n        this.renderer.currentScene,\n        this.processPointerMove,\n        interactive\n      );\n      this.emit('pointermove', interactionEvent);\n      if (event.pointerType === 'touch') this.emit('touchmove', interactionEvent);\n      if (event.pointerType === 'mouse' || event.pointerType === 'pen') this.emit('mousemove', interactionEvent);\n    }\n\n    if (events[0].pointerType === 'mouse') {\n      this.setCursorMode(this.cursor);\n\n      // TODO BUG for parents interactive object (border order issue)\n    }\n  }\n\n  /**\n   * Processes the result of the pointer move check and dispatches the event if need be\n   *\n   * @private\n   * @param {InteractionEvent} interactionEvent - The interaction event wrapping the DOM event\n   * @param {Object3D} displayObject - The display object that was tested\n   * @param {boolean} hit - the result of the hit test on the display object\n   */\n  processPointerMove(interactionEvent, displayObject, hit) {\n    const data = interactionEvent.data;\n\n    const isTouch = data.pointerType === 'touch';\n\n    const isMouse = (data.pointerType === 'mouse' || data.pointerType === 'pen');\n\n    if (isMouse) {\n      this.processPointerOverOut(interactionEvent, displayObject, hit);\n    }\n\n    if (isTouch && displayObject.started) this.triggerEvent(displayObject, 'touchmove', interactionEvent);\n    if (!this.moveWhenInside || hit) {\n      this.triggerEvent(displayObject, 'pointermove', interactionEvent);\n      if (isMouse) this.triggerEvent(displayObject, 'mousemove', interactionEvent);\n    }\n  }\n\n  /**\n   * Is called when the pointer is moved out of the renderer element\n   *\n   * @private\n   * @param {PointerEvent} originalEvent - The DOM event of a pointer being moved out\n   */\n  onPointerOut(originalEvent) {\n    // if we support touch events, then only use those for touch events, not pointer events\n    if (this.supportsTouchEvents && originalEvent.pointerType === 'touch') return;\n\n    const events = this.normalizeToPointerData(originalEvent);\n\n    // Only mouse and pointer can call onPointerOut, so events will always be length 1\n    const event = events[0];\n\n    if (event.pointerType === 'mouse') {\n      this.mouseOverRenderer = false;\n      this.setCursorMode(null);\n    }\n\n    const interactionData = this.getInteractionDataForPointerId(event);\n\n    const interactionEvent = this.configureInteractionEventForDOMEvent(this.eventData, event, interactionData);\n\n    interactionEvent.data.originalEvent = event;\n\n    this.processInteractive(\n      interactionEvent,\n      this.renderer.currentScene,\n      this.processPointerOverOut,\n      false\n    );\n\n    this.emit('pointerout', interactionEvent);\n    if (event.pointerType === 'mouse' || event.pointerType === 'pen') {\n      this.emit('mouseout', interactionEvent);\n    } else {\n      // we can get touchleave events after touchend, so we want to make sure we don't\n      // introduce memory leaks\n      this.releaseInteractionDataForPointerId(interactionData.identifier);\n    }\n  }\n\n  /**\n   * Processes the result of the pointer over/out check and dispatches the event if need be\n   *\n   * @private\n   * @param {InteractionEvent} interactionEvent - The interaction event wrapping the DOM event\n   * @param {Object3D} displayObject - The display object that was tested\n   * @param {boolean} hit - the result of the hit test on the display object\n   */\n  processPointerOverOut(interactionEvent, displayObject, hit) {\n    const data = interactionEvent.data;\n\n    const id = interactionEvent.data.identifier;\n\n    const isMouse = (data.pointerType === 'mouse' || data.pointerType === 'pen');\n\n    let trackingData = displayObject.trackedPointers[id];\n\n    // if we just moused over the display object, then we need to track that state\n    if (hit && !trackingData) {\n      trackingData = displayObject.trackedPointers[id] = new InteractionTrackingData(id);\n    }\n\n    if (trackingData === undefined) return;\n\n    if (hit && this.mouseOverRenderer) {\n      if (!trackingData.over) {\n        trackingData.over = true;\n        this.triggerEvent(displayObject, 'pointerover', interactionEvent);\n        if (isMouse) {\n          this.triggerEvent(displayObject, 'mouseover', interactionEvent);\n        }\n      }\n\n      // only change the cursor if it has not already been changed (by something deeper in the\n      // display tree)\n      if (isMouse && this.cursor === null) {\n        this.cursor = displayObject.cursor;\n      }\n    } else if (trackingData.over) {\n      trackingData.over = false;\n      this.triggerEvent(displayObject, 'pointerout', this.eventData);\n      if (isMouse) {\n        this.triggerEvent(displayObject, 'mouseout', interactionEvent);\n      }\n      // if there is no mouse down information for the pointer, then it is safe to delete\n      if (trackingData.none) {\n        delete displayObject.trackedPointers[id];\n      }\n    }\n  }\n\n  /**\n   * Is called when the pointer is moved into the renderer element\n   *\n   * @private\n   * @param {PointerEvent} originalEvent - The DOM event of a pointer button being moved into the renderer view\n   */\n  onPointerOver(originalEvent) {\n    const events = this.normalizeToPointerData(originalEvent);\n\n    // Only mouse and pointer can call onPointerOver, so events will always be length 1\n    const event = events[0];\n\n    const interactionData = this.getInteractionDataForPointerId(event);\n\n    const interactionEvent = this.configureInteractionEventForDOMEvent(this.eventData, event, interactionData);\n\n    interactionEvent.data.originalEvent = event;\n\n    if (event.pointerType === 'mouse') {\n      this.mouseOverRenderer = true;\n    }\n\n    this.emit('pointerover', interactionEvent);\n    if (event.pointerType === 'mouse' || event.pointerType === 'pen') {\n      this.emit('mouseover', interactionEvent);\n    }\n  }\n\n  /**\n   * Get InteractionData for a given pointerId. Store that data as well\n   *\n   * @private\n   * @param {PointerEvent} event - Normalized pointer event, output from normalizeToPointerData\n   * @return {InteractionData} - Interaction data for the given pointer identifier\n   */\n  getInteractionDataForPointerId(event) {\n    const pointerId = event.pointerId;\n\n    let interactionData;\n\n    if (pointerId === MOUSE_POINTER_ID || event.pointerType === 'mouse') {\n      interactionData = this.mouse;\n    } else if (this.activeInteractionData[pointerId]) {\n      interactionData = this.activeInteractionData[pointerId];\n    } else {\n      interactionData = this.interactionDataPool.pop() || new InteractionData();\n      interactionData.identifier = pointerId;\n      this.activeInteractionData[pointerId] = interactionData;\n    }\n    // copy properties from the event, so that we can make sure that touch/pointer specific\n    // data is available\n    interactionData._copyEvent(event);\n\n    return interactionData;\n  }\n\n  /**\n   * Return unused InteractionData to the pool, for a given pointerId\n   *\n   * @private\n   * @param {number} pointerId - Identifier from a pointer event\n   */\n  releaseInteractionDataForPointerId(pointerId) {\n    const interactionData = this.activeInteractionData[pointerId];\n\n    if (interactionData) {\n      delete this.activeInteractionData[pointerId];\n      interactionData._reset();\n      this.interactionDataPool.push(interactionData);\n    }\n  }\n\n  /**\n   * Configure an InteractionEvent to wrap a DOM PointerEvent and InteractionData\n   *\n   * @private\n   * @param {InteractionEvent} interactionEvent - The event to be configured\n   * @param {PointerEvent} pointerEvent - The DOM event that will be paired with the InteractionEvent\n   * @param {InteractionData} interactionData - The InteractionData that will be paired\n   *        with the InteractionEvent\n   * @return {InteractionEvent} the interaction event that was passed in\n   */\n  configureInteractionEventForDOMEvent(interactionEvent, pointerEvent, interactionData) {\n    interactionEvent.data = interactionData;\n\n    this.mapPositionToPoint(interactionData, pointerEvent.clientX, pointerEvent.clientY);\n\n    // this.raycaster.setFromCamera(interactionData.global, this.camera);\n\n    // Not really sure why this is happening, but it's how a previous version handled things TODO: there should be remove\n    if (pointerEvent.pointerType === 'touch') {\n      pointerEvent.globalX = interactionData.global.x;\n      pointerEvent.globalY = interactionData.global.y;\n    }\n\n    interactionData.originalEvent = pointerEvent;\n    interactionEvent._reset();\n\n    return interactionEvent;\n  }\n\n  /**\n   * Ensures that the original event object contains all data that a regular pointer event would have\n   *\n   * @private\n   * @param {TouchEvent|MouseEvent|PointerEvent} event - The original event data from a touch or mouse event\n   * @return {PointerEvent[]} An array containing a single normalized pointer event, in the case of a pointer\n   *  or mouse event, or a multiple normalized pointer events if there are multiple changed touches\n   */\n  normalizeToPointerData(event) {\n    const normalizedEvents = [];\n\n    if (this.supportsTouchEvents && event instanceof TouchEvent) {\n      for (let i = 0, li = event.changedTouches.length; i < li; i++) {\n        const touch = event.changedTouches[i];\n\n        if (typeof touch.button === 'undefined') touch.button = event.touches.length ? 1 : 0;\n        if (typeof touch.buttons === 'undefined') touch.buttons = event.touches.length ? 1 : 0;\n        if (typeof touch.isPrimary === 'undefined') {\n          touch.isPrimary = event.touches.length === 1 && event.type === 'touchstart';\n        }\n        if (typeof touch.width === 'undefined') touch.width = touch.radiusX || 1;\n        if (typeof touch.height === 'undefined') touch.height = touch.radiusY || 1;\n        if (typeof touch.tiltX === 'undefined') touch.tiltX = 0;\n        if (typeof touch.tiltY === 'undefined') touch.tiltY = 0;\n        if (typeof touch.pointerType === 'undefined') touch.pointerType = 'touch';\n        if (typeof touch.pointerId === 'undefined') touch.pointerId = touch.identifier || 0;\n        if (typeof touch.pressure === 'undefined') touch.pressure = touch.force || 0.5;\n        touch.twist = 0;\n        touch.tangentialPressure = 0;\n        // TODO: Remove these, as layerX/Y is not a standard, is deprecated, has uneven\n        // support, and the fill ins are not quite the same\n        // offsetX/Y might be okay, but is not the same as clientX/Y when the canvas's top\n        // left is not 0,0 on the page\n        if (typeof touch.layerX === 'undefined') touch.layerX = touch.offsetX = touch.clientX;\n        if (typeof touch.layerY === 'undefined') touch.layerY = touch.offsetY = touch.clientY;\n\n        // mark the touch as normalized, just so that we know we did it\n        touch.isNormalized = true;\n\n        normalizedEvents.push(touch);\n      }\n    } else if (event instanceof MouseEvent && (!this.supportsPointerEvents || !(event instanceof window.PointerEvent))) {\n      if (typeof event.isPrimary === 'undefined') event.isPrimary = true;\n      if (typeof event.width === 'undefined') event.width = 1;\n      if (typeof event.height === 'undefined') event.height = 1;\n      if (typeof event.tiltX === 'undefined') event.tiltX = 0;\n      if (typeof event.tiltY === 'undefined') event.tiltY = 0;\n      if (typeof event.pointerType === 'undefined') event.pointerType = 'mouse';\n      if (typeof event.pointerId === 'undefined') event.pointerId = MOUSE_POINTER_ID;\n      if (typeof event.pressure === 'undefined') event.pressure = 0.5;\n      event.twist = 0;\n      event.tangentialPressure = 0;\n\n      // mark the mouse event as normalized, just so that we know we did it\n      event.isNormalized = true;\n\n      normalizedEvents.push(event);\n    } else {\n      normalizedEvents.push(event);\n    }\n\n    return normalizedEvents;\n  }\n\n  /**\n   * Destroys the interaction manager\n   *\n   */\n  destroy() {\n    this.removeEvents();\n\n    this.removeAllListeners();\n\n    this.renderer = null;\n\n    this.mouse = null;\n\n    this.eventData = null;\n\n    this.interactionDOMElement = null;\n\n    this.onPointerDown = null;\n    this.processPointerDown = null;\n\n    this.onPointerUp = null;\n    this.processPointerUp = null;\n\n    this.onPointerCancel = null;\n    this.processPointerCancel = null;\n\n    this.onPointerMove = null;\n    this.processPointerMove = null;\n\n    this.onPointerOut = null;\n    this.processPointerOverOut = null;\n\n    this.onPointerOver = null;\n\n    this._tempPoint = null;\n  }\n}\n\nexport default InteractionManager;\n","import {Utils} from '../utils/Utils';\nimport {Matrix} from '../math/Matrix';\nimport InteractionManager from '../eventer/InteractionManager';\n\n/**\n * @param {object} options 舞台的配置项\n * @param {string} options.dom 舞台要附着的`canvas`元素\n * @param {number} [options.resolution] 设置舞台的分辨率，`默认为` 1\n * @param {boolean} [options.interactive] 设置舞台是否可交互，`默认为` true\n * @param {number} [options.width] 设置舞台的宽, `默认为` 附着的canvas.width\n * @param {number} [options.height] 设置舞台的高, `默认为` 附着的canvas.height\n * @param {string} [options.backgroundColor] 设置舞台的背景颜色，`默认为` ‘transparent’\n */\nfunction Renderer(options) {\n  /**\n   * 场景的canvas的dom\n   *\n   * @member {CANVAS}\n   */\n  this.canvas = Utils.isString(options.dom) ?\n    document.getElementById(options.dom) ||\n    document.querySelector(options.dom) :\n    options.dom;\n\n  this.realWidth = options.width || this.canvas.width;\n  this.realHeight = options.height || this.canvas.height;\n\n  /**\n   * 场景的canvas的绘图环境\n   *\n   * @member {context2d}\n   */\n  this.ctx = this.canvas.getContext('2d');\n  this.canvas.style.backgroundColor = options.backgroundColor || 'transparent';\n\n  /**\n   * 场景是否自动清除上一帧的像素内容\n   *\n   * @member {Boolean}\n   */\n  this.autoClear = true;\n\n  /**\n   * 场景是否应用style控制宽高\n   *\n   * @member {Boolean}\n   */\n  this.autoStyle = false;\n\n  /**\n   * 整个场景的初始矩阵\n   */\n  this.rootMatrix = new Matrix();\n\n  /**\n   * 场景分辨率\n   *\n   * @member {Number}\n   * @private\n   */\n  this._resolution = 0;\n\n\n  /**\n   * 场景分辨率\n   *\n   * @member {Number}\n   */\n  this.resolution = options.resolution || 1;\n\n  /**\n   * canvas的宽度\n   *\n   * @member {Number}\n   */\n  this.width = this.canvas.width = this.realWidth * this.resolution;\n\n  /**\n   * canvas的高度\n   *\n   * @member {Number}\n   */\n  this.height = this.canvas.height = this.realHeight * this.resolution;\n\n  this.interactionManager = new InteractionManager(this);\n\n  /**\n   * 舞台是否可交互\n   *\n   * @member {Boolean}\n   * @private\n   */\n  this._enableinteractive = null;\n\n  // update interaction in every tick\n  const interactionUpdate = (snippet) => {\n    this.interactionManager.update(snippet);\n  };\n\n  this.interactiveOnChange = function() {\n    if (this.enableinteractive) {\n      this.on('prerender', interactionUpdate);\n      this.interactionManager.addEvents();\n    } else {\n      this.off('prerender', interactionUpdate);\n      this.interactionManager.removeEvents();\n    }\n  };\n\n  this.enableinteractive = Utils.isBoolean(options.interactive) ?\n    options.interactive :\n    true;\n\n  this.currentScene = null;\n}\n\nRenderer.prototype.clear = function() {\n  this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n  this.ctx.clearRect(0, 0, this.width, this.height);\n};\n\nRenderer.prototype.render = function(scene, snippet) {\n  this.currentScene = scene;\n\n  this.emit('preupdate', snippet);\n  this.currentScene.updateTimeline(snippet);\n  this.currentScene.updatePosture(this.rootMatrix);\n  this.emit('postupdate', snippet);\n\n\n  this.emit('prerender', snippet);\n  if (this.autoClear) this.clear();\n  this.currentScene.render(this.ctx);\n  this.emit('postrender', snippet);\n};\n\n/**\n * 舞台尺寸设置\n *\n * @param {number} w canvas的width值\n * @param {number} h canvas的height值\n */\nRenderer.prototype.resize = function(w, h) {\n  if (Utils.isNumber(w) && Utils.isNumber(h)) {\n    this.realWidth = w;\n    this.realHeight = h;\n  } else {\n    w = this.realWidth;\n    h = this.realHeight;\n  }\n  this.width = this.canvas.width = w * this.resolution;\n  this.height = this.canvas.height = h * this.resolution;\n};\n\n/**\n * proxy this.interactionManager event-emit\n * Emit an event to all registered event listeners.\n *\n * @param {String} event The name of the event.\n */\nRenderer.prototype.emit = function(...args) {\n  this.interactionManager.emit(...args);\n};\n\n/**\n * proxy this.interactionManager event-on\n * Register a new EventListener for the given event.\n *\n * @param {String} event Name of the event.\n * @param {Function} fn Callback function.\n * @param {Mixed} [context=this] The context of the function.\n */\nRenderer.prototype.on = function(...args) {\n  this.interactionManager.on(...args);\n};\n\n/**\n * proxy this.interactionManager event-once\n * Add an EventListener that's only called once.\n *\n * @param {String} event Name of the event.\n * @param {Function} fn Callback function.\n * @param {Mixed} [context=this] The context of the function.\n */\nRenderer.prototype.once = function(...args) {\n  this.interactionManager.once(...args);\n};\n\n/**\n * proxy this.interactionManager event-off\n * @param {String} event The event we want to remove.\n * @param {Function} fn The listener that we need to find.\n * @param {Mixed} context Only remove listeners matching this context.\n * @param {Boolean} once Only remove once listeners.\n */\nRenderer.prototype.off = function(...args) {\n  this.interactionManager.off(...args);\n};\n\n/**\n * 场景设置分辨率\n *\n * @member {Number}\n * @name resolution\n * @memberof JC.Renderer#\n */\nObject.defineProperty(Renderer.prototype, 'resolution', {\n  get: function() {\n    return this._resolution;\n  },\n  set: function(value) {\n    if (this._resolution !== value) {\n      this._resolution = value;\n      this.rootMatrix.identity().scale(value, value);\n      this.resize();\n    }\n  },\n});\n\n/**\n * 标记场景是否可交互，涉及到是否进行事件检测\n *\n * @member {Boolean}\n * @name enableinteractive\n * @memberof JC.Renderer#\n */\nObject.defineProperty(Renderer.prototype, 'enableinteractive', {\n  get: function() {\n    return this._enableinteractive;\n  },\n  set: function(value) {\n    if (this._enableinteractive !== value) {\n      this._enableinteractive = value;\n      this.interactiveOnChange();\n    }\n  },\n});\n\nexport {Renderer};\n","import {Renderer} from './Renderer';\nimport {Scene} from './Scene';\nimport {Ticker} from '../utils/Ticker';\n\n/**\n * @memberof JC\n * @param {object} options 舞台的配置项\n * @param {string} options.dom 舞台要附着的`canvas`元素\n * @param {number} [options.resolution] 设置舞台的分辨率，`默认为` 1\n * @param {boolean} [options.interactive] 设置舞台是否可交互，`默认为` true\n * @param {number} [options.width] 设置舞台的宽, `默认为` 附着的canvas.width\n * @param {number} [options.height] 设置舞台的高, `默认为` 附着的canvas.height\n * @param {string} [options.backgroundColor] 设置舞台的背景颜色，`默认为` ‘transparent’\n * @param {boolean} [options.enableFPS] 设置舞台是否记录帧率，`默认为` true\n */\nfunction Application(options) {\n  this.renderer = new Renderer(options);\n  this.scene = new Scene();\n\n  this.ticker = new Ticker(options.enableFPS);\n\n  this.ticker.on('tick', (snippet) => {\n    this.update(snippet);\n  });\n\n  this.ticker.start();\n}\n\nApplication.prototype.update = function(snippet) {\n  this.renderer.render(this.scene, snippet);\n};\n\nexport {Application};\n","/**\n * GraphicsMask class\n * @class\n * @private\n */\nclass GraphicsMask {\n  /**\n   * GraphicsMask constructor\n   * @param {object} elem elem\n   * @param {object} config layer data information\n   */\n  constructor(elem, config) {\n    this.elem = elem;\n    this.config = config;\n\n    this.masks = [];\n  }\n\n  /**\n   * a\n   * @param {*} masks a\n   */\n  updateLottieMasks(masks) {\n    this.masks = masks;\n  }\n\n  /**\n   * render content\n   * @param {object} ctx\n   */\n  render(ctx) {\n    if (this.masks.length <= 0) return;\n    ctx.beginPath();\n    const masks = this.masks;\n    for (let i = 0; i < masks.viewData.length; i++) {\n      if (masks.viewData[i].inv) {\n        const size = this.config.session.local;\n        ctx.moveTo(0, 0);\n        ctx.lineTo(size.w, 0);\n        ctx.lineTo(size.w, size.h);\n        ctx.lineTo(0, size.h);\n        ctx.lineTo(0, 0);\n      }\n      const data = masks.viewData[i].v;\n      const start = data.v[0];\n      ctx.moveTo(start[0], start[1]);\n      const jLen = data._length;\n      let j = 1;\n      for (; j < jLen; j++) {\n        const oj = data.o[j - 1];\n        const ij = data.i[j];\n        const vj = data.v[j];\n        ctx.bezierCurveTo(oj[0], oj[1], ij[0], ij[1], vj[0], vj[1]);\n      }\n      const oj = data.o[j - 1];\n      const ij = data.i[0];\n      const vj = data.v[0];\n      ctx.bezierCurveTo(oj[0], oj[1], ij[0], ij[1], vj[0], vj[1]);\n    }\n    ctx.clip();\n  }\n}\n\nexport default GraphicsMask;\n","// import {\n//   Container,\n//   Graphics,\n//   // Sprite,\n//   // Rectangle,\n//   // Matrix,\n// } from 'pixi.js';\nimport {Container} from '../../core/Container';\nimport GraphicsMask from './GraphicsMask';\n\n/**\n * NullElement class\n * @class\n * @private\n */\nexport default class CompElement extends Container {\n  /**\n   * NullElement constructor\n   * @param {object} elem layer data information\n   * @param {object} config layer data information\n   */\n  constructor(elem, config) {\n    super();\n    this.elem = elem;\n    this.config = config;\n    this.graphicsMasks = new GraphicsMask(elem, config);\n    this.addChild = this.adds;\n  }\n\n  /**\n   * a\n   * @param {*} parent a\n   */\n  setHierarchy(parent) {\n    this.hierarchy = parent;\n  }\n\n  /**\n   * a\n   */\n  show() {\n    this.visible = true;\n  }\n\n  /**\n   * a\n   */\n  hide() {\n    this.visible = false;\n  }\n\n  /**\n   * a\n   * @param {*} transform\n   */\n  updateLottieTransform(transform) {\n    this.x = transform.x;\n    this.y = transform.y;\n    this.pivotX = transform.anchorX;\n    this.pivotY = transform.anchorY;\n    this.scaleX = transform.scaleX;\n    this.scaleY = transform.scaleY;\n    this.rotation = transform.rotation;\n    this.alpha = transform.alpha;\n  }\n\n  /**\n   * a\n   * @param {*} masks a\n   */\n  updateLottieMasks(masks) {\n    if (!this.mask) {\n      this.mask = this.graphicsMasks;\n    }\n    this.mask.updateLottieMasks(masks);\n  }\n}\n","\nimport {Matrix, IDENTITY} from '../../math/Matrix';\nimport {Graphics} from '../../core/Graphics';\n\n/**\n * a\n * @param {*} v a\n * @return {string}\n */\nfunction rgbaToColor(v) {\n  return 'rgba(' + v.join(',') + ')';\n}\n\n/**\n * a\n */\nclass DrawShape {\n  /**\n   * a\n   */\n  constructor() {\n    this.primitive = null;\n    this.dashResetter = [];\n  }\n\n  /**\n   * a\n   * @param {*} ctx a\n   */\n  render(ctx) {\n    if (!this.primitive) return;\n    const primitive = this.primitive;\n    const type = primitive.type;\n\n    // Skipping style when\n    // Stroke width equals 0\n    // style should not be rendered (extra unused repeaters)\n    // current opacity equals 0\n    // global opacity equals 0\n    if (((type === 'st' || type === 'gs') && primitive.wi === 0) || !primitive.data._shouldRender || primitive.coOp === 0) {\n      return;\n    }\n    ctx.save();\n    const elems = primitive.elements;\n    if (type === 'st' || type === 'gs') {\n      ctx.strokeStyle = type === 'st' ? rgbaToColor(primitive.co) : primitive.grd;\n      ctx.lineWidth = primitive.wi;\n      ctx.lineCap = primitive.lc;\n      ctx.lineJoin = primitive.lj;\n      ctx.miterLimit = primitive.ml || 0;\n    } else {\n      ctx.fillStyle = type === 'fl' ? rgbaToColor(primitive.co) : primitive.grd;\n    }\n    // ctx.globalAlpha = primitive.coOp * this.finalTransform.mProp.o.v;\n    if (type !== 'st' && type !== 'gs') {\n      ctx.beginPath();\n    }\n    // const trProps = primitive.preTransforms.finalTransform.props;\n    // ctx.transform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\n    const jLen = elems.length;\n    for (let j = 0; j < jLen; j += 1) {\n      if (type === 'st' || type === 'gs') {\n        ctx.beginPath();\n        if (primitive.da) {\n          ctx.setLineDash(primitive.da);\n          ctx.lineDashOffset = primitive.do;\n        }\n      }\n      const nodes = elems[j].trNodes;\n      const kLen = nodes.length;\n\n      for (let k = 0; k < kLen; k++) {\n        if (nodes[k].t == 'm') {\n          ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\n        } else if (nodes[k].t == 'c') {\n          ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\n        } else {\n          ctx.closePath();\n        }\n      }\n      if (type === 'st' || type === 'gs') {\n        ctx.stroke();\n        if (primitive.da) {\n          ctx.setLineDash(this.dashResetter);\n        }\n      }\n    }\n    if (type !== 'st' && type !== 'gs') {\n      ctx.fill(primitive.r);\n    }\n    ctx.restore();\n  }\n}\n\n/**\n * NullElement class\n * @class\n * @private\n */\nexport default class PathPrimitive extends Graphics {\n  /**\n   * NullElement constructor\n   * @param {object} elem layer data information\n   * @param {object} config layer data information\n   */\n  constructor(elem, config) {\n    const drawShape = new DrawShape();\n    super(drawShape);\n    this.elem = elem;\n    this.config = config;\n\n    this.passMatrix = new Matrix();\n    this.drawShape = drawShape;\n  }\n\n  /**\n   * a\n   */\n  setSelfTransform() {\n    const trProps = this.elem.preTransforms.finalTransform.props;\n\n    if (window.acid > 0) {\n      window.acid--;\n      console.log(trProps);\n      console.log([trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]]);\n    }\n    this.passMatrix.fromArray([trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]]);\n    // this.transform.setFromMatrix(this.passMatrix);\n  }\n\n  /**\n   * 更新对象本身的矩阵姿态以及透明度\n   *\n   * @private\n   * @param {Matrix} rootMatrix\n   */\n  updateTransform(rootMatrix) {\n    this.setSelfTransform();\n\n    const pt = rootMatrix || (this.hierarchy && this.hierarchy.worldTransform) || (this.parent && this.parent.worldTransform) || IDENTITY;\n    const worldAlpha = (this.parent && this.parent.worldAlpha) || 1;\n\n    const st = this.passMatrix;\n    const wt = this.worldTransform;\n    wt.a = st.a * pt.a + st.b * pt.c;\n    wt.b = st.a * pt.b + st.b * pt.d;\n    wt.c = st.c * pt.a + st.d * pt.c;\n    wt.d = st.c * pt.b + st.d * pt.d;\n    wt.tx = st.tx * pt.a + st.ty * pt.c + pt.tx;\n    wt.ty = st.tx * pt.b + st.ty * pt.d + pt.ty;\n\n    // multiply the alphas..\n    this.worldAlpha = this.alpha * worldAlpha;\n  }\n\n  /**\n   * a\n   * @param {*} grahpics a\n   */\n  updateLottieGrahpics(grahpics) {\n    this.drawShape.primitive = grahpics;\n    this.alpha = grahpics.coOp;\n  }\n}\n","// import {\n//   // Container,\n//   Graphics,\n//   // Sprite,\n//   // Rectangle,\n//   // Matrix,\n// } from 'pixi.js';\nimport GraphicsMask from './GraphicsMask';\nimport {Graphics} from '../../core/Graphics';\n\n/**\n * a\n */\nclass SolidRect {\n  /**\n   * a\n   * @param {*} fillColor a\n   * @param {*} width a\n   * @param {*} height a\n   */\n  constructor(fillColor, width, height) {\n    this.fillColor = fillColor;\n    this.width = width;\n    this.height = height;\n  }\n\n  /**\n   * a\n   * @param {*} ctx a\n   */\n  render(ctx) {\n    ctx.beginPath();\n    ctx.fillStyle = this.fillColor;\n    ctx.fillRect(0, 0, this.width, this.height);\n  }\n}\n\n/**\n * NullElement class\n * @class\n * @private\n */\nexport default class SolidElement extends Graphics {\n  /**\n   * NullElement constructor\n   * @param {object} elem layer data information\n   * @param {object} config layer data information\n   */\n  constructor(elem, config) {\n    const {color, rect} = config;\n    super(new SolidRect(color, rect.width, rect.height));\n    this.elem = elem;\n    this.config = config;\n    this.mask = new GraphicsMask(elem, config);\n    this.addChild = this.adds;\n  }\n\n  /**\n   * a\n   * @param {*} parent a\n   */\n  setHierarchy(parent) {\n    this.hierarchy = parent;\n  }\n\n  /**\n   * a\n   */\n  show() {\n    this.visible = true;\n  }\n\n  /**\n   * a\n   */\n  hide() {\n    this.visible = false;\n  }\n\n  /**\n   * a\n   * @param {*} transform\n   */\n  updateLottieTransform(transform) {\n    this.x = transform.x;\n    this.y = transform.y;\n    this.pivotX = transform.anchorX;\n    this.pivotY = transform.anchorY;\n    this.scaleX = transform.scaleX;\n    this.scaleY = transform.scaleY;\n    this.rotation = transform.rotation;\n    this.alpha = transform.alpha;\n  }\n\n  /**\n   * a\n   * @param {*} masks a\n   */\n  updateLottieMasks(masks) {\n    if (!this.mask) {\n      this.mask = this.graphicsMasks;\n    }\n    this.mask.updateLottieMasks(masks);\n  }\n}\n","// import {\n//   // Container,\n//   Graphics,\n//   Sprite,\n//   Rectangle,\n//   // Matrix,\n// } from 'pixi.js';\nimport {Sprite} from '../../core/Sprite';\nimport GraphicsMask from './GraphicsMask';\n\n/**\n * SpriteElement class\n * @class\n * @private\n */\nexport default class SpriteElement extends Sprite {\n  /**\n   * NullElement constructor\n   * @param {object} elem layer data information\n   * @param {object} config layer data information\n   */\n  constructor(elem, config) {\n    const {texture} = config;\n    super({texture});\n\n    this.elem = elem;\n    this.config = config;\n    this.graphicsMasks = new GraphicsMask(elem, config);\n    this.addChild = this.adds;\n  }\n\n  /**\n   * a\n   * @param {*} parent a\n   */\n  setHierarchy(parent) {\n    this.hierarchy = parent;\n  }\n\n  /**\n   * a\n   */\n  show() {\n    this.visible = true;\n  }\n\n  /**\n   * a\n   */\n  hide() {\n    this.visible = false;\n  }\n\n  /**\n   * a\n   * @param {*} transform\n   */\n  updateLottieTransform(transform) {\n    this.x = transform.x;\n    this.y = transform.y;\n    this.pivotX = transform.anchorX;\n    this.pivotY = transform.anchorY;\n    this.scaleX = transform.scaleX;\n    this.scaleY = transform.scaleY;\n    this.rotation = transform.rotation;\n    this.alpha = transform.alpha;\n  }\n\n  /**\n   * a\n   * @param {*} masks a\n   */\n  updateLottieMasks(masks) {\n    if (!this.mask) {\n      this.mask = this.graphicsMasks;\n    }\n    this.mask.updateLottieMasks(masks);\n  }\n}\n","import {\n  DisplayRegister,\n  LoaderRegister,\n} from '../lottie-core/index';\n\nimport {LottieLoader} from '../utils/Loader';\nLoaderRegister.registerLoader(LottieLoader);\n\nimport CompElement from './core/CompElement';\nimport PathPrimitive from './core/PathPrimitive';\n// import PathLottie from './core/PathLottie';\nimport SolidElement from './core/SolidElement';\nimport SpriteElement from './core/SpriteElement';\n\nDisplayRegister.setDisplayByType(DisplayRegister.Type.Null, CompElement);\nDisplayRegister.setDisplayByType(DisplayRegister.Type.Path, PathPrimitive);\n// DisplayRegister.setDisplayByType(DisplayRegister.Type.Path, PathLottie);\nDisplayRegister.setDisplayByType(DisplayRegister.Type.Shape, CompElement);\nDisplayRegister.setDisplayByType(DisplayRegister.Type.Solid, SolidElement);\nDisplayRegister.setDisplayByType(DisplayRegister.Type.Sprite, SpriteElement);\nDisplayRegister.setDisplayByType(DisplayRegister.Type.Container, CompElement);\n"],"names":["_rt","val","Object","prototype","toString","call","lastTime","vendors","x","length","window","requestAnimationFrame","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","RAF","CAF","ks","Tools","copyJSON","json","JSON","parse","stringify","isArray","variable","isString","isNumber","isFunction","isUndefined","isBoolean","isObject","euclideanModulo","n","m","codomainBounce","min","clamp","a","b","inRange","v","getAssets","assets","i","console","error","rgb2hex","rgb","Eventer","listeners","type","fn","this","push","cbs","splice","on","cb","ev","_this","off","cache","slice","reset","apply","Register","layers","name","layer","warn","LoaderClass","registerLoader","_LoaderClass","getLoader","completeLayers","comps","fontManager","layerData","k","kLen","data","len","completed","tt","td","hasMask","maskProps","masksProperties","jLen","j","pt","convertPathsToAbsoluteValues","s","e","ty","__used","findCompLayers","refId","completeShapes","arr","it","shapes","t","p","singleShape","path","o","checkVersion","minimum","animVersionString","animVersion","split","minimumVersion","checkText","animationData","iterateLayers","textLayer","documentData","d","checkChars","chars","pathData","paths","__converted","checkColors","iterateShapes","c","checkShapes","cl","closed","completeData","__complete","kSplineTableSize","kSampleStepSize","float32ArraySupported","Float32Array","A","aA1","aA2","B","calcBezier","aT","getSlope","BezierEasing","mX1","mY1","mX2","mY2","Error","sampleValues","Array","_preCompute","get","bind","_getTForX","aX","intervalStart","currentSample","lastSample","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","abs","binarySubdivide","beziers","createTypedArray","getBezierEasing","nm","str","replace","bezEasing","createSizedArray","Uint8ClampedArray","Int16Array","value","PoolFactory","initialLength","_create","_release","_length","_maxLength","pool","newElement","element","release","pooling","concat","PointPool","ShapePath","setLength","doubleArrayLength","y","pos","vX","vY","oX","oY","iX","iY","setXYAt","newPath","setPathData","vertices","outPoints","inPoints","init","setTripleAt","cnt","ShapePool","shapePath","clone","shape","cloned","undefined","ShapeCollection","shapeData","newShapeCollection","shapeCollection","DynamicPropertyContainer","_hasOutTypeExpression","container","outTypeExpressionMode","prop","dynamicProperties","indexOf","addDynamicProperty","_isAnimated","frameNum","_mdf","getValue","BezierLengthPool","addedLength","percents","lengths","SegmentsLengthPool","totalLength","defaultCurveSegments","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt1","pt2","pt3","pt4","curveSegments","point","lastPoint","lengthData","perc","ptDistance","ptCoord","pow","sqrt","BezierData","segmentLength","points","PointData","partial","partialLength","storedData","getDistancePerc","bezierData","initPos","floor","lengthPos","lPerc","dir","flag","bezierSegmentPoints","getSegmentsLength","segmentsLength","pathV","pathO","pathI","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","round","getPointInSegment","percent","buildBezierData","bezierName","pointOnLine3D","z1","z2","z3","dist1","dist2","dist3","diffDist","initialDefaultFrame","degToRads","PI","defaultVector","EX_REG","STR_REG","Cycle","begin","end","total","progress","Pingpong","space","pingpong","FN_MAPS","loopIn","datak","mode","offset","last","loopOut","parseEx","ex","rs","match","ps","map","test","parseInt","hasSupportExpression","ksp","getExpression","_offset","createQuaternion","values","heading","attitude","bank","c1","cos","c2","c3","s1","sin","s2","s3","BaseProperty","caching","newValue","propType","pv","keyData","nextKeyData","fnc","iterationIndex","lastIndex","keyframes","h","out","quat","qx","qy","qz","qw","omega","sinom","scale0","scale1","ax","ay","az","aw","bx","by","bz","bw","cosom","nextKeyTime","keyTime","to","bez","ti","ind","__fnct","BezierFactory","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","quatStart","quatEnd","endValue","sh","acos","atan2","asin","constructor","renderResult","initTime","endTime","_caching","initFrame","interpolateValue","multipliedValue","mult","expression","update","frameId","effectsSequence","lock","setVValue","_isFirstFrame","finalValue","kf","effectFunction","ValueProperty","elem","vel","processEffectsSequence","MultiDimensionalProperty","comp","_this2","KeyframedValueProperty","_this3","getValueAtCurrentTime","Expression","KeyframedMultidimensionalProperty","_this4","arrLen","getProp","BaseShapeProperty","previousValue","keyPropS","isHold","vertexValue","keyPropE","interpolateShape","localShapeCollection","shape1","shape2","shapesEqual","releaseShapes","addShape","log","ShapeProperty","ShapeCollectionPool","resetShape","KeyframedShapeProperty","interpolateShapeCurrentTime","EllShapeProperty","initDynamicPropertyContainer","PropertyFactory","convertEllToPath","iterateDynamicProperties","p0","p1","s0","_cw","_v","cPoint","StarShapeProperty","sy","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","r","or","os","rad","roundness","perimSegment","numPts","angle","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","_this5","convertRectToPath","v0","v1","_cos","_sin","_tan","_rnd","getShapeProp","getConstructorFunction","getKeyframedConstructorFunction","MaskFrames","session","viewData","hasMasks","ShapePropertyFactory","inv","Matrix","tan","rotate","rotateX","rotateY","rotateZ","skew","skewFromAxis","shear","scale","setTransform","translate","transform","applyToPoint","applyToX","applyToY","applyToZ","applyToPointArray","applyToTriplePoints","applyToPointStringified","toCSS","to2dCSS","cloneFromProps","equals","inversePoints","inversePoint","_t","isIdentity","_identity","_identityCalculated","props","mCos","mSin","sx","sz","f","g","l","tx","tz","a2","b2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_p","a1","b1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","matr","z","determinant","pts","retPts","p4","p5","p12","p13","cssValue","roundMatrixProperty","ProcessedElement","position","ShapeTransformManager","sequences","sequenceList","transform_key_count","transforms","key","sequence","finalTransform","isFirstFrame","mProps","processSequence","ShapeData","styles","transformsManager","styledShapes","tr","styledShape","addTransformSequence","trNodes","elements","display","Type","Null","Path","Shape","Solid","Sprite","Container","setDisplayByType","classFn","getDisplayByType","PathPaint","preTransforms","hd","displayType","DisplayRegister","addChild","updateLottieGrahpics","TransformProperty","pre","appliedTransformations","px","py","pz","rx","ry","rz","sk","sa","_isDirty","forceRender","v2","frameRate","precalculateMatrix","autoOriented","globalData","getValueAtTime","offsetTime","mat","getTransformProperty","ShapeModifier","addShapeToModifier","setAsAnimated","initModifierProperties","TrimModifier","sValue","eValue","processKeys","pathsData","shapeLength","totalModifierLength","segments","shapeS","shapeE","segmentOb","shapeSegments","_s","shapePaths","totalShapeLength","releasePathsData","edges","calculateShapeEdges","lastShape","newShapesData","addShapes","pop","addPaths","newPaths","newShape","shapeSegment","segmentCount","segment","currentLengthData","addSegment","addSegmentFromArray","roundCorner","RoundCornersModifier","rd","clonedPath","currentV","currentI","currentO","closerV","distance","newPosPerc","index","processPath","RepeaterModifier","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","_processed","resetElements","newElements","renderFlag","_render","changeGroupRender","copies","ceil","group","cloneElements","reloadShapes","cont","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","applyTransforms","items","itemsTransform","op","MouseModifier","positions","mouseCoords","theta","vValues","oValues","iValues","distV","distO","distI","dc","maxDist","mouseX","mouseY","localMouseCoords","globalToLocal","modifiers","registerModifier","factory","bezier","getModifier","DashProperty","dataProps","dashArray","dashoffset","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","comparePoints","ShapesFrames","keyframesManager","shapesData","stylesList","itemsData","prevViewData","shapeModifiers","processedElements","lcEnum","ljEnum","transformHelper","opacity","_opMdf","searchShapes","updateModifiers","processSequences","updateShape","updateGrahpics","styleElem","elementData","co","lc","lj","ml","w","wi","da","style","isAnimatedWithShape","processShapes","getNewKey","addShapeToModifiers","shouldRender","processedPos","modifier","currentTransform","ownStyles","ownModifiers","ownTransforms","searchProcessedElement","_shouldRender","createStyleElement","createGroupElement","createTransformElement","addTransformToStyleList","createShapeElement","ShapeModifiers","addProcessedElement","removeTransformFromStyleList","closeStyles","parentTransform","groupTransform","shapeNodes","groupTransformMat","pathNodes","itemData","updateStyledShape","styleData","coOp","grd","updateShapeTransform","updatePath","updateFill","updateStroke","updateGradientFill","TransformFrames","hs","KeyframesManager","masks","needUpdateOverlap","isOverlapMode","visible","local","global","isOverlapLayer","st","overlapMode","parseLayer","isVisible","_isParent","tm","inIpOpRange","ip","prepareProperties","_isRoot","show","hide","updateLottieTransform","updateLottieMasks","BaseElement","sr","bodymovin","hierarchy","lottieTreeParent","setHierarchy","updateFrame","updateDisplay","CompElement","maskComp","config","viewport","width","height","childNodes","initDisplayInstance","timeRemapped","node","SolidElement","rect","sw","color","sc","SpriteElement","loader","asset","texture","getTextureById","ShapeElement","NullElement","AnimationGroup","options","living","infinite","repeats","alternate","wait","delay","timeScale","_pf","Infinity","direction","_repeatsCut","_delayCut","_waitCut","_paused","DataManager","fr","prefix","frameMult","defaultSegment","segmentName","initSegment","beginFrame","endFrame","_tpf","duration","autoLoad","autoStart","images","filter","u","LoaderRegister","_imageLoadHandle","_cancelImageLoadHandle","once","register","LayerRegister","parentName","root","extraCompositions","rootDisplay","elementsMap","createElements","parent","nameHierarchy","item","setLayer","getLayer","child","getDisplayByName","removeChild","np","emit","snippetCache","isEnd","correctedFrameNum","updateTime","emitFrame","hadEnded","snippet","spill","bottomSpill","topSpill","frame","speed","replay","AnimationManager","app","paused","ticker","groups","start","argumentsLength","arguments","add","animate","now","timeline","Tween","Linear","None","Ease","In","Out","InOut","Bezier","Elastic","Back","Bounce","interactive","Utils","DTR","degree","RTD","radian","random","linear","smoothstep","smootherstep","Animate","resident","onComplete","onUpdate","Transition","from","ease","Curve","Point","PathMotion","lengthMode","attachTangent","_cacheRotate","rotation","_cacheVector","Bodymovin","tpf","tfs","ignoreProps","Queues","runner","runners","queues","cursor","then","Animation","animates","assign","create","waitCut","delayCut","pose","progressCache","repeatsCut","nextPose","pause","restart","stop","setSpeed","cancle","getPoint","getPointAt","getUtoTmapping","getPoints","divisions","isNaN","getSpacedPoints","getLength","getLengths","__arcLengthDivisions","cacheArcLengths","needsUpdate","current","sum","distanceTo","updateArcLengths","comparison","arcLengths","il","targetArcLength","low","high","lengthBefore","getTangent","t2","sub","normalize","getTangentAt","copy","set","addVectors","subVectors","lengthSq","divideScalar","scalar","multiplyScalar","distanceToSquared","dx","dy","dz","isFinite","cross","crossVectors","_rotate","decomposeRotate","preDegree","setProps","vector","pi","pivotX","anchorX","pivotY","anchorY","alpha","nextOne","_","time","timeSnippet","initOne","cc","clear","_addMove","motion","Texture","url","crossOrigin","loaded","hadload","lazy","resole","load","tagName","listen","Loader","textures","_total","_failed","_received","Image","src","addEventListener","defineProperty","naturalWidth","naturalHeight","srcMap","This","getById","LottieLoader","_load","Ticker","enableFPS","averageSnippet","fps","averageFps","_takeTime","_renderTimes","started","Rectangle","Bounds","minX","minY","maxX","maxY","Polygon","Circle","radius","Ellipse","forEach","up","createUrl","tick","loop","resume","EMPTY","contains","isEmpty","getRectangle","addPoint","addRect","addCircle","circle","addVert","addBounds","bounds","inside","xi","yi","xj","yj","getBounds","normx","normy","fromArray","array","toArray","transpose","newPos","applyInverse","tx1","append","identity","skewX","skewY","originX","originY","cr","nsx","pox","poy","IDENTITY","TEMP_MATRIX","SvgCurve","createPath","nodeName","getAttribute","getTotalLength","DisplayObject","worldAlpha","rotationCache","_sr","_cr","mask","worldTransform","passEvent","eventArea","animation","interactiveChildren","childs","_zIndex","souldSort","_bounds","vertexData","MovieClip","animations","preIndex","frames","preFrame","fillMode","nt","_width","_height","ready","upTexture","movieClip","FrameBuffer","canvas","document","createElement","ctx","getContext","createElementNS","setAttribute","getPointAtLength","_trackedPointers","keyFrames","removeMask","updateTransform","rootMatrix","wt","updateAnimation","globalAlpha","getGlobalPos","setArea","clock","clocked","zIndex","_sortList","temp","updateMovin","doc","_aniRoot","updateKeyframes","adds","object","remove","updateTimeline","updatePosture","render","save","renderMe","restore","calculateVertices","w0","w1","h0","calculateBounds","_calculateBounds","setBounds","interval","getFrame","row","lintRow","mCol","mRow","cf","playMovie","movie","format","conf","next","updateGeometry","drawImage","setSize","clearRect","getBuffer","buffer","getImageData","putBuffer","putImageData","Graphics","mesh","meshType","cached","frameBuffer","TextFace","text","fontStyle","fontWeight","fontSize","fontFamily","fillColor","strokeColor","textAlign","textBaseline","lineWidth","stroke","fill","Scene","__co","_drawBack","font","fillStyle","fillText","strokeStyle","strokeText","InteractionData","resolution","target","originalEvent","identifier","isPrimary","button","buttons","tiltX","tiltY","pointerType","pressure","rotationAngle","twist","tangentialPressure","event","InteractionEvent","stopped","currentTarget","InteractionTrackingData","pointerId","_pointerId","_flags","FLAGS","NONE","yn","flags","OVER","_doSet","RIGHT_DOWN","LEFT_DOWN","freeze","MOUSE_POINTER_ID","hitTestEvent","InteractionManager","renderer","autoPreventDefault","interactionFrequency","mouse","activeInteractionData","interactionDataPool","eventData","interactionDOMElement","moveWhenInside","eventsAdded","mouseOverRenderer","supportsTouchEvents","supportsPointerEvents","PointerEvent","onClick","processClick","onPointerUp","processPointerUp","onPointerCancel","processPointerCancel","onPointerDown","processPointerDown","onPointerMove","processPointerMove","onPointerOut","processPointerOverOut","onPointerOver","cursorStyles","pointer","currentCursorMode","_deltaTime","setTargetElement","globalPoint","processInteractive","removeEvents","addEvents","navigator","msPointerEnabled","removeEventListener","interactionData","interactionEvent","didMove","hasOwnProperty","configureInteractionEventForDOMEvent","currentScene","setCursorMode","displayObject","eventString","parentElement","getBoundingClientRect","left","top","func","hitTest","hit","interactiveParent","children","childHit","events","normalizeToPointerData","isNormalized","preventDefault","getInteractionDataForPointerId","triggerEvent","eventLen","isRightButton","trackedPointers","rightDown","leftDown","cancelled","eventAppend","releaseInteractionDataForPointerId","onPointerComplete","isDown","trackingData","isTouch","over","none","timeId","isMouse","_copyEvent","_reset","pointerEvent","mapPositionToPoint","clientX","clientY","globalX","globalY","normalizedEvents","TouchEvent","li","changedTouches","touch","touches","radiusX","radiusY","force","layerX","offsetX","layerY","offsetY","MouseEvent","removeAllListeners","_tempPoint","Renderer","dom","getElementById","querySelector","realWidth","realHeight","backgroundColor","autoClear","autoStyle","_resolution","interactionManager","_enableinteractive","interactionUpdate","interactiveOnChange","enableinteractive","Application","scene","resize","GraphicsMask","beginPath","size","moveTo","lineTo","oj","ij","vj","bezierCurveTo","clip","graphicsMasks","rgbaToColor","join","DrawShape","primitive","dashResetter","elems","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","nodes","closePath","PathPrimitive","drawShape","passMatrix","trProps","acid","setSelfTransform","grahpics","SolidRect","fillRect"],"mappings":"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"}